var analyticstxtParser=(()=>{var sc=Object.defineProperty,ic=Object.defineProperties;var ac=Object.getOwnPropertyDescriptors;var qi=Object.getOwnPropertySymbols;var oc=Object.prototype.hasOwnProperty,uc=Object.prototype.propertyIsEnumerable;var ji=(t,e,r)=>e in t?sc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ee=(t,e)=>{for(var r in e||(e={}))oc.call(e,r)&&ji(t,r,e[r]);if(qi)for(var r of qi(e))uc.call(e,r)&&ji(t,r,e[r]);return t},de=(t,e)=>ic(t,ac(e));var w=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Dt=(t,e,r)=>new Promise((n,s)=>{var i=d=>{try{u(r.next(d))}catch(f){s(f)}},a=d=>{try{u(r.throw(d))}catch(f){s(f)}},u=d=>d.done?n(d.value):Promise.resolve(d.value).then(i,a);u((r=r.apply(t,e)).next())});var Vt=w(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.regexpCode=Y.getProperty=Y.safeStringify=Y.stringify=Y.strConcat=Y.addCodeArg=Y.str=Y._=Y.nil=Y._Code=Y.Name=Y.IDENTIFIER=Y._CodeOrName=void 0;var kr=class{};Y._CodeOrName=kr;Y.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Mt=class extends kr{constructor(e){super();if(!Y.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Y.Name=Mt;var He=class extends kr{constructor(e){super();this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof Mt&&(r[n.str]=(r[n.str]||0)+1),r),{})}};Y._Code=He;Y.nil=new He("");function Ti(t,...e){let r=[t[0]],n=0;for(;n<e.length;)Sn(r,e[n]),r.push(t[++n]);return new He(r)}Y._=Ti;var bn=new He("+");function Ai(t,...e){let r=[cr(t[0])],n=0;for(;n<e.length;)r.push(bn),Sn(r,e[n]),r.push(bn,cr(t[++n]));return cc(r),new He(r)}Y.str=Ai;function Sn(t,e){e instanceof He?t.push(...e._items):e instanceof Mt?t.push(e):t.push(fc(e))}Y.addCodeArg=Sn;function cc(t){let e=1;for(;e<t.length-1;){if(t[e]===bn){let r=lc(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function lc(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Mt||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Mt))return`"${t}${e.slice(1)}`}function dc(t,e){return e.emptyStr()?t:t.emptyStr()?e:Ai`${t}${e}`}Y.strConcat=dc;function fc(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:cr(Array.isArray(t)?t.join(","):t)}function pc(t){return new He(cr(t))}Y.stringify=pc;function cr(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Y.safeStringify=cr;function mc(t){return typeof t=="string"&&Y.IDENTIFIER.test(t)?new He(`.${t}`):Ti`[${t}]`}Y.getProperty=mc;function hc(t){return new He(t.toString())}Y.regexpCode=hc});var Cn=w(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.ValueScope=ve.ValueScopeName=ve.Scope=ve.varKinds=ve.UsedValueState=void 0;var we=Vt(),Ii=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`);this.value=e.value}},Pn;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Pn=ve.UsedValueState||(ve.UsedValueState={}));ve.varKinds={const:new we.Name("const"),let:new we.Name("let"),var:new we.Name("var")};var On=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof we.Name?e:this.name(e)}name(e){return new we.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};ve.Scope=On;var Nn=class extends we.Name{constructor(e,r){super(r);this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=we._`.${new we.Name(r)}[${n}]`}};ve.ValueScopeName=Nn;var yc=we._`\n`,Ri=class extends On{constructor(e){super(e);this._values={},this._scope=e.scope,this.opts=de(ee({},e),{_n:e.lines?yc:we.nil})}get(){return this._scope}name(e){return new Nn(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(e),{prefix:i}=s,a=(n=r.key)!==null&&n!==void 0?n:r.ref,u=this._values[i];if(u){let p=u.get(a);if(p)return p}else u=this._values[i]=new Map;u.set(a,s);let d=this._scope[i]||(this._scope[i]=[]),f=d.length;return d[f]=r.ref,s.setValue(r,{property:i,itemIndex:f}),s}getValue(e,r){let n=this._values[e];if(!!n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return we._`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(e,r,n={},s){let i=we.nil;for(let a in e){let u=e[a];if(!u)continue;let d=n[a]=n[a]||new Map;u.forEach(f=>{if(d.has(f))return;d.set(f,Pn.Started);let p=r(f);if(p){let y=this.opts.es5?ve.varKinds.var:ve.varKinds.const;i=we._`${i}${y} ${f} = ${p};${this.opts._n}`}else if(p=s==null?void 0:s(f))i=we._`${i}${p}${this.opts._n}`;else throw new Ii(f);d.set(f,Pn.Completed)})}return i}};ve.ValueScope=Ri});var T=w(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.or=R.and=R.not=R.CodeGen=R.operators=R.varKinds=R.ValueScopeName=R.ValueScope=R.Scope=R.Name=R.regexpCode=R.stringify=R.getProperty=R.nil=R.strConcat=R.str=R._=void 0;var V=Vt(),Ie=Cn(),st=Vt();Object.defineProperty(R,"_",{enumerable:!0,get:function(){return st._}});Object.defineProperty(R,"str",{enumerable:!0,get:function(){return st.str}});Object.defineProperty(R,"strConcat",{enumerable:!0,get:function(){return st.strConcat}});Object.defineProperty(R,"nil",{enumerable:!0,get:function(){return st.nil}});Object.defineProperty(R,"getProperty",{enumerable:!0,get:function(){return st.getProperty}});Object.defineProperty(R,"stringify",{enumerable:!0,get:function(){return st.stringify}});Object.defineProperty(R,"regexpCode",{enumerable:!0,get:function(){return st.regexpCode}});Object.defineProperty(R,"Name",{enumerable:!0,get:function(){return st.Name}});var Dr=Cn();Object.defineProperty(R,"Scope",{enumerable:!0,get:function(){return Dr.Scope}});Object.defineProperty(R,"ValueScope",{enumerable:!0,get:function(){return Dr.ValueScope}});Object.defineProperty(R,"ValueScopeName",{enumerable:!0,get:function(){return Dr.ValueScopeName}});Object.defineProperty(R,"varKinds",{enumerable:!0,get:function(){return Dr.varKinds}});R.operators={GT:new V._Code(">"),GTE:new V._Code(">="),LT:new V._Code("<"),LTE:new V._Code("<="),EQ:new V._Code("==="),NEQ:new V._Code("!=="),NOT:new V._Code("!"),OR:new V._Code("||"),AND:new V._Code("&&"),ADD:new V._Code("+")};var it=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},ki=class extends it{constructor(e,r,n){super();this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?Ie.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(e,r){if(!!e[this.name.str])return this.rhs&&(this.rhs=zt(this.rhs,e,r)),this}get names(){return this.rhs instanceof V._CodeOrName?this.rhs.names:{}}},qn=class extends it{constructor(e,r,n){super();this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof V.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=zt(this.rhs,e,r),this}get names(){let e=this.lhs instanceof V.Name?{}:ee({},this.lhs.names);return xr(e,this.rhs)}},Di=class extends qn{constructor(e,r,n,s){super(e,n,s);this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Mi=class extends it{constructor(e){super();this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},Vi=class extends it{constructor(e){super();this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},Fi=class extends it{constructor(e){super();this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},zi=class extends it{constructor(e){super();this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=zt(this.code,e,r),this}get names(){return this.code instanceof V._CodeOrName?this.code.names:{}}},Mr=class extends it{constructor(e=[]){super();this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,s=n.length;for(;s--;){let i=n[s];i.optimizeNames(e,r)||($c(e,i.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>vt(e,r.names),{})}},at=class extends Mr{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Ui=class extends Mr{},lr=class extends at{};lr.kind="else";var Ge=class extends at{constructor(e,r){super(r);this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new lr(n):n}if(r)return e===!1?r instanceof Ge?r:r.nodes:this.nodes.length?this:new Ge(Gi(e),r instanceof Ge?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=zt(this.condition,e,r),this}get names(){let e=super.names;return xr(e,this.condition),this.else&&vt(e,this.else.names),e}};Ge.kind="if";var Ft=class extends at{};Ft.kind="for";var xi=class extends Ft{constructor(e){super();this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iteration=zt(this.iteration,e,r),this}get names(){return vt(super.names,this.iteration.names)}},Li=class extends Ft{constructor(e,r,n,s){super();this.varKind=e,this.name=r,this.from=n,this.to=s}render(e){let r=e.es5?Ie.varKinds.var:this.varKind,{name:n,from:s,to:i}=this;return`for(${r} ${n}=${s}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){let e=xr(super.names,this.from);return xr(e,this.to)}},jn=class extends Ft{constructor(e,r,n,s){super();this.loop=e,this.varKind=r,this.name=n,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iterable=zt(this.iterable,e,r),this}get names(){return vt(super.names,this.iterable.names)}},Vr=class extends at{constructor(e,r,n){super();this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Vr.kind="func";var Fr=class extends Mr{render(e){return"return "+super.render(e)}};Fr.kind="return";var Ki=class extends at{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,s;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(s=this.finally)===null||s===void 0||s.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&vt(e,this.catch.names),this.finally&&vt(e,this.finally.names),e}},zr=class extends at{constructor(e){super();this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};zr.kind="catch";var Ur=class extends at{render(e){return"finally"+super.render(e)}};Ur.kind="finally";var Hi=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=de(ee({},r),{_n:r.lines?`
`:""}),this._extScope=e,this._scope=new Ie.Scope({parent:e}),this._nodes=[new Ui]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,s){let i=this._scope.toName(r);return n!==void 0&&s&&(this._constants[i.str]=n),this._leafNode(new ki(e,i,n)),i}const(e,r,n){return this._def(Ie.varKinds.const,e,r,n)}let(e,r,n){return this._def(Ie.varKinds.let,e,r,n)}var(e,r,n){return this._def(Ie.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new qn(e,r,n))}add(e,r){return this._leafNode(new Di(e,R.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==V.nil&&this._leafNode(new zi(e)),this}object(...e){let r=["{"];for(let[n,s]of e)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),V.addCodeArg(r,s));return r.push("}"),new V._Code(r)}if(e,r,n){if(this._blockNode(new Ge(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Ge(e))}else(){return this._elseNode(new lr)}endIf(){return this._endBlockNode(Ge,lr)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new xi(e),r)}forRange(e,r,n,s,i=this.opts.es5?Ie.varKinds.var:Ie.varKinds.let){let a=this._scope.toName(e);return this._for(new Li(i,a,r,n),()=>s(a))}forOf(e,r,n,s=Ie.varKinds.const){let i=this._scope.toName(e);if(this.opts.es5){let a=r instanceof V.Name?r:this.var("_arr",r);return this.forRange("_i",0,V._`${a}.length`,u=>{this.var(i,V._`${a}[${u}]`),n(i)})}return this._for(new jn("of",s,i,r),()=>n(i))}forIn(e,r,n,s=this.opts.es5?Ie.varKinds.var:Ie.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,V._`Object.keys(${r})`,n);let i=this._scope.toName(e);return this._for(new jn("in",s,i,r),()=>n(i))}endFor(){return this._endBlockNode(Ft)}label(e){return this._leafNode(new Mi(e))}break(e){return this._leafNode(new Vi(e))}return(e){let r=new Fr;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Fr)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new Ki;if(this._blockNode(s),this.code(e),r){let i=this.name("e");this._currNode=s.catch=new zr(i),r(i)}return n&&(this._currNode=s.finally=new Ur,this.code(n)),this._endBlockNode(zr,Ur)}throw(e){return this._leafNode(new Fi(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=V.nil,n,s){return this._blockNode(new Vr(e,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(Vr)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Ge))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};R.CodeGen=Hi;function vt(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function xr(t,e){return e instanceof V._CodeOrName?vt(t,e.names):t}function zt(t,e,r){if(t instanceof V.Name)return n(t);if(!s(t))return t;return new V._Code(t._items.reduce((i,a)=>(a instanceof V.Name&&(a=n(a)),a instanceof V._Code?i.push(...a._items):i.push(a),i),[]));function n(i){let a=r[i.str];return a===void 0||e[i.str]!==1?i:(delete e[i.str],a)}function s(i){return i instanceof V._Code&&i._items.some(a=>a instanceof V.Name&&e[a.str]===1&&r[a.str]!==void 0)}}function $c(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function Gi(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:V._`!${Tn(t)}`}R.not=Gi;var gc=Ji(R.operators.AND);function vc(...t){return t.reduce(gc)}R.and=vc;var _c=Ji(R.operators.OR);function Ec(...t){return t.reduce(_c)}R.or=Ec;function Ji(t){return(e,r)=>e===V.nil?r:r===V.nil?e:V._`${Tn(e)} ${t} ${Tn(r)}`}function Tn(t){return t instanceof V.Name?t:V._`(${t})`}});var K=w(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.checkStrictMode=k.getErrorPath=k.Type=k.useFunc=k.setEvaluated=k.evaluatedPropsToName=k.mergeEvaluated=k.eachItem=k.unescapeJsonPointer=k.escapeJsonPointer=k.escapeFragment=k.unescapeFragment=k.schemaRefOrVal=k.schemaHasRulesButRef=k.schemaHasRules=k.checkUnknownRules=k.alwaysValidSchema=k.toHash=void 0;var te=T(),wc=Vt();function bc(t){let e={};for(let r of t)e[r]=!0;return e}k.toHash=bc;function Sc(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(Wi(t,e),!Yi(e,t.self.RULES.all))}k.alwaysValidSchema=Sc;function Wi(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let s=n.RULES.keywords;for(let i in e)s[i]||ta(t,`unknown keyword: "${i}"`)}k.checkUnknownRules=Wi;function Yi(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}k.schemaHasRules=Yi;function Pc(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}k.schemaHasRulesButRef=Pc;function Oc({topSchemaRef:t,schemaPath:e},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return te._`${r}`}return te._`${t}${e}${te.getProperty(n)}`}k.schemaRefOrVal=Oc;function Nc(t){return Bi(decodeURIComponent(t))}k.unescapeFragment=Nc;function Cc(t){return encodeURIComponent(An(t))}k.escapeFragment=Cc;function An(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}k.escapeJsonPointer=An;function Bi(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}k.unescapeJsonPointer=Bi;function qc(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}k.eachItem=qc;function Qi({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(s,i,a,u)=>{let d=a===void 0?i:a instanceof te.Name?(i instanceof te.Name?t(s,i,a):e(s,i,a),a):i instanceof te.Name?(e(s,a,i),i):r(i,a);return u===te.Name&&!(d instanceof te.Name)?n(s,d):d}}k.mergeEvaluated={props:Qi({mergeNames:(t,e,r)=>t.if(te._`${r} !== true && ${e} !== undefined`,()=>{t.if(te._`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,te._`${r} || {}`).code(te._`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if(te._`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,te._`${r} || {}`),In(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:ee(ee({},t),e),resultToName:Xi}),items:Qi({mergeNames:(t,e,r)=>t.if(te._`${r} !== true && ${e} !== undefined`,()=>t.assign(r,te._`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if(te._`${r} !== true`,()=>t.assign(r,e===!0?!0:te._`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function Xi(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",te._`{}`);return e!==void 0&&In(t,r,e),r}k.evaluatedPropsToName=Xi;function In(t,e,r){Object.keys(r).forEach(n=>t.assign(te._`${e}${te.getProperty(n)}`,!0))}k.setEvaluated=In;var Zi={};function jc(t,e){return t.scopeValue("func",{ref:e,code:Zi[e.code]||(Zi[e.code]=new wc._Code(e.code))})}k.useFunc=jc;var ea;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(ea=k.Type||(k.Type={}));function Tc(t,e,r){if(t instanceof te.Name){let n=e===ea.Num;return r?n?te._`"[" + ${t} + "]"`:te._`"['" + ${t} + "']"`:n?te._`"/" + ${t}`:te._`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?te.getProperty(t).toString():"/"+An(t)}k.getErrorPath=Tc;function ta(t,e,r=t.opts.strictSchema){if(!!r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}k.checkStrictMode=ta});var Je=w(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});var ye=T(),Ac={data:new ye.Name("data"),valCxt:new ye.Name("valCxt"),instancePath:new ye.Name("instancePath"),parentData:new ye.Name("parentData"),parentDataProperty:new ye.Name("parentDataProperty"),rootData:new ye.Name("rootData"),dynamicAnchors:new ye.Name("dynamicAnchors"),vErrors:new ye.Name("vErrors"),errors:new ye.Name("errors"),this:new ye.Name("this"),self:new ye.Name("self"),scope:new ye.Name("scope"),json:new ye.Name("json"),jsonPos:new ye.Name("jsonPos"),jsonLen:new ye.Name("jsonLen"),jsonPart:new ye.Name("jsonPart")};Rn.default=Ac});var Ut=w($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.extendErrors=$e.resetErrorsCount=$e.reportExtraError=$e.reportError=$e.keyword$DataError=$e.keywordError=void 0;var z=T(),Lr=K(),_e=Je();$e.keywordError={message:({keyword:t})=>z.str`should pass "${t}" keyword validation`};$e.keyword$DataError={message:({keyword:t,schemaType:e})=>e?z.str`"${t}" keyword must be ${e} ($data)`:z.str`"${t}" keyword is invalid ($data)`};function Ic(t,e=$e.keywordError,r,n){let{it:s}=t,{gen:i,compositeRule:a,allErrors:u}=s,d=sa(t,e,r);(n!=null?n:a||u)?ra(i,d):na(s,z._`[${d}]`)}$e.reportError=Ic;function Rc(t,e=$e.keywordError,r){let{it:n}=t,{gen:s,compositeRule:i,allErrors:a}=n,u=sa(t,e,r);ra(s,u),i||a||na(n,_e.default.vErrors)}$e.reportExtraError=Rc;function kc(t,e){t.assign(_e.default.errors,e),t.if(z._`${_e.default.vErrors} !== null`,()=>t.if(e,()=>t.assign(z._`${_e.default.vErrors}.length`,e),()=>t.assign(_e.default.vErrors,null)))}$e.resetErrorsCount=kc;function Dc({gen:t,keyword:e,schemaValue:r,data:n,errsCount:s,it:i}){if(s===void 0)throw new Error("ajv implementation error");let a=t.name("err");t.forRange("i",s,_e.default.errors,u=>{t.const(a,z._`${_e.default.vErrors}[${u}]`),t.if(z._`${a}.instancePath === undefined`,()=>t.assign(z._`${a}.instancePath`,z.strConcat(_e.default.instancePath,i.errorPath))),t.assign(z._`${a}.schemaPath`,z.str`${i.errSchemaPath}/${e}`),i.opts.verbose&&(t.assign(z._`${a}.schema`,r),t.assign(z._`${a}.data`,n))})}$e.extendErrors=Dc;function ra(t,e){let r=t.const("err",e);t.if(z._`${_e.default.vErrors} === null`,()=>t.assign(_e.default.vErrors,z._`[${r}]`),z._`${_e.default.vErrors}.push(${r})`),t.code(z._`${_e.default.errors}++`)}function na(t,e){let{gen:r,validateName:n,schemaEnv:s}=t;s.$async?r.throw(z._`new ${t.ValidationError}(${e})`):(r.assign(z._`${n}.errors`,e),r.return(!1))}var _t={keyword:new z.Name("keyword"),schemaPath:new z.Name("schemaPath"),params:new z.Name("params"),propertyName:new z.Name("propertyName"),message:new z.Name("message"),schema:new z.Name("schema"),parentSchema:new z.Name("parentSchema")};function sa(t,e,r){let{createErrors:n}=t.it;return n===!1?z._`{}`:Mc(t,e,r)}function Mc(t,e,r={}){let{gen:n,it:s}=t,i=[Vc(s,r),Fc(t,r)];return zc(t,e,i),n.object(...i)}function Vc({errorPath:t},{instancePath:e}){let r=e?z.str`${t}${Lr.getErrorPath(e,Lr.Type.Str)}`:t;return[_e.default.instancePath,z.strConcat(_e.default.instancePath,r)]}function Fc({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let s=n?e:z.str`${e}/${t}`;return r&&(s=z.str`${s}${Lr.getErrorPath(r,Lr.Type.Str)}`),[_t.schemaPath,s]}function zc(t,{params:e,message:r},n){let{keyword:s,data:i,schemaValue:a,it:u}=t,{opts:d,propertyName:f,topSchemaRef:p,schemaPath:y}=u;n.push([_t.keyword,s],[_t.params,typeof e=="function"?e(t):e||z._`{}`]),d.messages&&n.push([_t.message,typeof r=="function"?r(t):r]),d.verbose&&n.push([_t.schema,a],[_t.parentSchema,z._`${p}${y}`],[_e.default.data,i]),f&&n.push([_t.propertyName,f])}});var aa=w(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.boolOrEmptySchema=xt.topBoolOrEmptySchema=void 0;var Uc=Ut(),xc=T(),Lc=Je(),Kc={message:"boolean schema is false"};function Hc(t){let{gen:e,schema:r,validateName:n}=t;r===!1?ia(t,!1):typeof r=="object"&&r.$async===!0?e.return(Lc.default.data):(e.assign(xc._`${n}.errors`,null),e.return(!0))}xt.topBoolOrEmptySchema=Hc;function Gc(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),ia(t)):r.var(e,!0)}xt.boolOrEmptySchema=Gc;function ia(t,e){let{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};Uc.reportError(s,Kc,void 0,e)}});var kn=w(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.getRules=Lt.isJSONType=void 0;var Jc=["string","number","integer","boolean","null","object","array"],Wc=new Set(Jc);function Yc(t){return typeof t=="string"&&Wc.has(t)}Lt.isJSONType=Yc;function Bc(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:de(ee({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Lt.getRules=Bc});var Dn=w(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.shouldUseRule=ot.shouldUseGroup=ot.schemaHasRulesForType=void 0;function Qc({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&oa(t,n)}ot.schemaHasRulesForType=Qc;function oa(t,e){return e.rules.some(r=>ua(t,r))}ot.shouldUseGroup=oa;function ua(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}ot.shouldUseRule=ua});var fr=w(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.reportTypeError=pe.checkDataTypes=pe.checkDataType=pe.coerceAndCheckDataType=pe.getJSONTypes=pe.getSchemaTypes=pe.DataType=void 0;var Xc=kn(),Zc=Dn(),el=Ut(),A=T(),ca=K(),dr;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(dr=pe.DataType||(pe.DataType={}));function tl(t){let e=la(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}pe.getSchemaTypes=tl;function la(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(Xc.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}pe.getJSONTypes=la;function rl(t,e){let{gen:r,data:n,opts:s}=t,i=nl(e,s.coerceTypes),a=e.length>0&&!(i.length===0&&e.length===1&&Zc.schemaHasRulesForType(t,e[0]));if(a){let u=Vn(e,n,s.strictNumbers,dr.Wrong);r.if(u,()=>{i.length?sl(t,e,i):Fn(t)})}return a}pe.coerceAndCheckDataType=rl;var da=new Set(["string","number","integer","boolean","null"]);function nl(t,e){return e?t.filter(r=>da.has(r)||e==="array"&&r==="array"):[]}function sl(t,e,r){let{gen:n,data:s,opts:i}=t,a=n.let("dataType",A._`typeof ${s}`),u=n.let("coerced",A._`undefined`);i.coerceTypes==="array"&&n.if(A._`${a} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,A._`${s}[0]`).assign(a,A._`typeof ${s}`).if(Vn(e,s,i.strictNumbers),()=>n.assign(u,s))),n.if(A._`${u} !== undefined`);for(let f of r)(da.has(f)||f==="array"&&i.coerceTypes==="array")&&d(f);n.else(),Fn(t),n.endIf(),n.if(A._`${u} !== undefined`,()=>{n.assign(s,u),il(t,u)});function d(f){switch(f){case"string":n.elseIf(A._`${a} == "number" || ${a} == "boolean"`).assign(u,A._`"" + ${s}`).elseIf(A._`${s} === null`).assign(u,A._`""`);return;case"number":n.elseIf(A._`${a} == "boolean" || ${s} === null
              || (${a} == "string" && ${s} && ${s} == +${s})`).assign(u,A._`+${s}`);return;case"integer":n.elseIf(A._`${a} === "boolean" || ${s} === null
              || (${a} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(u,A._`+${s}`);return;case"boolean":n.elseIf(A._`${s} === "false" || ${s} === 0 || ${s} === null`).assign(u,!1).elseIf(A._`${s} === "true" || ${s} === 1`).assign(u,!0);return;case"null":n.elseIf(A._`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(u,null);return;case"array":n.elseIf(A._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${s} === null`).assign(u,A._`[${s}]`)}}}function il({gen:t,parentData:e,parentDataProperty:r},n){t.if(A._`${e} !== undefined`,()=>t.assign(A._`${e}[${r}]`,n))}function Mn(t,e,r,n=dr.Correct){let s=n===dr.Correct?A.operators.EQ:A.operators.NEQ,i;switch(t){case"null":return A._`${e} ${s} null`;case"array":i=A._`Array.isArray(${e})`;break;case"object":i=A._`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":i=a(A._`!(${e} % 1) && !isNaN(${e})`);break;case"number":i=a();break;default:return A._`typeof ${e} ${s} ${t}`}return n===dr.Correct?i:A.not(i);function a(u=A.nil){return A.and(A._`typeof ${e} == "number"`,u,r?A._`isFinite(${e})`:A.nil)}}pe.checkDataType=Mn;function Vn(t,e,r,n){if(t.length===1)return Mn(t[0],e,r,n);let s,i=ca.toHash(t);if(i.array&&i.object){let a=A._`typeof ${e} != "object"`;s=i.null?a:A._`!${e} || ${a}`,delete i.null,delete i.array,delete i.object}else s=A.nil;i.number&&delete i.integer;for(let a in i)s=A.and(s,Mn(a,e,r,n));return s}pe.checkDataTypes=Vn;var al={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?A._`{type: ${t}}`:A._`{type: ${e}}`};function Fn(t){let e=ol(t);el.reportError(e,al)}pe.reportTypeError=Fn;function ol(t){let{gen:e,data:r,schema:n}=t,s=ca.schemaRefOrVal(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:t}}});var pa=w(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.assignDefaults=void 0;var Kt=T(),ul=K();function cl(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let s in r)fa(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,i)=>fa(t,i,s.default))}Kr.assignDefaults=cl;function fa(t,e,r){let{gen:n,compositeRule:s,data:i,opts:a}=t;if(r===void 0)return;let u=Kt._`${i}${Kt.getProperty(e)}`;if(s){ul.checkStrictMode(t,`default is ignored for: ${u}`);return}let d=Kt._`${u} === undefined`;a.useDefaults==="empty"&&(d=Kt._`${d} || ${u} === null || ${u} === ""`),n.if(d,Kt._`${u} = ${Kt.stringify(r)}`)}});var Te=w(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.validateUnion=X.validateArray=X.usePattern=X.callValidateCode=X.schemaProperties=X.allSchemaProperties=X.noPropertyInData=X.propertyInData=X.isOwnProperty=X.hasPropFunc=X.reportMissingProp=X.checkMissingProp=X.checkReportMissingProp=void 0;var ne=T(),zn=K(),ut=Je();function ll(t,e){let{gen:r,data:n,it:s}=t;r.if(xn(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:ne._`${e}`},!0),t.error()})}X.checkReportMissingProp=ll;function dl({gen:t,data:e,it:{opts:r}},n,s){return ne.or(...n.map(i=>ne.and(xn(t,e,i,r.ownProperties),ne._`${s} = ${i}`)))}X.checkMissingProp=dl;function fl(t,e){t.setParams({missingProperty:e},!0),t.error()}X.reportMissingProp=fl;function ma(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:ne._`Object.prototype.hasOwnProperty`})}X.hasPropFunc=ma;function Un(t,e,r){return ne._`${ma(t)}.call(${e}, ${r})`}X.isOwnProperty=Un;function pl(t,e,r,n){let s=ne._`${e}${ne.getProperty(r)} !== undefined`;return n?ne._`${s} && ${Un(t,e,r)}`:s}X.propertyInData=pl;function xn(t,e,r,n){let s=ne._`${e}${ne.getProperty(r)} === undefined`;return n?ne.or(s,ne.not(Un(t,e,r))):s}X.noPropertyInData=xn;function ha(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}X.allSchemaProperties=ha;function ml(t,e){return ha(e).filter(r=>!zn.alwaysValidSchema(t,e[r]))}X.schemaProperties=ml;function hl({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:a},u,d,f){let p=f?ne._`${t}, ${e}, ${n}${s}`:e,y=[[ut.default.instancePath,ne.strConcat(ut.default.instancePath,i)],[ut.default.parentData,a.parentData],[ut.default.parentDataProperty,a.parentDataProperty],[ut.default.rootData,ut.default.rootData]];a.opts.dynamicRef&&y.push([ut.default.dynamicAnchors,ut.default.dynamicAnchors]);let v=ne._`${p}, ${r.object(...y)}`;return d!==ne.nil?ne._`${u}.call(${d}, ${v})`:ne._`${u}(${v})`}X.callValidateCode=hl;function yl({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"";return t.scopeValue("pattern",{key:r,ref:new RegExp(r,n),code:ne._`new RegExp(${r}, ${n})`})}X.usePattern=yl;function $l(t){let{gen:e,data:r,keyword:n,it:s}=t,i=e.name("valid");if(s.allErrors){let u=e.let("valid",!0);return a(()=>e.assign(u,!1)),u}return e.var(i,!0),a(()=>e.break()),i;function a(u){let d=e.const("len",ne._`${r}.length`);e.forRange("i",0,d,f=>{t.subschema({keyword:n,dataProp:f,dataPropType:zn.Type.Num},i),e.if(ne.not(i),u)})}}X.validateArray=$l;function gl(t){let{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>zn.alwaysValidSchema(s,d))&&!s.opts.unevaluated)return;let a=e.let("valid",!1),u=e.name("_valid");e.block(()=>r.forEach((d,f)=>{let p=t.subschema({keyword:n,schemaProp:f,compositeRule:!0},u);e.assign(a,ne._`${a} || ${u}`),t.mergeValidEvaluated(p,u)||e.if(ne.not(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}X.validateUnion=gl});var ga=w(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.validateKeywordUsage=We.validSchemaType=We.funcKeywordCode=We.macroKeywordCode=void 0;var Ee=T(),Et=Je(),vl=Te(),_l=Ut();function El(t,e){let{gen:r,keyword:n,schema:s,parentSchema:i,it:a}=t,u=e.macro.call(a.self,s,i,a),d=$a(r,n,u);a.opts.validateSchema!==!1&&a.self.validateSchema(u,!0);let f=r.name("valid");t.subschema({schema:u,schemaPath:Ee.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:d,compositeRule:!0},f),t.pass(f,()=>t.error(!0))}We.macroKeywordCode=El;function wl(t,e){var r;let{gen:n,keyword:s,schema:i,parentSchema:a,$data:u,it:d}=t;Sl(d,e);let f=!u&&e.compile?e.compile.call(d.self,i,a,d):e.validate,p=$a(n,s,f),y=n.let("valid");t.block$data(y,v),t.ok((r=e.valid)!==null&&r!==void 0?r:y);function v(){if(e.errors===!1)E(),e.modifying&&ya(t),_(()=>t.error());else{let S=e.async?g():$();e.modifying&&ya(t),_(()=>bl(t,S))}}function g(){let S=n.let("ruleErrs",null);return n.try(()=>E(Ee._`await `),M=>n.assign(y,!1).if(Ee._`${M} instanceof ${d.ValidationError}`,()=>n.assign(S,Ee._`${M}.errors`),()=>n.throw(M))),S}function $(){let S=Ee._`${p}.errors`;return n.assign(S,null),E(Ee.nil),S}function E(S=e.async?Ee._`await `:Ee.nil){let M=d.opts.passContext?Et.default.this:Et.default.self,ae=!("compile"in e&&!u||e.schema===!1);n.assign(y,Ee._`${S}${vl.callValidateCode(t,p,M,ae)}`,e.modifying)}function _(S){var M;n.if(Ee.not((M=e.valid)!==null&&M!==void 0?M:y),S)}}We.funcKeywordCode=wl;function ya(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,Ee._`${n.parentData}[${n.parentDataProperty}]`))}function bl(t,e){let{gen:r}=t;r.if(Ee._`Array.isArray(${e})`,()=>{r.assign(Et.default.vErrors,Ee._`${Et.default.vErrors} === null ? ${e} : ${Et.default.vErrors}.concat(${e})`).assign(Et.default.errors,Ee._`${Et.default.vErrors}.length`),_l.extendErrors(t)},()=>t.error())}function Sl({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function $a(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:Ee.stringify(r)})}function Pl(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}We.validSchemaType=Pl;function Ol({schema:t,opts:e,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");let a=s.dependencies;if(a==null?void 0:a.some(u=>!Object.prototype.hasOwnProperty.call(t,u)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[i])){let d=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(d);else throw new Error(d)}}We.validateKeywordUsage=Ol});var _a=w(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.extendSubschemaMode=ct.extendSubschemaData=ct.getSubschema=void 0;var Ye=T(),va=K();function Nl(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:a}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let u=t.schema[e];return r===void 0?{schema:u,schemaPath:Ye._`${t.schemaPath}${Ye.getProperty(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:u[r],schemaPath:Ye._`${t.schemaPath}${Ye.getProperty(e)}${Ye.getProperty(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${va.escapeFragment(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}ct.getSubschema=Nl;function Cl(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:a}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:u}=e;if(r!==void 0){let{errorPath:f,dataPathArr:p,opts:y}=e,v=u.let("data",Ye._`${e.data}${Ye.getProperty(r)}`,!0);d(v),t.errorPath=Ye.str`${f}${va.getErrorPath(r,n,y.jsPropertySyntax)}`,t.parentDataProperty=Ye._`${r}`,t.dataPathArr=[...p,t.parentDataProperty]}if(s!==void 0){let f=s instanceof Ye.Name?s:u.let("data",s,!0);d(f),a!==void 0&&(t.propertyName=a)}i&&(t.dataTypes=i);function d(f){t.data=f,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,f]}}ct.extendSubschemaData=Cl;function ql(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),i!==void 0&&(t.allErrors=i),t.jtdDiscriminator=e,t.jtdMetadata=r}ct.extendSubschemaMode=ql});var Ln=w((Xm,Ea)=>{"use strict";Ea.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!=0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!=0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!=0;){var a=i[s];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r}});var ba=w((Zm,wa)=>{"use strict";var lt=wa.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Hr(e,n,s,t,"",t)};lt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};lt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};lt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};lt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Hr(t,e,r,n,s,i,a,u,d,f){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,i,a,u,d,f);for(var p in n){var y=n[p];if(Array.isArray(y)){if(p in lt.arrayKeywords)for(var v=0;v<y.length;v++)Hr(t,e,r,y[v],s+"/"+p+"/"+v,i,s,p,n,v)}else if(p in lt.propsKeywords){if(y&&typeof y=="object")for(var g in y)Hr(t,e,r,y[g],s+"/"+p+"/"+jl(g),i,s,p,n,g)}else(p in lt.keywords||t.allKeys&&!(p in lt.skipKeywords))&&Hr(t,e,r,y,s+"/"+p,i,s,p,n)}r(n,s,i,a,u,d,f)}}function jl(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Kn=w((Gr,Sa)=>{(function(t,e){typeof Gr=="object"&&typeof Sa!="undefined"?e(Gr):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(Gr,function(t){"use strict";function e(){for(var c=arguments.length,o=Array(c),l=0;l<c;l++)o[l]=arguments[l];if(o.length>1){o[0]=o[0].slice(0,-1);for(var m=o.length-1,h=1;h<m;++h)o[h]=o[h].slice(1,-1);return o[m]=o[m].slice(1),o.join("")}else return o[0]}function r(c){return"(?:"+c+")"}function n(c){return c===void 0?"undefined":c===null?"null":Object.prototype.toString.call(c).split(" ").pop().split("]").shift().toLowerCase()}function s(c){return c.toUpperCase()}function i(c){return c!=null?c instanceof Array?c:typeof c.length!="number"||c.split||c.setInterval||c.call?[c]:Array.prototype.slice.call(c):[]}function a(c,o){var l=c;if(o)for(var m in o)l[m]=o[m];return l}function u(c){var o="[A-Za-z]",l="[\\x0D]",m="[0-9]",h="[\\x22]",P=e(m,"[A-Fa-f]"),j="[\\x0A]",U="[\\x20]",W=r(r("%[EFef]"+P+"%"+P+P+"%"+P+P)+"|"+r("%[89A-Fa-f]"+P+"%"+P+P)+"|"+r("%"+P+P)),ce="[\\:\\/\\?\\#\\[\\]\\@]",F="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",se=e(ce,F),le=c?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",re=c?"[\\uE000-\\uF8FF]":"[]",x=e(o,m,"[\\-\\.\\_\\~]",le),ie=r(o+e(o,m,"[\\+\\-\\.]")+"*"),Q=r(r(W+"|"+e(x,F,"[\\:]"))+"*"),yt=r(r("25[0-5]")+"|"+r("2[0-4]"+m)+"|"+r("1"+m+m)+"|"+r("[1-9]"+m)+"|"+m),Oe=r(r("25[0-5]")+"|"+r("2[0-4]"+m)+"|"+r("1"+m+m)+"|"+r("0?[1-9]"+m)+"|0?0?"+m),qe=r(Oe+"\\."+Oe+"\\."+Oe+"\\."+Oe),Z=r(P+"{1,4}"),Ne=r(r(Z+"\\:"+Z)+"|"+qe),je=r(r(Z+"\\:")+"{6}"+Ne),Ke=r("\\:\\:"+r(Z+"\\:")+"{5}"+Ne),$t=r(r(Z)+"?\\:\\:"+r(Z+"\\:")+"{4}"+Ne),et=r(r(r(Z+"\\:")+"{0,1}"+Z)+"?\\:\\:"+r(Z+"\\:")+"{3}"+Ne),sr=r(r(r(Z+"\\:")+"{0,2}"+Z)+"?\\:\\:"+r(Z+"\\:")+"{2}"+Ne),Ar=r(r(r(Z+"\\:")+"{0,3}"+Z)+"?\\:\\:"+Z+"\\:"+Ne),Ir=r(r(r(Z+"\\:")+"{0,4}"+Z)+"?\\:\\:"+Ne),jt=r(r(r(Z+"\\:")+"{0,5}"+Z)+"?\\:\\:"+Z),Tt=r(r(r(Z+"\\:")+"{0,6}"+Z)+"?\\:\\:"),tt=r([je,Ke,$t,et,sr,Ar,Ir,jt,Tt].join("|")),At=r(r(x+"|"+W)+"+"),En=r(tt+"\\%25"+At),gt=r(tt+r("\\%25|\\%(?!"+P+"{2})")+At),Qu=r("[vV]"+P+"+\\."+e(x,F,"[\\:]")+"+"),Xu=r("\\["+r(gt+"|"+tt+"|"+Qu)+"\\]"),Pi=r(r(W+"|"+e(x,F))+"*"),ir=r(Xu+"|"+qe+"(?!"+Pi+")|"+Pi),ar=r(m+"*"),Oi=r(r(Q+"@")+"?"+ir+r("\\:"+ar)+"?"),or=r(W+"|"+e(x,F,"[\\:\\@]")),Zu=r(or+"*"),Ni=r(or+"+"),ec=r(r(W+"|"+e(x,F,"[\\@]"))+"+"),rt=r(r("\\/"+Zu)+"*"),It=r("\\/"+r(Ni+rt)+"?"),wn=r(ec+rt),Rr=r(Ni+rt),Rt="(?!"+or+")",qm=r(rt+"|"+It+"|"+wn+"|"+Rr+"|"+Rt),kt=r(r(or+"|"+e("[\\/\\?]",re))+"*"),ur=r(r(or+"|[\\/\\?]")+"*"),Ci=r(r("\\/\\/"+Oi+rt)+"|"+It+"|"+Rr+"|"+Rt),tc=r(ie+"\\:"+Ci+r("\\?"+kt)+"?"+r("\\#"+ur)+"?"),rc=r(r("\\/\\/"+Oi+rt)+"|"+It+"|"+wn+"|"+Rt),nc=r(rc+r("\\?"+kt)+"?"+r("\\#"+ur)+"?"),jm=r(tc+"|"+nc),Tm=r(ie+"\\:"+Ci+r("\\?"+kt)+"?"),Am="^("+ie+")\\:"+r(r("\\/\\/("+r("("+Q+")@")+"?("+ir+")"+r("\\:("+ar+")")+"?)")+"?("+rt+"|"+It+"|"+Rr+"|"+Rt+")")+r("\\?("+kt+")")+"?"+r("\\#("+ur+")")+"?$",Im="^(){0}"+r(r("\\/\\/("+r("("+Q+")@")+"?("+ir+")"+r("\\:("+ar+")")+"?)")+"?("+rt+"|"+It+"|"+wn+"|"+Rt+")")+r("\\?("+kt+")")+"?"+r("\\#("+ur+")")+"?$",Rm="^("+ie+")\\:"+r(r("\\/\\/("+r("("+Q+")@")+"?("+ir+")"+r("\\:("+ar+")")+"?)")+"?("+rt+"|"+It+"|"+Rr+"|"+Rt+")")+r("\\?("+kt+")")+"?$",km="^"+r("\\#("+ur+")")+"?$",Dm="^"+r("("+Q+")@")+"?("+ir+")"+r("\\:("+ar+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",o,m,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",x,F),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",x,F),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",x,F),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",x,F),"g"),NOT_QUERY:new RegExp(e("[^\\%]",x,F,"[\\:\\@\\/\\?]",re),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",x,F,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",x,F),"g"),UNRESERVED:new RegExp(x,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",x,se),"g"),PCT_ENCODED:new RegExp(W,"g"),IPV4ADDRESS:new RegExp("^("+qe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+tt+")"+r(r("\\%25|\\%(?!"+P+"{2})")+"("+At+")")+"?\\]?$")}}var d=u(!1),f=u(!0),p=function(){function c(o,l){var m=[],h=!0,P=!1,j=void 0;try{for(var U=o[Symbol.iterator](),W;!(h=(W=U.next()).done)&&(m.push(W.value),!(l&&m.length===l));h=!0);}catch(ce){P=!0,j=ce}finally{try{!h&&U.return&&U.return()}finally{if(P)throw j}}return m}return function(o,l){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return c(o,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(c){if(Array.isArray(c)){for(var o=0,l=Array(c.length);o<c.length;o++)l[o]=c[o];return l}else return Array.from(c)},v=2147483647,g=36,$=1,E=26,_=38,S=700,M=72,ae=128,H="-",L=/^xn--/,O=/[^\0-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},G=g-$,B=Math.floor,oe=String.fromCharCode;function I(c){throw new RangeError(D[c])}function J(c,o){for(var l=[],m=c.length;m--;)l[m]=o(c[m]);return l}function Pe(c,o){var l=c.split("@"),m="";l.length>1&&(m=l[0]+"@",c=l[1]),c=c.replace(C,".");var h=c.split("."),P=J(h,o).join(".");return m+P}function ze(c){for(var o=[],l=0,m=c.length;l<m;){var h=c.charCodeAt(l++);if(h>=55296&&h<=56319&&l<m){var P=c.charCodeAt(l++);(P&64512)==56320?o.push(((h&1023)<<10)+(P&1023)+65536):(o.push(h),l--)}else o.push(h)}return o}var ge=function(o){return String.fromCodePoint.apply(String,y(o))},tr=function(o){return o-48<10?o-22:o-65<26?o-65:o-97<26?o-97:g},ui=function(o,l){return o+22+75*(o<26)-((l!=0)<<5)},ci=function(o,l,m){var h=0;for(o=m?B(o/S):o>>1,o+=B(o/l);o>G*E>>1;h+=g)o=B(o/G);return B(h+(G+1)*o/(o+_))},li=function(o){var l=[],m=o.length,h=0,P=ae,j=M,U=o.lastIndexOf(H);U<0&&(U=0);for(var W=0;W<U;++W)o.charCodeAt(W)>=128&&I("not-basic"),l.push(o.charCodeAt(W));for(var ce=U>0?U+1:0;ce<m;){for(var F=h,se=1,le=g;;le+=g){ce>=m&&I("invalid-input");var re=tr(o.charCodeAt(ce++));(re>=g||re>B((v-h)/se))&&I("overflow"),h+=re*se;var x=le<=j?$:le>=j+E?E:le-j;if(re<x)break;var ie=g-x;se>B(v/ie)&&I("overflow"),se*=ie}var Q=l.length+1;j=ci(h-F,Q,F==0),B(h/Q)>v-P&&I("overflow"),P+=B(h/Q),h%=Q,l.splice(h++,0,P)}return String.fromCodePoint.apply(String,l)},di=function(o){var l=[];o=ze(o);var m=o.length,h=ae,P=0,j=M,U=!0,W=!1,ce=void 0;try{for(var F=o[Symbol.iterator](),se;!(U=(se=F.next()).done);U=!0){var le=se.value;le<128&&l.push(oe(le))}}catch(gt){W=!0,ce=gt}finally{try{!U&&F.return&&F.return()}finally{if(W)throw ce}}var re=l.length,x=re;for(re&&l.push(H);x<m;){var ie=v,Q=!0,yt=!1,Oe=void 0;try{for(var qe=o[Symbol.iterator](),Z;!(Q=(Z=qe.next()).done);Q=!0){var Ne=Z.value;Ne>=h&&Ne<ie&&(ie=Ne)}}catch(gt){yt=!0,Oe=gt}finally{try{!Q&&qe.return&&qe.return()}finally{if(yt)throw Oe}}var je=x+1;ie-h>B((v-P)/je)&&I("overflow"),P+=(ie-h)*je,h=ie;var Ke=!0,$t=!1,et=void 0;try{for(var sr=o[Symbol.iterator](),Ar;!(Ke=(Ar=sr.next()).done);Ke=!0){var Ir=Ar.value;if(Ir<h&&++P>v&&I("overflow"),Ir==h){for(var jt=P,Tt=g;;Tt+=g){var tt=Tt<=j?$:Tt>=j+E?E:Tt-j;if(jt<tt)break;var At=jt-tt,En=g-tt;l.push(oe(ui(tt+At%En,0))),jt=B(At/En)}l.push(oe(ui(jt,0))),j=ci(P,je,x==re),P=0,++x}}}catch(gt){$t=!0,et=gt}finally{try{!Ke&&sr.return&&sr.return()}finally{if($t)throw et}}++P,++h}return l.join("")},qu=function(o){return Pe(o,function(l){return L.test(l)?li(l.slice(4).toLowerCase()):l})},ju=function(o){return Pe(o,function(l){return O.test(l)?"xn--"+di(l):l})},Ot={version:"2.1.0",ucs2:{decode:ze,encode:ge},decode:li,encode:di,toASCII:ju,toUnicode:qu},Ce={};function Ue(c){var o=c.charCodeAt(0),l=void 0;return o<16?l="%0"+o.toString(16).toUpperCase():o<128?l="%"+o.toString(16).toUpperCase():o<2048?l="%"+(o>>6|192).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase():l="%"+(o>>12|224).toString(16).toUpperCase()+"%"+(o>>6&63|128).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase(),l}function Nt(c){for(var o="",l=0,m=c.length;l<m;){var h=parseInt(c.substr(l+1,2),16);if(h<128)o+=String.fromCharCode(h),l+=3;else if(h>=194&&h<224){if(m-l>=6){var P=parseInt(c.substr(l+4,2),16);o+=String.fromCharCode((h&31)<<6|P&63)}else o+=c.substr(l,6);l+=6}else if(h>=224){if(m-l>=9){var j=parseInt(c.substr(l+4,2),16),U=parseInt(c.substr(l+7,2),16);o+=String.fromCharCode((h&15)<<12|(j&63)<<6|U&63)}else o+=c.substr(l,9);l+=9}else o+=c.substr(l,3),l+=3}return o}function $n(c,o){function l(m){var h=Nt(m);return h.match(o.UNRESERVED)?h:m}return c.scheme&&(c.scheme=String(c.scheme).replace(o.PCT_ENCODED,l).toLowerCase().replace(o.NOT_SCHEME,"")),c.userinfo!==void 0&&(c.userinfo=String(c.userinfo).replace(o.PCT_ENCODED,l).replace(o.NOT_USERINFO,Ue).replace(o.PCT_ENCODED,s)),c.host!==void 0&&(c.host=String(c.host).replace(o.PCT_ENCODED,l).toLowerCase().replace(o.NOT_HOST,Ue).replace(o.PCT_ENCODED,s)),c.path!==void 0&&(c.path=String(c.path).replace(o.PCT_ENCODED,l).replace(c.scheme?o.NOT_PATH:o.NOT_PATH_NOSCHEME,Ue).replace(o.PCT_ENCODED,s)),c.query!==void 0&&(c.query=String(c.query).replace(o.PCT_ENCODED,l).replace(o.NOT_QUERY,Ue).replace(o.PCT_ENCODED,s)),c.fragment!==void 0&&(c.fragment=String(c.fragment).replace(o.PCT_ENCODED,l).replace(o.NOT_FRAGMENT,Ue).replace(o.PCT_ENCODED,s)),c}function gn(c){return c.replace(/^0*(.*)/,"$1")||"0"}function vn(c,o){var l=c.match(o.IPV4ADDRESS)||[],m=p(l,2),h=m[1];return h?h.split(".").map(gn).join("."):c}function fi(c,o){var l=c.match(o.IPV6ADDRESS)||[],m=p(l,3),h=m[1],P=m[2];if(h){for(var j=h.toLowerCase().split("::").reverse(),U=p(j,2),W=U[0],ce=U[1],F=ce?ce.split(":").map(gn):[],se=W.split(":").map(gn),le=o.IPV4ADDRESS.test(se[se.length-1]),re=le?7:8,x=se.length-re,ie=Array(re),Q=0;Q<re;++Q)ie[Q]=F[Q]||se[x+Q]||"";le&&(ie[re-1]=vn(ie[re-1],o));var yt=ie.reduce(function(je,Ke,$t){if(!Ke||Ke==="0"){var et=je[je.length-1];et&&et.index+et.length===$t?et.length++:je.push({index:$t,length:1})}return je},[]),Oe=yt.sort(function(je,Ke){return Ke.length-je.length})[0],qe=void 0;if(Oe&&Oe.length>1){var Z=ie.slice(0,Oe.index),Ne=ie.slice(Oe.index+Oe.length);qe=Z.join(":")+"::"+Ne.join(":")}else qe=ie.join(":");return P&&(qe+="%"+P),qe}else return c}var Tu=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Au="".match(/(){0}/)[1]===void 0;function Xe(c){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l={},m=o.iri!==!1?f:d;o.reference==="suffix"&&(c=(o.scheme?o.scheme+":":"")+"//"+c);var h=c.match(Tu);if(h){Au?(l.scheme=h[1],l.userinfo=h[3],l.host=h[4],l.port=parseInt(h[5],10),l.path=h[6]||"",l.query=h[7],l.fragment=h[8],isNaN(l.port)&&(l.port=h[5])):(l.scheme=h[1]||void 0,l.userinfo=c.indexOf("@")!==-1?h[3]:void 0,l.host=c.indexOf("//")!==-1?h[4]:void 0,l.port=parseInt(h[5],10),l.path=h[6]||"",l.query=c.indexOf("?")!==-1?h[7]:void 0,l.fragment=c.indexOf("#")!==-1?h[8]:void 0,isNaN(l.port)&&(l.port=c.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?h[4]:void 0)),l.host&&(l.host=fi(vn(l.host,m),m)),l.scheme===void 0&&l.userinfo===void 0&&l.host===void 0&&l.port===void 0&&!l.path&&l.query===void 0?l.reference="same-document":l.scheme===void 0?l.reference="relative":l.fragment===void 0?l.reference="absolute":l.reference="uri",o.reference&&o.reference!=="suffix"&&o.reference!==l.reference&&(l.error=l.error||"URI is not a "+o.reference+" reference.");var P=Ce[(o.scheme||l.scheme||"").toLowerCase()];if(!o.unicodeSupport&&(!P||!P.unicodeSupport)){if(l.host&&(o.domainHost||P&&P.domainHost))try{l.host=Ot.toASCII(l.host.replace(m.PCT_ENCODED,Nt).toLowerCase())}catch(j){l.error=l.error||"Host's domain name can not be converted to ASCII via punycode: "+j}$n(l,d)}else $n(l,m);P&&P.parse&&P.parse(l,o)}else l.error=l.error||"URI can not be parsed.";return l}function Iu(c,o){var l=o.iri!==!1?f:d,m=[];return c.userinfo!==void 0&&(m.push(c.userinfo),m.push("@")),c.host!==void 0&&m.push(fi(vn(String(c.host),l),l).replace(l.IPV6ADDRESS,function(h,P,j){return"["+P+(j?"%25"+j:"")+"]"})),(typeof c.port=="number"||typeof c.port=="string")&&(m.push(":"),m.push(String(c.port))),m.length?m.join(""):void 0}var pi=/^\.\.?\//,mi=/^\/\.(\/|$)/,hi=/^\/\.\.(\/|$)/,Ru=/^\/?(?:.|\n)*?(?=\/|$)/;function Ct(c){for(var o=[];c.length;)if(c.match(pi))c=c.replace(pi,"");else if(c.match(mi))c=c.replace(mi,"/");else if(c.match(hi))c=c.replace(hi,"/"),o.pop();else if(c==="."||c==="..")c="";else{var l=c.match(Ru);if(l){var m=l[0];c=c.slice(m.length),o.push(m)}else throw new Error("Unexpected dot segment condition")}return o.join("")}function xe(c){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.iri?f:d,m=[],h=Ce[(o.scheme||c.scheme||"").toLowerCase()];if(h&&h.serialize&&h.serialize(c,o),c.host&&!l.IPV6ADDRESS.test(c.host)){if(o.domainHost||h&&h.domainHost)try{c.host=o.iri?Ot.toUnicode(c.host):Ot.toASCII(c.host.replace(l.PCT_ENCODED,Nt).toLowerCase())}catch(U){c.error=c.error||"Host's domain name can not be converted to "+(o.iri?"Unicode":"ASCII")+" via punycode: "+U}}$n(c,l),o.reference!=="suffix"&&c.scheme&&(m.push(c.scheme),m.push(":"));var P=Iu(c,o);if(P!==void 0&&(o.reference!=="suffix"&&m.push("//"),m.push(P),c.path&&c.path.charAt(0)!=="/"&&m.push("/")),c.path!==void 0){var j=c.path;!o.absolutePath&&(!h||!h.absolutePath)&&(j=Ct(j)),P===void 0&&(j=j.replace(/^\/\//,"/%2F")),m.push(j)}return c.query!==void 0&&(m.push("?"),m.push(c.query)),c.fragment!==void 0&&(m.push("#"),m.push(c.fragment)),m.join("")}function yi(c,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=arguments[3],h={};return m||(c=Xe(xe(c,l),l),o=Xe(xe(o,l),l)),l=l||{},!l.tolerant&&o.scheme?(h.scheme=o.scheme,h.userinfo=o.userinfo,h.host=o.host,h.port=o.port,h.path=Ct(o.path||""),h.query=o.query):(o.userinfo!==void 0||o.host!==void 0||o.port!==void 0?(h.userinfo=o.userinfo,h.host=o.host,h.port=o.port,h.path=Ct(o.path||""),h.query=o.query):(o.path?(o.path.charAt(0)==="/"?h.path=Ct(o.path):((c.userinfo!==void 0||c.host!==void 0||c.port!==void 0)&&!c.path?h.path="/"+o.path:c.path?h.path=c.path.slice(0,c.path.lastIndexOf("/")+1)+o.path:h.path=o.path,h.path=Ct(h.path)),h.query=o.query):(h.path=c.path,o.query!==void 0?h.query=o.query:h.query=c.query),h.userinfo=c.userinfo,h.host=c.host,h.port=c.port),h.scheme=c.scheme),h.fragment=o.fragment,h}function ku(c,o,l){var m=a({scheme:"null"},l);return xe(yi(Xe(c,m),Xe(o,m),m,!0),m)}function Du(c,o){return typeof c=="string"?c=xe(Xe(c,o),o):n(c)==="object"&&(c=Xe(xe(c,o),o)),c}function Mu(c,o,l){return typeof c=="string"?c=xe(Xe(c,l),l):n(c)==="object"&&(c=xe(c,l)),typeof o=="string"?o=xe(Xe(o,l),l):n(o)==="object"&&(o=xe(o,l)),c===o}function Vu(c,o){return c&&c.toString().replace(!o||!o.iri?d.ESCAPE:f.ESCAPE,Ue)}function Ze(c,o){return c&&c.toString().replace(!o||!o.iri?d.PCT_ENCODED:f.PCT_ENCODED,Nt)}var rr={scheme:"http",domainHost:!0,parse:function(o,l){return o.host||(o.error=o.error||"HTTP URIs must have a host."),o},serialize:function(o,l){var m=String(o.scheme).toLowerCase()==="https";return(o.port===(m?443:80)||o.port==="")&&(o.port=void 0),o.path||(o.path="/"),o}},$i={scheme:"https",domainHost:rr.domainHost,parse:rr.parse,serialize:rr.serialize};function gi(c){return typeof c.secure=="boolean"?c.secure:String(c.scheme).toLowerCase()==="wss"}var nr={scheme:"ws",domainHost:!0,parse:function(o,l){var m=o;return m.secure=gi(m),m.resourceName=(m.path||"/")+(m.query?"?"+m.query:""),m.path=void 0,m.query=void 0,m},serialize:function(o,l){if((o.port===(gi(o)?443:80)||o.port==="")&&(o.port=void 0),typeof o.secure=="boolean"&&(o.scheme=o.secure?"wss":"ws",o.secure=void 0),o.resourceName){var m=o.resourceName.split("?"),h=p(m,2),P=h[0],j=h[1];o.path=P&&P!=="/"?P:void 0,o.query=j,o.resourceName=void 0}return o.fragment=void 0,o}},vi={scheme:"wss",domainHost:nr.domainHost,parse:nr.parse,serialize:nr.serialize},Fu={},zu=!0,_i="[A-Za-z0-9\\-\\.\\_\\~"+(zu?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Le="[0-9A-Fa-f]",Uu=r(r("%[EFef]"+Le+"%"+Le+Le+"%"+Le+Le)+"|"+r("%[89A-Fa-f]"+Le+"%"+Le+Le)+"|"+r("%"+Le+Le)),xu="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Lu="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ku=e(Lu,'[\\"\\\\]'),Hu="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Gu=new RegExp(_i,"g"),qt=new RegExp(Uu,"g"),Ju=new RegExp(e("[^]",xu,"[\\.]",'[\\"]',Ku),"g"),Ei=new RegExp(e("[^]",_i,Hu),"g"),Wu=Ei;function _n(c){var o=Nt(c);return o.match(Gu)?o:c}var wi={scheme:"mailto",parse:function(o,l){var m=o,h=m.to=m.path?m.path.split(","):[];if(m.path=void 0,m.query){for(var P=!1,j={},U=m.query.split("&"),W=0,ce=U.length;W<ce;++W){var F=U[W].split("=");switch(F[0]){case"to":for(var se=F[1].split(","),le=0,re=se.length;le<re;++le)h.push(se[le]);break;case"subject":m.subject=Ze(F[1],l);break;case"body":m.body=Ze(F[1],l);break;default:P=!0,j[Ze(F[0],l)]=Ze(F[1],l);break}}P&&(m.headers=j)}m.query=void 0;for(var x=0,ie=h.length;x<ie;++x){var Q=h[x].split("@");if(Q[0]=Ze(Q[0]),l.unicodeSupport)Q[1]=Ze(Q[1],l).toLowerCase();else try{Q[1]=Ot.toASCII(Ze(Q[1],l).toLowerCase())}catch(yt){m.error=m.error||"Email address's domain name can not be converted to ASCII via punycode: "+yt}h[x]=Q.join("@")}return m},serialize:function(o,l){var m=o,h=i(o.to);if(h){for(var P=0,j=h.length;P<j;++P){var U=String(h[P]),W=U.lastIndexOf("@"),ce=U.slice(0,W).replace(qt,_n).replace(qt,s).replace(Ju,Ue),F=U.slice(W+1);try{F=l.iri?Ot.toUnicode(F):Ot.toASCII(Ze(F,l).toLowerCase())}catch(x){m.error=m.error||"Email address's domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+x}h[P]=ce+"@"+F}m.path=h.join(",")}var se=o.headers=o.headers||{};o.subject&&(se.subject=o.subject),o.body&&(se.body=o.body);var le=[];for(var re in se)se[re]!==Fu[re]&&le.push(re.replace(qt,_n).replace(qt,s).replace(Ei,Ue)+"="+se[re].replace(qt,_n).replace(qt,s).replace(Wu,Ue));return le.length&&(m.query=le.join("&")),m}},Yu=/^([^\:]+)\:(.*)/,bi={scheme:"urn",parse:function(o,l){var m=o.path&&o.path.match(Yu),h=o;if(m){var P=l.scheme||h.scheme||"urn",j=m[1].toLowerCase(),U=m[2],W=P+":"+(l.nid||j),ce=Ce[W];h.nid=j,h.nss=U,h.path=void 0,ce&&(h=ce.parse(h,l))}else h.error=h.error||"URN can not be parsed.";return h},serialize:function(o,l){var m=l.scheme||o.scheme||"urn",h=o.nid,P=m+":"+(l.nid||h),j=Ce[P];j&&(o=j.serialize(o,l));var U=o,W=o.nss;return U.path=(h||l.nid)+":"+W,U}},Bu=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Si={scheme:"urn:uuid",parse:function(o,l){var m=o;return m.uuid=m.nss,m.nss=void 0,!l.tolerant&&(!m.uuid||!m.uuid.match(Bu))&&(m.error=m.error||"UUID is not valid."),m},serialize:function(o,l){var m=o;return m.nss=(o.uuid||"").toLowerCase(),m}};Ce[rr.scheme]=rr,Ce[$i.scheme]=$i,Ce[nr.scheme]=nr,Ce[vi.scheme]=vi,Ce[wi.scheme]=wi,Ce[bi.scheme]=bi,Ce[Si.scheme]=Si,t.SCHEMES=Ce,t.pctEncChar=Ue,t.pctDecChars=Nt,t.parse=Xe,t.removeDotSegments=Ct,t.serialize=xe,t.resolveComponents=yi,t.resolve=ku,t.normalize=Du,t.equal=Mu,t.escapeComponent=Vu,t.unescapeComponent=Ze,Object.defineProperty(t,"__esModule",{value:!0})})});var pr=w(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.getSchemaRefs=be.resolveUrl=be.normalizeId=be._getFullPath=be.getFullPath=be.inlineRef=void 0;var Tl=K(),Al=Ln(),Il=ba(),Jr=Kn(),Rl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function kl(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Hn(t):e?Pa(t)<=e:!1}be.inlineRef=kl;var Dl=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Hn(t){for(let e in t){if(Dl.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(Hn)||typeof r=="object"&&Hn(r))return!0}return!1}function Pa(t){let e=0;for(let r in t){if(r==="$ref")return Infinity;if(e++,!Rl.has(r)&&(typeof t[r]=="object"&&Tl.eachItem(t[r],n=>e+=Pa(n)),e===Infinity))return Infinity}return e}function Oa(t="",e){e!==!1&&(t=Ht(t));let r=Jr.parse(t);return Na(r)}be.getFullPath=Oa;function Na(t){return Jr.serialize(t).split("#")[0]+"#"}be._getFullPath=Na;var Ml=/#\/?$/;function Ht(t){return t?t.replace(Ml,""):""}be.normalizeId=Ht;function Vl(t,e){return e=Ht(e),Jr.resolve(t,e)}be.resolveUrl=Vl;var Fl=/^[a-z_][-a-z0-9._]*$/i;function zl(t){if(typeof t=="boolean")return{};let e=Ht(t.$id),r={"":e},n=Oa(e,!1),s={},i=new Set;return Il(t,{allKeys:!0},(d,f,p,y)=>{if(y===void 0)return;let v=n+f,g=r[y];typeof d.$id=="string"&&(g=$.call(this,d.$id)),E.call(this,d.$anchor),E.call(this,d.$dynamicAnchor),r[f]=g;function $(_){if(_=Ht(g?Jr.resolve(g,_):_),i.has(_))throw u(_);i.add(_);let S=this.refs[_];return typeof S=="string"&&(S=this.refs[S]),typeof S=="object"?a(d,S.schema,_):_!==Ht(v)&&(_[0]==="#"?(a(d,s[_],_),s[_]=d):this.refs[_]=v),_}function E(_){if(typeof _=="string"){if(!Fl.test(_))throw new Error(`invalid anchor "${_}"`);$.call(this,`#${_}`)}}}),s;function a(d,f,p){if(f!==void 0&&!Al(d,f))throw u(p)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}be.getSchemaRefs=zl});var Gt=w(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.getData=dt.KeywordCxt=dt.validateFunctionCode=void 0;var Ca=aa(),qa=fr(),Gn=Dn(),Wr=fr(),Ul=pa(),mr=ga(),Jn=_a(),N=T(),q=Je(),xl=pr(),nt=K(),hr=Ut();function Ll(t){if(Ia(t)&&(Ra(t),Aa(t))){Gl(t);return}ja(t,()=>Ca.topBoolOrEmptySchema(t))}dt.validateFunctionCode=Ll;function ja({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},i){s.code.es5?t.func(e,N._`${q.default.data}, ${q.default.valCxt}`,n.$async,()=>{t.code(N._`"use strict"; ${Ta(r,s)}`),Hl(t,s),t.code(i)}):t.func(e,N._`${q.default.data}, ${Kl(s)}`,n.$async,()=>t.code(Ta(r,s)).code(i))}function Kl(t){return N._`{${q.default.instancePath}="", ${q.default.parentData}, ${q.default.parentDataProperty}, ${q.default.rootData}=${q.default.data}${t.dynamicRef?N._`, ${q.default.dynamicAnchors}={}`:N.nil}}={}`}function Hl(t,e){t.if(q.default.valCxt,()=>{t.var(q.default.instancePath,N._`${q.default.valCxt}.${q.default.instancePath}`),t.var(q.default.parentData,N._`${q.default.valCxt}.${q.default.parentData}`),t.var(q.default.parentDataProperty,N._`${q.default.valCxt}.${q.default.parentDataProperty}`),t.var(q.default.rootData,N._`${q.default.valCxt}.${q.default.rootData}`),e.dynamicRef&&t.var(q.default.dynamicAnchors,N._`${q.default.valCxt}.${q.default.dynamicAnchors}`)},()=>{t.var(q.default.instancePath,N._`""`),t.var(q.default.parentData,N._`undefined`),t.var(q.default.parentDataProperty,N._`undefined`),t.var(q.default.rootData,q.default.data),e.dynamicRef&&t.var(q.default.dynamicAnchors,N._`{}`)})}function Gl(t){let{schema:e,opts:r,gen:n}=t;ja(t,()=>{r.$comment&&e.$comment&&Da(t),Ql(t),n.let(q.default.vErrors,null),n.let(q.default.errors,0),r.unevaluated&&Jl(t),ka(t),ed(t)})}function Jl(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",N._`${r}.evaluated`),e.if(N._`${t.evaluated}.dynamicProps`,()=>e.assign(N._`${t.evaluated}.props`,N._`undefined`)),e.if(N._`${t.evaluated}.dynamicItems`,()=>e.assign(N._`${t.evaluated}.items`,N._`undefined`))}function Ta(t,e){return typeof t=="object"&&t.$id&&(e.code.source||e.code.process)?N._`/*# sourceURL=${t.$id} */`:N.nil}function Wl(t,e){if(Ia(t)&&(Ra(t),Aa(t))){Yl(t,e);return}Ca.boolOrEmptySchema(t,e)}function Aa({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function Ia(t){return typeof t.schema!="boolean"}function Yl(t,e){let{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&Da(t),Xl(t),Zl(t);let i=n.const("_errs",q.default.errors);ka(t,i),n.var(e,N._`${i} === ${q.default.errors}`)}function Ra(t){nt.checkUnknownRules(t),Bl(t)}function ka(t,e){if(t.opts.jtd)return Ma(t,[],!1,e);let r=qa.getSchemaTypes(t.schema),n=qa.coerceAndCheckDataType(t,r);Ma(t,r,!n,e)}function Bl(t){let{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&nt.schemaHasRulesButRef(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Ql(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&nt.checkStrictMode(t,"default is ignored in the schema root")}function Xl(t){t.schema.$id&&(t.baseId=xl.resolveUrl(t.baseId,t.schema.$id))}function Zl(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Da({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){let i=r.$comment;if(s.$comment===!0)t.code(N._`${q.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){let a=N.str`${n}/$comment`,u=t.scopeValue("root",{ref:e.root});t.code(N._`${q.default.self}.opts.$comment(${i}, ${a}, ${u}.schema)`)}}function ed(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=t;r.$async?e.if(N._`${q.default.errors} === 0`,()=>e.return(q.default.data),()=>e.throw(N._`new ${s}(${q.default.vErrors})`)):(e.assign(N._`${n}.errors`,q.default.vErrors),i.unevaluated&&td(t),e.return(N._`${q.default.errors} === 0`))}function td({gen:t,evaluated:e,props:r,items:n}){r instanceof N.Name&&t.assign(N._`${e}.props`,r),n instanceof N.Name&&t.assign(N._`${e}.items`,n)}function Ma(t,e,r,n){let{gen:s,schema:i,data:a,allErrors:u,opts:d,self:f}=t,{RULES:p}=f;if(i.$ref&&(d.ignoreKeywordsWithRef||!nt.schemaHasRulesButRef(i,p))){s.block(()=>za(t,"$ref",p.all.$ref.definition));return}d.jtd||rd(t,e),s.block(()=>{for(let v of p.rules)y(v);y(p.post)});function y(v){!Gn.shouldUseGroup(i,v)||(v.type?(s.if(Wr.checkDataType(v.type,a,d.strictNumbers)),Va(t,v),e.length===1&&e[0]===v.type&&r&&(s.else(),Wr.reportTypeError(t)),s.endIf()):Va(t,v),u||s.if(N._`${q.default.errors} === ${n||0}`))}}function Va(t,e){let{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&Ul.assignDefaults(t,e.type),r.block(()=>{for(let i of e.rules)Gn.shouldUseRule(n,i)&&za(t,i.keyword,i.definition,e.type)})}function rd(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(nd(t,e),t.opts.allowUnionTypes||sd(t,e),id(t,t.dataTypes))}function nd(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Fa(t.dataTypes,r)||Wn(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>Fa(e,r))}}function sd(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Wn(t,"use allowUnionTypes to allow union type keyword")}function id(t,e){let r=t.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&Gn.shouldUseRule(t.schema,s)){let{type:i}=s.definition;i.length&&!i.some(a=>ad(e,a))&&Wn(t,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function ad(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Fa(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Wn(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,nt.checkStrictMode(t,e,t.opts.strictTypes)}var Yn=class{constructor(e,r,n){if(mr.validateKeywordUsage(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=nt.schemaRefOrVal(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Ua(this.$data,e));else if(this.schemaCode=this.schemaValue,!mr.validSchemaType(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",q.default.errors))}result(e,r,n){this.gen.if(N.not(e)),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.result(e,void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail(N._`${r} !== undefined && (${N.or(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?hr.reportExtraError:hr.reportError)(this,this.def.error,r)}$dataError(){hr.reportError(this,this.def.$dataError||hr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');hr.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=N.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=N.nil,r=N.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:i,def:a}=this;n.if(N.or(N._`${s} === undefined`,r)),e!==N.nil&&n.assign(e,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==N.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:s,it:i}=this;return N.or(a(),u());function a(){if(n.length){if(!(r instanceof N.Name))throw new Error("ajv implementation error");let d=Array.isArray(n)?n:[n];return N._`${Wr.checkDataTypes(d,r,i.opts.strictNumbers,Wr.DataType.Wrong)}`}return N.nil}function u(){if(s.validateSchema){let d=e.scopeValue("validate$data",{ref:s.validateSchema});return N._`!${d}(${r})`}return N.nil}}subschema(e,r){let n=Jn.getSubschema(this.it,e);Jn.extendSubschemaData(n,this.it,e),Jn.extendSubschemaMode(n,e);let s=de(ee(ee({},this.it),n),{items:void 0,props:void 0});return Wl(s,r),s}mergeEvaluated(e,r){let{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=nt.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=nt.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,N.Name)),!0}};dt.KeywordCxt=Yn;function za(t,e,r,n){let s=new Yn(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?mr.funcKeywordCode(s,r):"macro"in r?mr.macroKeywordCode(s,r):(r.compile||r.validate)&&mr.funcKeywordCode(s,r)}var od=/^\/(?:[^~]|~0|~1)*$/,ud=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ua(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,i;if(t==="")return q.default.rootData;if(t[0]==="/"){if(!od.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,i=q.default.rootData}else{let f=ud.exec(t);if(!f)throw new Error(`Invalid JSON-pointer: ${t}`);let p=+f[1];if(s=f[2],s==="#"){if(p>=e)throw new Error(d("property/index",p));return n[e-p]}if(p>e)throw new Error(d("data",p));if(i=r[e-p],!s)return i}let a=i,u=s.split("/");for(let f of u)f&&(i=N._`${i}${N.getProperty(nt.unescapeJsonPointer(f))}`,a=N._`${a} && ${i}`);return a;function d(f,p){return`Cannot access ${f} ${p} levels up, current level is ${e}`}}dt.getData=Ua});var Qn=w(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});var xa=class extends Error{constructor(e){super("validation failed");this.errors=e,this.ajv=this.validation=!0}};Bn.default=xa});var es=w(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});var Xn=pr(),La=class extends Error{constructor(e,r,n){super(n||`can't resolve reference ${r} from id ${e}`);this.missingRef=Xn.resolveUrl(e,r),this.missingSchema=Xn.normalizeId(Xn.getFullPath(this.missingRef))}};Zn.default=La});var ns=w(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.resolveSchema=Ae.getCompilingSchema=Ae.resolveRef=Ae.compileSchema=Ae.SchemaEnv=void 0;var Re=T(),cd=Qn(),wt=Je(),ke=pr(),Ka=K(),ld=Gt(),dd=Kn(),yr=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:ke.normalizeId(n==null?void 0:n.$id),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Ae.SchemaEnv=yr;function ts(t){let e=Ha.call(this,t);if(e)return e;let r=ke.getFullPath(t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new Re.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),u;t.$async&&(u=a.scopeValue("Error",{ref:cd.default,code:Re._`require("ajv/dist/runtime/validation_error").default`}));let d=a.scopeName("validate");t.validateName=d;let f={gen:a,allErrors:this.opts.allErrors,data:wt.default.data,parentData:wt.default.parentData,parentDataProperty:wt.default.parentDataProperty,dataNames:[wt.default.data],dataPathArr:[Re.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:Re.stringify(t.schema)}:{ref:t.schema}),validateName:d,ValidationError:u,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Re.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:Re._`""`,opts:this.opts,self:this},p;try{this._compilations.add(t),ld.validateFunctionCode(f),a.optimize(this.opts.code.optimize);let y=a.toString();p=`${a.scopeRefs(wt.default.scope)}return ${y}`,this.opts.code.process&&(p=this.opts.code.process(p,t));let g=new Function(`${wt.default.self}`,`${wt.default.scope}`,p)(this,this.scope.get());if(this.scope.value(d,{ref:g}),g.errors=null,g.schema=t.schema,g.schemaEnv=t,t.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:d,validateCode:y,scopeValues:a._values}),this.opts.unevaluated){let{props:$,items:E}=f;g.evaluated={props:$ instanceof Re.Name?void 0:$,items:E instanceof Re.Name?void 0:E,dynamicProps:$ instanceof Re.Name,dynamicItems:E instanceof Re.Name},g.source&&(g.source.evaluated=Re.stringify(g.evaluated))}return t.validate=g,t}catch(y){throw delete t.validate,delete t.validateName,p&&this.logger.error("Error compiling schema, function code:",p),y}finally{this._compilations.delete(t)}}Ae.compileSchema=ts;function fd(t,e,r){var n;r=ke.resolveUrl(e,r);let s=t.refs[r];if(s)return s;let i=hd.call(this,t,r);if(i===void 0){let a=(n=t.localRefs)===null||n===void 0?void 0:n[r];a&&(i=new yr({schema:a,root:t,baseId:e}))}if(i!==void 0)return t.refs[r]=pd.call(this,i)}Ae.resolveRef=fd;function pd(t){return ke.inlineRef(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ts.call(this,t)}function Ha(t){for(let e of this._compilations)if(md(e,t))return e}Ae.getCompilingSchema=Ha;function md(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function hd(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Yr.call(this,t,e)}function Yr(t,e){let r=dd.parse(e),n=ke._getFullPath(r),s=ke.getFullPath(t.baseId);if(Object.keys(t.schema).length>0&&n===s)return rs.call(this,r,t);let i=ke.normalizeId(n),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){let u=Yr.call(this,t,a);return typeof(u==null?void 0:u.schema)!="object"?void 0:rs.call(this,r,u)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||ts.call(this,a),i===ke.normalizeId(e)){let{schema:u}=a;return u.$id&&(s=ke.resolveUrl(s,u.$id)),new yr({schema:u,root:t,baseId:s})}return rs.call(this,r,a)}}Ae.resolveSchema=Yr;var yd=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function rs(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean"||(r=r[Ka.unescapeFragment(a)],r===void 0))return;!yd.has(a)&&typeof r=="object"&&r.$id&&(e=ke.resolveUrl(e,r.$id))}let i;if(typeof r!="boolean"&&r.$ref&&!Ka.schemaHasRulesButRef(r,this.RULES)){let a=ke.resolveUrl(e,r.$ref);i=Yr.call(this,n,a)}if(i=i||new yr({schema:r,root:n,baseId:e}),i.schema!==i.root.schema)return i}});var Ga=w((ih,$d)=>{$d.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Za=w(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.CodeGen=me.Name=me.nil=me.stringify=me.str=me._=me.KeywordCxt=void 0;var gd=Gt();Object.defineProperty(me,"KeywordCxt",{enumerable:!0,get:function(){return gd.KeywordCxt}});var Jt=T();Object.defineProperty(me,"_",{enumerable:!0,get:function(){return Jt._}});Object.defineProperty(me,"str",{enumerable:!0,get:function(){return Jt.str}});Object.defineProperty(me,"stringify",{enumerable:!0,get:function(){return Jt.stringify}});Object.defineProperty(me,"nil",{enumerable:!0,get:function(){return Jt.nil}});Object.defineProperty(me,"Name",{enumerable:!0,get:function(){return Jt.Name}});Object.defineProperty(me,"CodeGen",{enumerable:!0,get:function(){return Jt.CodeGen}});var vd=Qn(),Ja=es(),_d=kn(),$r=ns(),Ed=T(),gr=pr(),Br=fr(),ss=K(),Wa=Ga(),wd=["removeAdditional","useDefaults","coerceTypes"],bd=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Sd={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",schemaId:"JSON Schema draft-04 is not supported in Ajv v7/8.",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now, see option `strict`."},Pd={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Ya=200;function Od(t){var e,r,n,s,i,a,u,d,f,p,y,v,g,$,E,_,S,M,ae,H;let L=t.strict,O=(e=t.code)===null||e===void 0?void 0:e.optimize,C=O===!0||O===void 0?1:O||0;return{strictSchema:(n=(r=t.strictSchema)!==null&&r!==void 0?r:L)!==null&&n!==void 0?n:!0,strictNumbers:(i=(s=t.strictNumbers)!==null&&s!==void 0?s:L)!==null&&i!==void 0?i:!0,strictTypes:(u=(a=t.strictTypes)!==null&&a!==void 0?a:L)!==null&&u!==void 0?u:"log",strictTuples:(f=(d=t.strictTuples)!==null&&d!==void 0?d:L)!==null&&f!==void 0?f:"log",strictRequired:(y=(p=t.strictRequired)!==null&&p!==void 0?p:L)!==null&&y!==void 0?y:!1,code:t.code?de(ee({},t.code),{optimize:C}):{optimize:C},loopRequired:(v=t.loopRequired)!==null&&v!==void 0?v:Ya,loopEnum:(g=t.loopEnum)!==null&&g!==void 0?g:Ya,meta:($=t.meta)!==null&&$!==void 0?$:!0,messages:(E=t.messages)!==null&&E!==void 0?E:!0,inlineRefs:(_=t.inlineRefs)!==null&&_!==void 0?_:!0,addUsedSchema:(S=t.addUsedSchema)!==null&&S!==void 0?S:!0,validateSchema:(M=t.validateSchema)!==null&&M!==void 0?M:!0,validateFormats:(ae=t.validateFormats)!==null&&ae!==void 0?ae:!0,unicodeRegExp:(H=t.unicodeRegExp)!==null&&H!==void 0?H:!0}}var Qr=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=ee(ee({},e),Od(e));let{es5:r,lines:n}=this.opts.code;this.scope=new Ed.ValueScope({scope:{},prefixes:bd,es5:r,lines:n}),this.logger=Ad(e.logger);let s=e.validateFormats;e.validateFormats=!1,this.RULES=_d.getRules(),Ba.call(this,Sd,e,"NOT SUPPORTED"),Ba.call(this,Pd,e,"DEPRECATED","warn"),this._metaOpts=jd.call(this),e.formats&&Cd.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&qd.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Nd.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r}=this.opts;r&&e&&this.addMetaSchema(Wa,Wa.$id,!1)}defaultMeta(){let{meta:e}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e.$id||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,e,r);function s(p,y){return Dt(this,null,function*(){yield i.call(this,p.$schema);let v=this._addSchema(p,y);return v.validate||a.call(this,v)})}function i(p){return Dt(this,null,function*(){p&&!this.getSchema(p)&&(yield s.call(this,{$ref:p},!0))})}function a(p){return Dt(this,null,function*(){try{return this._compileSchemaEnv(p)}catch(y){if(!(y instanceof Ja.default))throw y;return u.call(this,y),yield d.call(this,y.missingSchema),a.call(this,p)}})}function u({missingSchema:p,missingRef:y}){if(this.refs[p])throw new Error(`AnySchema ${p} is loaded but ${y} cannot be resolved`)}function d(p){return Dt(this,null,function*(){let y=yield f.call(this,p);this.refs[p]||(yield i.call(this,y.$schema)),this.refs[p]||this.addSchema(y,p,r)})}function f(p){return Dt(this,null,function*(){let y=this._loading[p];if(y)return y;try{return yield this._loading[p]=n(p)}finally{delete this._loading[p]}})}}addSchema(e,r,n,s=this.opts.validateSchema){if(Array.isArray(e)){for(let a of e)this.addSchema(a,void 0,n,s);return this}let i;if(typeof e=="object"&&(i=e.$id,i!==void 0&&typeof i!="string"))throw new Error("schema $id must be string");return r=gr.normalizeId(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,s,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,e);if(!s&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(e){let r;for(;typeof(r=Qa.call(this,e))=="string";)e=r;if(r===void 0){let n=new $r.SchemaEnv({schema:{}});if(r=$r.resolveSchema.call(this,n,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Qa.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e.$id;return n&&(n=gr.normalizeId(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Rd.call(this,n,r),!r)return ss.eachItem(n,i=>is.call(this,i)),this;Dd.call(this,r);let s=de(ee({},r),{type:Br.getJSONTypes(r.type),schemaType:Br.getJSONTypes(r.schemaType)});return ss.eachItem(n,s.type.length===0?i=>is.call(this,i,s):i=>s.type.forEach(a=>is.call(this,i,s,a))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let s=n.rules.findIndex(i=>i.keyword===e);s>=0&&n.rules.splice(s,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,i)=>s+r+i)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let s of r){let i=s.split("/").slice(1),a=e;for(let u of i)a=a[u];for(let u in n){let d=n[u];if(typeof d!="object")continue;let{$data:f}=d.definition,p=a[u];f&&p&&(a[u]=Xa(p))}}return e}_removeAllSchemas(e,r){for(let n in e){let s=e[n];(!r||r.test(n))&&(typeof s=="string"?delete e[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[n]))}}_addSchema(e,r,n,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let a;if(typeof e=="object")a=e.$id;else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let u=this._cache.get(e);if(u!==void 0)return u;let d=gr.getSchemaRefs.call(this,e);return n=gr.normalizeId(a||n),u=new $r.SchemaEnv({schema:e,meta:r,baseId:n,localRefs:d}),this._cache.set(u.schema,u),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=u),s&&this.validateSchema(e,!0),u}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):$r.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{$r.compileSchema.call(this,e)}finally{this.opts=r}}};me.default=Qr;Qr.ValidationError=vd.default;Qr.MissingRefError=Ja.default;function Ba(t,e,r,n="error"){for(let s in t){let i=s;i in e&&this.logger[n](`${r}: option ${s}. ${t[i]}`)}}function Qa(t){return t=gr.normalizeId(t),this.schemas[t]||this.refs[t]}function Nd(){let t=this.opts.schemas;if(!!t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function Cd(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function qd(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function jd(){let t=ee({},this.opts);for(let e of wd)delete t[e];return t}var Td={log(){},warn(){},error(){}};function Ad(t){if(t===!1)return Td;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Id=/^[a-z_$][a-z0-9_$:-]*$/i;function Rd(t,e){let{RULES:r}=this;if(ss.eachItem(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!Id.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function is(t,e,r){var n;let s=e==null?void 0:e.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,a=s?i.post:i.rules.find(({type:d})=>d===r);if(a||(a={type:r,rules:[]},i.rules.push(a)),i.keywords[t]=!0,!e)return;let u={keyword:t,definition:de(ee({},e),{type:Br.getJSONTypes(e.type),schemaType:Br.getJSONTypes(e.schemaType)})};e.before?kd.call(this,a,u,e.before):a.rules.push(u),i.all[t]=u,(n=e.implements)===null||n===void 0||n.forEach(d=>this.addKeyword(d))}function kd(t,e,r){let n=t.rules.findIndex(s=>s.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function Dd(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=Xa(e)),t.validateSchema=this.compile(e,!0))}var Md={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Xa(t){return{anyOf:[t,Md]}}});var eo=w(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});var Vd={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};as.default=Vd});var so=w(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.callRef=bt.getValidate=void 0;var Fd=es(),to=Te(),Se=T(),Wt=Je(),ro=ns(),Xr=K(),zd={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:i,validateName:a,opts:u,self:d}=n,{root:f}=i;if((r==="#"||r==="#/")&&s===f.baseId)return y();let p=ro.resolveRef.call(d,f,s,r);if(p===void 0)throw new Fd.default(s,r);if(p instanceof ro.SchemaEnv)return v(p);return g(p);function y(){if(i===f)return Zr(t,a,i,i.$async);let $=e.scopeValue("root",{ref:f});return Zr(t,Se._`${$}.validate`,f,f.$async)}function v($){let E=no(t,$);Zr(t,E,$,$.$async)}function g($){let E=e.scopeValue("schema",u.code.source===!0?{ref:$,code:Se.stringify($)}:{ref:$}),_=e.name("valid"),S=t.subschema({schema:$,dataTypes:[],schemaPath:Se.nil,topSchemaRef:E,errSchemaPath:r},_);t.mergeEvaluated(S),t.ok(_)}}};function no(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):Se._`${r.scopeValue("wrapper",{ref:e})}.validate`}bt.getValidate=no;function Zr(t,e,r,n){let{gen:s,it:i}=t,{allErrors:a,schemaEnv:u,opts:d}=i,f=d.passContext?Wt.default.this:Se.nil;n?p():y();function p(){if(!u.$async)throw new Error("async schema referenced by sync schema");let $=s.let("valid");s.try(()=>{s.code(Se._`await ${to.callValidateCode(t,e,f)}`),g(e),a||s.assign($,!0)},E=>{s.if(Se._`!(${E} instanceof ${i.ValidationError})`,()=>s.throw(E)),v(E),a||s.assign($,!1)}),t.ok($)}function y(){t.result(to.callValidateCode(t,e,f),()=>g(e),()=>v(e))}function v($){let E=Se._`${$}.errors`;s.assign(Wt.default.vErrors,Se._`${Wt.default.vErrors} === null ? ${E} : ${Wt.default.vErrors}.concat(${E})`),s.assign(Wt.default.errors,Se._`${Wt.default.vErrors}.length`)}function g($){var E;if(!i.opts.unevaluated)return;let _=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(i.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(i.props=Xr.mergeEvaluated.props(s,_.props,i.props));else{let S=s.var("props",Se._`${$}.evaluated.props`);i.props=Xr.mergeEvaluated.props(s,S,i.props,Se.Name)}if(i.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(i.items=Xr.mergeEvaluated.items(s,_.items,i.items));else{let S=s.var("items",Se._`${$}.evaluated.items`);i.items=Xr.mergeEvaluated.items(s,S,i.items,Se.Name)}}}bt.callRef=Zr;bt.default=zd});var io=w(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});var Ud=eo(),xd=so(),Ld=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Ud.default,xd.default];os.default=Ld});var ao=w(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});var en=T(),ft=en.operators,tn={maximum:{okStr:"<=",ok:ft.LTE,fail:ft.GT},minimum:{okStr:">=",ok:ft.GTE,fail:ft.LT},exclusiveMaximum:{okStr:"<",ok:ft.LT,fail:ft.GTE},exclusiveMinimum:{okStr:">",ok:ft.GT,fail:ft.LTE}},Kd={message:({keyword:t,schemaCode:e})=>en.str`must be ${tn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>en._`{comparison: ${tn[t].okStr}, limit: ${e}}`},Hd={keyword:Object.keys(tn),type:"number",schemaType:"number",$data:!0,error:Kd,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data(en._`${r} ${tn[e].fail} ${n} || isNaN(${r})`)}};us.default=Hd});var oo=w(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});var vr=T(),Gd={message:({schemaCode:t})=>vr.str`must be multiple of ${t}`,params:({schemaCode:t})=>vr._`{multipleOf: ${t}}`},Jd={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Gd,code(t){let{gen:e,data:r,schemaCode:n,it:s}=t,i=s.opts.multipleOfPrecision,a=e.let("res"),u=i?vr._`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:vr._`${a} !== parseInt(${a})`;t.fail$data(vr._`(${n} === 0 || (${a} = ${r}/${n}, ${u}))`)}};cs.default=Jd});var co=w(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});function uo(t){let e=t.length,r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)==56320&&n++);return r}ls.default=uo;uo.code='require("ajv/dist/runtime/ucs2length").default'});var lo=w(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});var St=T(),Wd=K(),Yd=co(),Bd={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return St.str`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>St._`{limit: ${t}}`},Qd={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Bd,code(t){let{keyword:e,data:r,schemaCode:n,it:s}=t,i=e==="maxLength"?St.operators.GT:St.operators.LT,a=s.opts.unicode===!1?St._`${r}.length`:St._`${Wd.useFunc(t.gen,Yd.default)}(${r})`;t.fail$data(St._`${a} ${i} ${n}`)}};ds.default=Qd});var fo=w(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});var Xd=Te(),rn=T(),Zd={message:({schemaCode:t})=>rn.str`must match pattern "${t}"`,params:({schemaCode:t})=>rn._`{pattern: ${t}}`},ef={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Zd,code(t){let{data:e,$data:r,schema:n,schemaCode:s,it:i}=t,a=i.opts.unicodeRegExp?"u":"",u=r?rn._`(new RegExp(${s}, ${a}))`:Xd.usePattern(t,n);t.fail$data(rn._`!${u}.test(${e})`)}};fs.default=ef});var po=w(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});var _r=T(),tf={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return _r.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>_r._`{limit: ${t}}`},rf={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:tf,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?_r.operators.GT:_r.operators.LT;t.fail$data(_r._`Object.keys(${r}).length ${s} ${n}`)}};ps.default=rf});var mo=w(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});var Er=Te(),wr=T(),nf=K(),sf={message:({params:{missingProperty:t}})=>wr.str`must have required property '${t}'`,params:({params:{missingProperty:t}})=>wr._`{missingProperty: ${t}}`},af={keyword:"required",type:"object",schemaType:"array",$data:!0,error:sf,code(t){let{gen:e,schema:r,schemaCode:n,data:s,$data:i,it:a}=t,{opts:u}=a;if(!i&&r.length===0)return;let d=r.length>=u.loopRequired;if(a.allErrors?f():p(),u.strictRequired){let g=t.parentSchema.properties,{definedProperties:$}=t.it;for(let E of r)if((g==null?void 0:g[E])===void 0&&!$.has(E)){let _=a.schemaEnv.baseId+a.errSchemaPath,S=`required property "${E}" is not defined at "${_}" (strictRequired)`;nf.checkStrictMode(a,S,a.opts.strictRequired)}}function f(){if(d||i)t.block$data(wr.nil,y);else for(let g of r)Er.checkReportMissingProp(t,g)}function p(){let g=e.let("missing");if(d||i){let $=e.let("valid",!0);t.block$data($,()=>v(g,$)),t.ok($)}else e.if(Er.checkMissingProp(t,r,g)),Er.reportMissingProp(t,g),e.else()}function y(){e.forOf("prop",n,g=>{t.setParams({missingProperty:g}),e.if(Er.noPropertyInData(e,s,g,u.ownProperties),()=>t.error())})}function v(g,$){t.setParams({missingProperty:g}),e.forOf(g,n,()=>{e.assign($,Er.propertyInData(e,s,g,u.ownProperties)),e.if(wr.not($),()=>{t.error(),e.break()})},wr.nil)}}};ms.default=af});var ho=w(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var br=T(),of={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return br.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>br._`{limit: ${t}}`},uf={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:of,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?br.operators.GT:br.operators.LT;t.fail$data(br._`${r}.length ${s} ${n}`)}};hs.default=uf});var nn=w(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});var yo=Ln();yo.code='require("ajv/dist/runtime/equal").default';ys.default=yo});var $o=w(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});var $s=fr(),he=T(),cf=K(),lf=nn(),df={message:({params:{i:t,j:e}})=>he.str`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>he._`{i: ${t}, j: ${e}}`},ff={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:df,code(t){let{gen:e,data:r,$data:n,schema:s,parentSchema:i,schemaCode:a,it:u}=t;if(!n&&!s)return;let d=e.let("valid"),f=i.items?$s.getSchemaTypes(i.items):[];t.block$data(d,p,he._`${a} === false`),t.ok(d);function p(){let $=e.let("i",he._`${r}.length`),E=e.let("j");t.setParams({i:$,j:E}),e.assign(d,!0),e.if(he._`${$} > 1`,()=>(y()?v:g)($,E))}function y(){return f.length>0&&!f.some($=>$==="object"||$==="array")}function v($,E){let _=e.name("item"),S=$s.checkDataTypes(f,_,u.opts.strictNumbers,$s.DataType.Wrong),M=e.const("indices",he._`{}`);e.for(he._`;${$}--;`,()=>{e.let(_,he._`${r}[${$}]`),e.if(S,he._`continue`),f.length>1&&e.if(he._`typeof ${_} == "string"`,he._`${_} += "_"`),e.if(he._`typeof ${M}[${_}] == "number"`,()=>{e.assign(E,he._`${M}[${_}]`),t.error(),e.assign(d,!1).break()}).code(he._`${M}[${_}] = ${$}`)})}function g($,E){let _=cf.useFunc(e,lf.default),S=e.name("outer");e.label(S).for(he._`;${$}--;`,()=>e.for(he._`${E} = ${$}; ${E}--;`,()=>e.if(he._`${_}(${r}[${$}], ${r}[${E}])`,()=>{t.error(),e.assign(d,!1).break(S)})))}}};gs.default=ff});var vo=w(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});var go=T(),pf=K(),mf=nn(),hf={message:"must be equal to constant",params:({schemaCode:t})=>go._`{allowedValue: ${t}}`},yf={keyword:"const",$data:!0,error:hf,code(t){let{gen:e,data:r,schemaCode:n}=t;t.fail$data(go._`!${pf.useFunc(e,mf.default)}(${r}, ${n})`)}};vs.default=yf});var _o=w(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});var Sr=T(),$f=K(),gf=nn(),vf={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>Sr._`{allowedValues: ${t}}`},_f={keyword:"enum",schemaType:"array",$data:!0,error:vf,code(t){let{gen:e,data:r,$data:n,schema:s,schemaCode:i,it:a}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let u=s.length>=a.opts.loopEnum,d=$f.useFunc(e,gf.default),f;if(u||n)f=e.let("valid"),t.block$data(f,p);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let v=e.const("vSchema",i);f=Sr.or(...s.map((g,$)=>y(v,$)))}t.pass(f);function p(){e.assign(f,!1),e.forOf("v",i,v=>e.if(Sr._`${d}(${r}, ${v})`,()=>e.assign(f,!0).break()))}function y(v,g){let $=s[g];return $&&typeof $=="object"?Sr._`${d}(${r}, ${v}[${g}])`:Sr._`${r} === ${$}`}}};_s.default=_f});var Eo=w(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var Ef=ao(),wf=oo(),bf=lo(),Sf=fo(),Pf=po(),Of=mo(),Nf=ho(),Cf=$o(),qf=vo(),jf=_o(),Tf=[Ef.default,wf.default,bf.default,Sf.default,Pf.default,Of.default,Nf.default,Cf.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},qf.default,jf.default];Es.default=Tf});var bs=w(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.validateAdditionalItems=void 0;var Pt=T(),ws=K(),Af={message:({params:{len:t}})=>Pt.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>Pt._`{limit: ${t}}`},If={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Af,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){ws.checkStrictMode(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}wo(t,n)}};function wo(t,e){let{gen:r,schema:n,data:s,keyword:i,it:a}=t;a.items=!0;let u=r.const("len",Pt._`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass(Pt._`${u} <= ${e.length}`);else if(typeof n=="object"&&!ws.alwaysValidSchema(a,n)){let f=r.var("valid",Pt._`${u} <= ${e.length}`);r.if(Pt.not(f),()=>d(f)),t.ok(f)}function d(f){r.forRange("i",e.length,u,p=>{t.subschema({keyword:i,dataProp:p,dataPropType:ws.Type.Num},f),a.allErrors||r.if(Pt.not(f),()=>r.break())})}}Pr.validateAdditionalItems=wo;Pr.default=If});var Ss=w(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.validateTuple=void 0;var bo=T(),sn=K(),Rf=Te(),kf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return So(t,"additionalItems",e);r.items=!0,!sn.alwaysValidSchema(r,e)&&t.ok(Rf.validateArray(t))}};function So(t,e,r=t.schema){let{gen:n,parentSchema:s,data:i,keyword:a,it:u}=t;p(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=sn.mergeEvaluated.items(n,r.length,u.items));let d=n.name("valid"),f=n.const("len",bo._`${i}.length`);r.forEach((y,v)=>{sn.alwaysValidSchema(u,y)||(n.if(bo._`${f} > ${v}`,()=>t.subschema({keyword:a,schemaProp:v,dataProp:v},d)),t.ok(d))});function p(y){let{opts:v,errSchemaPath:g}=u,$=r.length,E=$===y.minItems&&($===y.maxItems||y[e]===!1);if(v.strictTuples&&!E){let _=`"${a}" is ${$}-tuple, but minItems or maxItems/${e} are not specified or different at path "${g}"`;sn.checkStrictMode(u,_,v.strictTuples)}}}Or.validateTuple=So;Or.default=kf});var Po=w(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});var Df=Ss(),Mf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>Df.validateTuple(t,"items")};Ps.default=Mf});var No=w(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});var Oo=T(),Vf=K(),Ff=Te(),zf=bs(),Uf={message:({params:{len:t}})=>Oo.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>Oo._`{limit: ${t}}`},xf={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Uf,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!Vf.alwaysValidSchema(n,e)&&(s?zf.validateAdditionalItems(t,s):t.ok(Ff.validateArray(t)))}};Os.default=xf});var Co=w(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});var De=T(),an=K(),Lf={message:({params:{min:t,max:e}})=>e===void 0?De.str`must contain at least ${t} valid item(s)`:De.str`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?De._`{minContains: ${t}}`:De._`{minContains: ${t}, maxContains: ${e}}`},Kf={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Lf,code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:i}=t,a,u,{minContains:d,maxContains:f}=n;i.opts.next?(a=d===void 0?1:d,u=f):a=1;let p=e.const("len",De._`${s}.length`);if(t.setParams({min:a,max:u}),u===void 0&&a===0){an.checkStrictMode(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&a>u){an.checkStrictMode(i,'"minContains" > "maxContains" is always invalid'),t.fail();return}if(an.alwaysValidSchema(i,r)){let $=De._`${p} >= ${a}`;u!==void 0&&($=De._`${$} && ${p} <= ${u}`),t.pass($);return}i.items=!0;let y=e.name("valid");if(u===void 0&&a===1)v(y,()=>e.if(y,()=>e.break()));else{e.let(y,!1);let $=e.name("_valid"),E=e.let("count",0);v($,()=>e.if($,()=>g(E)))}t.result(y,()=>t.reset());function v($,E){e.forRange("i",0,p,_=>{t.subschema({keyword:"contains",dataProp:_,dataPropType:an.Type.Num,compositeRule:!0},$),E()})}function g($){e.code(De._`${$}++`),u===void 0?e.if(De._`${$} >= ${a}`,()=>e.assign(y,!0).break()):(e.if(De._`${$} > ${u}`,()=>e.assign(y,!1).break()),a===1?e.assign(y,!0):e.if(De._`${$} >= ${a}`,()=>e.assign(y,!0)))}}};Ns.default=Kf});var To=w(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.validateSchemaDeps=Be.validatePropertyDeps=Be.error=void 0;var Cs=T(),Hf=K(),Nr=Te();Be.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return Cs.str`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>Cs._`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var Gf={keyword:"dependencies",type:"object",schemaType:"object",error:Be.error,code(t){let[e,r]=Jf(t);qo(t,e),jo(t,r)}};function Jf({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let s=Array.isArray(t[n])?e:r;s[n]=t[n]}return[e,r]}function qo(t,e=t.schema){let{gen:r,data:n,it:s}=t;if(Object.keys(e).length===0)return;let i=r.let("missing");for(let a in e){let u=e[a];if(u.length===0)continue;let d=Nr.propertyInData(r,n,a,s.opts.ownProperties);t.setParams({property:a,depsCount:u.length,deps:u.join(", ")}),s.allErrors?r.if(d,()=>{for(let f of u)Nr.checkReportMissingProp(t,f)}):(r.if(Cs._`${d} && (${Nr.checkMissingProp(t,u,i)})`),Nr.reportMissingProp(t,i),r.else())}}Be.validatePropertyDeps=qo;function jo(t,e=t.schema){let{gen:r,data:n,keyword:s,it:i}=t,a=r.name("valid");for(let u in e)Hf.alwaysValidSchema(i,e[u])||(r.if(Nr.propertyInData(r,n,u,i.opts.ownProperties),()=>{let d=t.subschema({keyword:s,schemaProp:u},a);t.mergeValidEvaluated(d,a)},()=>r.var(a,!0)),t.ok(a))}Be.validateSchemaDeps=jo;Be.default=Gf});var Io=w(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var Ao=T(),Wf=K(),Yf={message:"property name must be valid",params:({params:t})=>Ao._`{propertyName: ${t.propertyName}}`},Bf={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Yf,code(t){let{gen:e,schema:r,data:n,it:s}=t;if(Wf.alwaysValidSchema(s,r))return;let i=e.name("valid");e.forIn("key",n,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),e.if(Ao.not(i),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(i)}};qs.default=Bf});var Ts=w(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});var on=Te(),Me=T(),Qf=Je(),un=K(),Xf={message:"must NOT have additional properties",params:({params:t})=>Me._`{additionalProperty: ${t.additionalProperty}}`},Zf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Xf,code(t){let{gen:e,schema:r,parentSchema:n,data:s,errsCount:i,it:a}=t;if(!i)throw new Error("ajv implementation error");let{allErrors:u,opts:d}=a;if(a.props=!0,d.removeAdditional!=="all"&&un.alwaysValidSchema(a,r))return;let f=on.allSchemaProperties(n.properties),p=on.allSchemaProperties(n.patternProperties);y(),t.ok(Me._`${i} === ${Qf.default.errors}`);function y(){e.forIn("key",s,_=>{!f.length&&!p.length?$(_):e.if(v(_),()=>$(_))})}function v(_){let S;if(f.length>8){let M=un.schemaRefOrVal(a,n.properties,"properties");S=on.isOwnProperty(e,M,_)}else f.length?S=Me.or(...f.map(M=>Me._`${_} === ${M}`)):S=Me.nil;return p.length&&(S=Me.or(S,...p.map(M=>Me._`${on.usePattern(t,M)}.test(${_})`))),Me.not(S)}function g(_){e.code(Me._`delete ${s}[${_}]`)}function $(_){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){g(_);return}if(r===!1){t.setParams({additionalProperty:_}),t.error(),u||e.break();return}if(typeof r=="object"&&!un.alwaysValidSchema(a,r)){let S=e.name("valid");d.removeAdditional==="failing"?(E(_,S,!1),e.if(Me.not(S),()=>{t.reset(),g(_)})):(E(_,S),u||e.if(Me.not(S),()=>e.break()))}}function E(_,S,M){let ae={keyword:"additionalProperties",dataProp:_,dataPropType:un.Type.Str};M===!1&&Object.assign(ae,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(ae,S)}}};js.default=Zf});var Do=w(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var ep=Gt(),Ro=Te(),As=K(),ko=Ts(),tp={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:i}=t;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&ko.default.code(new ep.KeywordCxt(i,ko.default,"additionalProperties"));let a=Ro.allSchemaProperties(r);for(let y of a)i.definedProperties.add(y);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=As.mergeEvaluated.props(e,As.toHash(a),i.props));let u=a.filter(y=>!As.alwaysValidSchema(i,r[y]));if(u.length===0)return;let d=e.name("valid");for(let y of u)f(y)?p(y):(e.if(Ro.propertyInData(e,s,y,i.opts.ownProperties)),p(y),i.allErrors||e.else().var(d,!0),e.endIf()),t.it.definedProperties.add(y),t.ok(d);function f(y){return i.opts.useDefaults&&!i.compositeRule&&r[y].default!==void 0}function p(y){t.subschema({keyword:"properties",schemaProp:y,dataProp:y},d)}}};Is.default=tp});var Fo=w(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});var Mo=Te(),cn=T(),rp=K(),Vo=K(),np={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:s,it:i}=t,{opts:a}=i,u=Mo.schemaProperties(i,r);if(u.length===0)return;let d=a.strictSchema&&!a.allowMatchingProperties&&s.properties,f=e.name("valid");i.props!==!0&&!(i.props instanceof cn.Name)&&(i.props=Vo.evaluatedPropsToName(e,i.props));let{props:p}=i;y();function y(){for(let $ of u)d&&v($),i.allErrors?g($):(e.var(f,!0),g($),e.if(f))}function v($){for(let E in d)new RegExp($).test(E)&&rp.checkStrictMode(i,`property ${E} matches pattern ${$} (use allowMatchingProperties)`)}function g($){e.forIn("key",n,E=>{e.if(cn._`${Mo.usePattern(t,$)}.test(${E})`,()=>{t.subschema({keyword:"patternProperties",schemaProp:$,dataProp:E,dataPropType:Vo.Type.Str},f),i.opts.unevaluated&&p!==!0?e.assign(cn._`${p}[${E}]`,!0):i.allErrors||e.if(cn.not(f),()=>e.break())})})}}};Rs.default=np});var zo=w(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});var sp=K(),ip={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if(sp.alwaysValidSchema(n,r)){t.fail();return}let s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.result(s,()=>t.error(),()=>t.reset())},error:{message:"must NOT be valid"}};ks.default=ip});var Uo=w(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});var ap=Te(),op={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ap.validateUnion,error:{message:"must match a schema in anyOf"}};Ds.default=op});var xo=w(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});var ln=T(),up=K(),cp={message:"must match exactly one schema in oneOf",params:({params:t})=>ln._`{passingSchemas: ${t.passing}}`},lp={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:cp,code(t){let{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let i=r,a=e.let("valid",!1),u=e.let("passing",null),d=e.name("_valid");t.setParams({passing:u}),e.block(f),t.result(a,()=>t.reset(),()=>t.error(!0));function f(){i.forEach((p,y)=>{let v;up.alwaysValidSchema(s,p)?e.var(d,!0):v=t.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},d),y>0&&e.if(ln._`${d} && ${a}`).assign(a,!1).assign(u,ln._`[${u}, ${y}]`).else(),e.if(d,()=>{e.assign(a,!0),e.assign(u,y),v&&t.mergeEvaluated(v,ln.Name)})})}}};Ms.default=lp});var Lo=w(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});var dp=K(),fp={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=e.name("valid");r.forEach((i,a)=>{if(dp.alwaysValidSchema(n,i))return;let u=t.subschema({keyword:"allOf",schemaProp:a},s);t.ok(s),t.mergeEvaluated(u)})}};Vs.default=fp});var Go=w(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var dn=T(),Ko=K(),pp={message:({params:t})=>dn.str`must match "${t.ifClause}" schema`,params:({params:t})=>dn._`{failingKeyword: ${t.ifClause}}`},mp={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:pp,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&Ko.checkStrictMode(n,'"if" without "then" and "else" is ignored');let s=Ho(n,"then"),i=Ho(n,"else");if(!s&&!i)return;let a=e.let("valid",!0),u=e.name("_valid");if(d(),t.reset(),s&&i){let p=e.let("ifClause");t.setParams({ifClause:p}),e.if(u,f("then",p),f("else",p))}else s?e.if(u,f("then")):e.if(dn.not(u),f("else"));t.pass(a,()=>t.error(!0));function d(){let p=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);t.mergeEvaluated(p)}function f(p,y){return()=>{let v=t.subschema({keyword:p},u);e.assign(a,u),t.mergeValidEvaluated(v,a),y?e.assign(y,dn._`${p}`):t.setParams({ifClause:p})}}}};function Ho(t,e){let r=t.schema[e];return r!==void 0&&!Ko.alwaysValidSchema(t,r)}Fs.default=mp});var Jo=w(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});var hp=K(),yp={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&hp.checkStrictMode(r,`"${t}" without "if" is ignored`)}};zs.default=yp});var Wo=w(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});var $p=bs(),gp=Po(),vp=Ss(),_p=No(),Ep=Co(),wp=To(),bp=Io(),Sp=Ts(),Pp=Do(),Op=Fo(),Np=zo(),Cp=Uo(),qp=xo(),jp=Lo(),Tp=Go(),Ap=Jo();function Ip(t=!1){let e=[Np.default,Cp.default,qp.default,jp.default,Tp.default,Ap.default,bp.default,Sp.default,wp.default,Pp.default,Op.default];return t?e.push(gp.default,_p.default):e.push($p.default,vp.default),e.push(Ep.default),e}Us.default=Ip});var Yo=w(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});var ue=T(),Rp={message:({schemaCode:t})=>ue.str`must match format "${t}"`,params:({schemaCode:t})=>ue._`{format: ${t}}`},kp={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Rp,code(t,e){let{gen:r,data:n,$data:s,schema:i,schemaCode:a,it:u}=t,{opts:d,errSchemaPath:f,schemaEnv:p,self:y}=u;if(!d.validateFormats)return;s?v():g();function v(){let $=r.scopeValue("formats",{ref:y.formats,code:d.code.formats}),E=r.const("fDef",ue._`${$}[${a}]`),_=r.let("fType"),S=r.let("format");r.if(ue._`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(_,ue._`${E}.type || "string"`).assign(S,ue._`${E}.validate`),()=>r.assign(_,ue._`"string"`).assign(S,E)),t.fail$data(ue.or(M(),ae()));function M(){return d.strictSchema===!1?ue.nil:ue._`${a} && !${S}`}function ae(){let H=p.$async?ue._`(${E}.async ? await ${S}(${n}) : ${S}(${n}))`:ue._`${S}(${n})`,L=ue._`(typeof ${S} == "function" ? ${H} : ${S}.test(${n}))`;return ue._`${S} && ${S} !== true && ${_} === ${e} && !${L}`}}function g(){let $=y.formats[i];if(!$){M();return}if($===!0)return;let[E,_,S]=ae($);E===e&&t.pass(H());function M(){if(d.strictSchema===!1){y.logger.warn(L());return}throw new Error(L());function L(){return`unknown format "${i}" ignored in schema at path "${f}"`}}function ae(L){let O=L instanceof RegExp?ue.regexpCode(L):d.code.formats?ue._`${d.code.formats}${ue.getProperty(i)}`:void 0,C=r.scopeValue("formats",{key:i,ref:L,code:O});return typeof L=="object"&&!(L instanceof RegExp)?[L.type||"string",L.validate,ue._`${C}.validate`]:["string",L,C]}function H(){if(typeof $=="object"&&!($ instanceof RegExp)&&$.async){if(!p.$async)throw new Error("async format in sync schema");return ue._`await ${S}(${n})`}return typeof _=="function"?ue._`${S}(${n})`:ue._`${S}.test(${n})`}}}};xs.default=kp});var Bo=w(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var Dp=Yo(),Mp=[Dp.default];Ls.default=Mp});var Qo=w(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.contentVocabulary=Yt.metadataVocabulary=void 0;Yt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Yt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Zo=w(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});var Vp=io(),Fp=Eo(),zp=Wo(),Up=Bo(),Xo=Qo(),xp=[Vp.default,Fp.default,zp.default(),Up.default,Xo.metadataVocabulary,Xo.contentVocabulary];Ks.default=xp});var eu=w(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.DiscrError=void 0;var Lp;(function(t){t.Tag="tag",t.Mapping="mapping"})(Lp=Cr.DiscrError||(Cr.DiscrError={}))});var tu=w(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});var Bt=T(),Hs=eu(),Kp={message:({params:{discrError:t,tagName:e}})=>t===Hs.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>Bt._`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Hp={keyword:"discriminator",type:"object",schemaType:"object",error:Kp,code(t){let{gen:e,data:r,schema:n,parentSchema:s,it:i}=t,{oneOf:a}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let d=e.let("valid",!1),f=e.const("tag",Bt._`${r}${Bt.getProperty(u)}`);e.if(Bt._`typeof ${f} == "string"`,()=>p(),()=>t.error(!1,{discrError:Hs.DiscrError.Tag,tag:f,tagName:u})),t.ok(d);function p(){let g=v();e.if(!1);for(let $ in g)e.elseIf(Bt._`${f} === ${$}`),e.assign(d,y(g[$]));e.else(),t.error(!1,{discrError:Hs.DiscrError.Mapping,tag:f,tagName:u}),e.endIf()}function y(g){let $=e.name("valid"),E=t.subschema({keyword:"oneOf",schemaProp:g},$);return t.mergeEvaluated(E,Bt.Name),$}function v(){var g;let $={},E=S(s),_=!0;for(let H=0;H<a.length;H++){let L=a[H],O=(g=L.properties)===null||g===void 0?void 0:g[u];if(typeof O!="object")throw new Error(`discriminator: oneOf schemas must have "properties/${u}"`);_=_&&(E||S(L)),M(O,H)}if(!_)throw new Error(`discriminator: "${u}" must be required`);return $;function S({required:H}){return Array.isArray(H)&&H.includes(u)}function M(H,L){if(H.const)ae(H.const,L);else if(H.enum)for(let O of H.enum)ae(O,L);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function ae(H,L){if(typeof H!="string"||H in $)throw new Error(`discriminator: "${u}" values must be unique strings`);$[H]=L}}}};Gs.default=Hp});var ru=w((Gh,Gp)=>{Gp.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var pn=w((fe,su)=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.CodeGen=fe.Name=fe.nil=fe.stringify=fe.str=fe._=fe.KeywordCxt=void 0;var Jp=Za(),Wp=Zo(),Yp=tu(),nu=ru(),Bp=["/properties"],fn="http://json-schema.org/draft-07/schema",Js=class extends Jp.default{_addVocabularies(){super._addVocabularies(),Wp.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(Yp.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(nu,Bp):nu;this.addMetaSchema(e,fn,!1),this.refs["http://json-schema.org/schema"]=fn}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(fn)?fn:void 0)}};su.exports=fe=Js;Object.defineProperty(fe,"__esModule",{value:!0});fe.default=Js;var Qp=Gt();Object.defineProperty(fe,"KeywordCxt",{enumerable:!0,get:function(){return Qp.KeywordCxt}});var Qt=T();Object.defineProperty(fe,"_",{enumerable:!0,get:function(){return Qt._}});Object.defineProperty(fe,"str",{enumerable:!0,get:function(){return Qt.str}});Object.defineProperty(fe,"stringify",{enumerable:!0,get:function(){return Qt.stringify}});Object.defineProperty(fe,"nil",{enumerable:!0,get:function(){return Qt.nil}});Object.defineProperty(fe,"Name",{enumerable:!0,get:function(){return Qt.Name}});Object.defineProperty(fe,"CodeGen",{enumerable:!0,get:function(){return Qt.CodeGen}})});var uu=w(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.formatNames=Qe.fastFormats=Qe.fullFormats=void 0;function Xt(t,e){return{validate:t,compare:e}}Qe.fullFormats={date:Xt(iu,Ws),time:Xt(au,Bs),"date-time":Xt(tm,ou),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:sm,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:am,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/};Qe.fastFormats=de(ee({},Qe.fullFormats),{date:Xt(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Ws),time:Xt(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Bs),"date-time":Xt(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,ou),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});Qe.formatNames=Object.keys(Qe.fullFormats);function Xp(t){return t%4==0&&(t%100!=0||t%400==0)}var Zp=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,em=[0,31,28,31,30,31,30,31,31,30,31,30,31];function iu(t){let e=Zp.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],s=+e[3];return n>=1&&n<=12&&s>=1&&s<=(n===2&&Xp(r)?29:em[n])}function Ws(t,e){if(!!(t&&e))return t>e?1:t<e?-1:0}var Ys=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function au(t,e){let r=Ys.exec(t);if(!r)return!1;let n=+r[1],s=+r[2],i=+r[3],a=r[5];return(n<=23&&s<=59&&i<=59||n===23&&s===59&&i===60)&&(!e||a!=="")}function Bs(t,e){if(!(t&&e))return;let r=Ys.exec(t),n=Ys.exec(e);if(!!(r&&n))return t=r[1]+r[2]+r[3]+(r[4]||""),e=n[1]+n[2]+n[3]+(n[4]||""),t>e?1:t<e?-1:0}var Qs=/t|\s/i;function tm(t){let e=t.split(Qs);return e.length===2&&iu(e[0])&&au(e[1],!0)}function ou(t,e){if(!(t&&e))return;let[r,n]=t.split(Qs),[s,i]=e.split(Qs),a=Ws(r,s);if(a!==void 0)return a||Bs(n,i)}var rm=/\/|:/,nm=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function sm(t){return rm.test(t)&&nm.test(t)}var im=/[^\\]\\Z/;function am(t){if(im.test(t))return!1;try{return new RegExp(t),!0}catch(e){return!1}}});var cu=w(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.formatLimitDefinition=void 0;var om=pn(),Ve=T(),pt=Ve.operators,mn={formatMaximum:{okStr:"<=",ok:pt.LTE,fail:pt.GT},formatMinimum:{okStr:">=",ok:pt.GTE,fail:pt.LT},formatExclusiveMaximum:{okStr:"<",ok:pt.LT,fail:pt.GTE},formatExclusiveMinimum:{okStr:">",ok:pt.GT,fail:pt.LTE}},um={message:({keyword:t,schemaCode:e})=>Ve.str`should be ${mn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>Ve._`{comparison: ${mn[t].okStr}, limit: ${e}}`};Zt.formatLimitDefinition={keyword:Object.keys(mn),type:"string",schemaType:"string",$data:!0,error:um,code(t){let{gen:e,data:r,schemaCode:n,keyword:s,it:i}=t,{opts:a,self:u}=i;if(!a.validateFormats)return;let d=new om.KeywordCxt(i,u.RULES.all.format.definition,"format");d.$data?f():p();function f(){let v=e.scopeValue("formats",{ref:u.formats,code:a.code.formats}),g=e.const("fmt",Ve._`${v}[${d.schemaCode}]`);t.fail$data(Ve.or(Ve._`typeof ${g} != "object"`,Ve._`${g} instanceof RegExp`,Ve._`typeof ${g}.compare != "function"`,y(g)))}function p(){let v=d.schema,g=u.formats[v];if(!g||g===!0)return;if(typeof g!="object"||g instanceof RegExp||typeof g.compare!="function")throw new Error(`"${s}": format "${v}" does not define "compare" function`);let $=e.scopeValue("formats",{key:v,ref:g,code:a.code.formats?Ve._`${a.code.formats}${Ve.getProperty(v)}`:void 0});t.fail$data(y($))}function y(v){return Ve._`${v}.compare(${r}, ${n}) ${mn[s].fail} 0`}},dependencies:["format"]};var cm=t=>(t.addKeyword(Zt.formatLimitDefinition),t);Zt.default=cm});var pu=w((qr,fu)=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});var er=uu(),lm=cu(),Xs=T(),lu=new Xs.Name("fullFormats"),dm=new Xs.Name("fastFormats"),Zs=(t,e={keywords:!0})=>{if(Array.isArray(e))return du(t,e,er.fullFormats,lu),t;let[r,n]=e.mode==="fast"?[er.fastFormats,dm]:[er.fullFormats,lu],s=e.formats||er.formatNames;return du(t,s,r,n),e.keywords&&lm.default(t),t};Zs.get=(t,e="full")=>{let n=(e==="fast"?er.fastFormats:er.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function du(t,e,r,n){var s,i;(s=(i=t.opts.code).formats)!==null&&s!==void 0||(i.formats=Xs._`require("ajv-formats/dist/formats").${n}`);for(let a of e)t.addFormat(a,r[a])}fu.exports=qr=Zs;Object.defineProperty(qr,"__esModule",{value:!0});qr.default=Zs});var $u=w((ti,ri)=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});var b=pn(),mt=T(),mu=Vt(),fm=Gt(),jr=Ut(),Fe=Je(),hn="errorMessage",ht=new b.Name("emUsed"),hu={required:"missingProperty",dependencies:"property",dependentRequired:"property"},yu=/\$\{[^}]+\}/,pm=/\$\{([^}]+)\}/g,mm=/^""\s*\+\s*|\s*\+\s*""$/g;function hm(t){return{keyword:hn,schemaType:["string","object"],post:!0,code(e){let{gen:r,data:n,schema:s,schemaValue:i,it:a}=e;if(a.createErrors===!1)return;let u=s,d=mt.strConcat(Fe.default.instancePath,a.errorPath);r.if(b._`${Fe.default.errors} > 0`,()=>{if(typeof u=="object"){let[C,D]=p(u);D&&y(D),C&&v(C),g(f(u))}let O=typeof u=="string"?u:u._;O&&$(O),t.keepErrors||E()});function f({properties:O,items:C}){let D={};if(O){D.props={};for(let G in O)D.props[G]=[]}if(C){D.items={};for(let G=0;G<C.length;G++)D.items[G]=[]}return D}function p(O){let C,D;for(let G in O){if(G==="properties"||G==="items")continue;let B=O[G];if(typeof B=="object"){C||(C={});let oe=C[G]={};for(let I in B)oe[I]=[]}else D||(D={}),D[G]=[]}return[C,D]}function y(O){let C=r.const("emErrors",b.stringify(O)),D=r.const("templates",ae(O,s));r.forOf("err",Fe.default.vErrors,I=>r.if(_(I,C),()=>r.code(b._`${C}[${I}.keyword].push(${I})`).assign(b._`${I}.${ht}`,!0)));let{singleError:G}=t;if(G){let I=r.let("message",b._`""`),J=r.let("paramsErrors",b._`[]`);B(Pe=>{r.if(I,()=>r.code(b._`${I} += ${typeof G=="string"?G:";"}`)),r.code(b._`${I} += ${oe(Pe)}`),r.assign(J,b._`${J}.concat(${C}[${Pe}])`)}),jr.reportError(e,{message:I,params:b._`{errors: ${J}}`})}else B(I=>jr.reportError(e,{message:oe(I),params:b._`{errors: ${C}[${I}]}`}));function B(I){r.forIn("key",C,J=>r.if(b._`${C}[${J}].length`,()=>I(J)))}function oe(I){return b._`${I} in ${D} ? ${D}[${I}]() : ${i}[${I}]`}}function v(O){let C=r.const("emErrors",b.stringify(O)),D=[];for(let J in O)D.push([J,ae(O[J],s[J])]);let G=r.const("templates",r.object(...D)),B=r.scopeValue("obj",{ref:hu,code:b.stringify(hu)}),oe=r.let("emPropParams"),I=r.let("emParamsErrors");r.forOf("err",Fe.default.vErrors,J=>r.if(_(J,C),()=>{r.assign(oe,b._`${B}[${J}.keyword]`),r.assign(I,b._`${C}[${J}.keyword][${J}.params[${oe}]]`),r.if(I,()=>r.code(b._`${I}.push(${J})`).assign(b._`${J}.${ht}`,!0))})),r.forIn("key",C,J=>r.forIn("keyProp",b._`${C}[${J}]`,Pe=>{r.assign(I,b._`${C}[${J}][${Pe}]`),r.if(b._`${I}.length`,()=>{let ze=r.const("tmpl",b._`${G}[${J}] && ${G}[${J}][${Pe}]`);jr.reportError(e,{message:b._`${ze} ? ${ze}() : ${i}[${J}][${Pe}]`,params:b._`{errors: ${I}}`})})}))}function g(O){let{props:C,items:D}=O;if(!C&&!D)return;let G=b._`typeof ${n} == "object"`,B=b._`Array.isArray(${n})`,oe=r.let("emErrors"),I,J,Pe=r.let("templates");C&&D?(I=r.let("emChildKwd"),r.if(G),r.if(B,()=>{ze(D,s.items),r.assign(I,b.str`items`)},()=>{ze(C,s.properties),r.assign(I,b.str`properties`)}),J=b._`[${I}]`):D?(r.if(B),ze(D,s.items),J=b._`.items`):C&&(r.if(mt.and(G,mt.not(B))),ze(C,s.properties),J=b._`.properties`),r.forOf("err",Fe.default.vErrors,ge=>S(ge,oe,tr=>r.code(b._`${oe}[${tr}].push(${ge})`).assign(b._`${ge}.${ht}`,!0))),r.forIn("key",oe,ge=>r.if(b._`${oe}[${ge}].length`,()=>{jr.reportError(e,{message:b._`${ge} in ${Pe} ? ${Pe}[${ge}]() : ${i}${J}[${ge}]`,params:b._`{errors: ${oe}[${ge}]}`}),r.assign(b._`${Fe.default.vErrors}[${Fe.default.errors}-1].instancePath`,b._`${d} + "/" + ${ge}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),r.endIf();function ze(ge,tr){r.assign(oe,b.stringify(ge)),r.assign(Pe,ae(ge,tr))}}function $(O){let C=r.const("emErrs",b._`[]`);r.forOf("err",Fe.default.vErrors,D=>r.if(M(D),()=>r.code(b._`${C}.push(${D})`).assign(b._`${D}.${ht}`,!0))),r.if(b._`${C}.length`,()=>jr.reportError(e,{message:H(O),params:b._`{errors: ${C}}`}))}function E(){let O=r.const("emErrs",b._`[]`);r.forOf("err",Fe.default.vErrors,C=>r.if(b._`!${C}.${ht}`,()=>r.code(b._`${O}.push(${C})`))),r.assign(Fe.default.vErrors,O).assign(Fe.default.errors,b._`${O}.length`)}function _(O,C){return mt.and(b._`${O}.keyword !== ${hn}`,b._`!${O}.${ht}`,b._`${O}.instancePath === ${d}`,b._`${O}.keyword in ${C}`,b._`${O}.schemaPath.indexOf(${a.errSchemaPath}) === 0`,b._`/^\\/[^\\/]*$/.test(${O}.schemaPath.slice(${a.errSchemaPath.length}))`)}function S(O,C,D){r.if(mt.and(b._`${O}.keyword !== ${hn}`,b._`!${O}.${ht}`,b._`${O}.instancePath.indexOf(${d}) === 0`),()=>{let G=r.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:b._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),B=r.const("emMatches",b._`${G}.exec(${O}.instancePath.slice(${d}.length))`),oe=r.const("emChild",b._`${B} && ${B}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);r.if(b._`${oe} !== undefined && ${oe} in ${C}`,()=>D(oe))})}function M(O){return mt.and(b._`${O}.keyword !== ${hn}`,b._`!${O}.${ht}`,mt.or(b._`${O}.instancePath === ${d}`,mt.and(b._`${O}.instancePath.indexOf(${d}) === 0`,b._`${O}.instancePath[${d}.length] === "/"`)),b._`${O}.schemaPath.indexOf(${a.errSchemaPath}) === 0`,b._`${O}.schemaPath[${a.errSchemaPath}.length] === "/"`)}function ae(O,C){let D=[];for(let G in O){let B=C[G];yu.test(B)&&D.push([G,L(B)])}return r.object(...D)}function H(O){return yu.test(O)?new mu._Code(mu.safeStringify(O).replace(pm,(C,D)=>`" + JSON.stringify(${fm.getData(D,a)}) + "`).replace(mm,"")):b.stringify(O)}function L(O){return b._`function(){return ${H(O)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}var ei=(t,e={})=>{if(!t.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(t.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return t.addKeyword(hm(e))};ti.default=ei;ri.exports=ei;ri.exports.default=ei});var gu=w((Yh,ym)=>{ym.exports={title:"analytics.txt",description:"A schema for validating analytics.txt files as specified in draft-ring-analyticstxt-00",$schema:"http://json-schema.org/draft-07/schema#",definitions:{FieldComments:{type:"array",items:{type:"string"}},Author:{type:"array",minItems:1,maxItems:1,items:{oneOf:[{type:"string",format:"email"},{type:"string",pattern:"^.+\\s<[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?>$"}]}},NoneValue:{description:"A single value 'none' is given",type:"array",items:{enum:["none"]},minItems:1,maxItems:1},SingleValue:{description:"A single arbitrary string value is given",type:"array",items:{type:"string"},minItems:1,maxItems:1},UniqueValues:{description:"A non-empty list of unique strings",type:"array",uniqueItems:!0,minItems:1,items:{type:"string"}},Ordering:{uniqueItems:!0,type:"array",items:{type:"string"}}},oneOf:[{type:"object",description:"A declaration where data is being collected",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/Author"}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["url","ip-address","geo-location","user-agent","fingerprint","device-type","referrer","visit-duration","custom-events","session-recording"]}}]}}},Stores:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["first-party-cookies","third-party-cookies","local-storage","cache"]}}]}]}}},Uses:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["javascript","pixel","server-side","logs","other"]}}]}}},Allows:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["opt-in","opt-out"]}}]}]}}},Retains:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/SingleValue"},{oneOf:[{type:"array",items:{oneOf:[{type:"string",format:"duration"},{type:"string",enum:["perpetual"]}]}}]}]}}},Honors:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["do-not-track","global-privacy-control"]}}]}]}}},Tracks:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/UniqueValues"},{oneOf:[{$ref:"#/definitions/NoneValue"},{type:"array",items:{enum:["sessions","users"]}}]}]}}},Varies:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/SingleValue"},{type:"array",items:{enum:["none","random","behavioral"]}}]}}},Shares:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["per-user","general-public","third-party"]}}]}]}}},Implements:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/UniqueValues"}}},Deploys:{additionalProperties:!1,type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/UniqueValues"}}}},required:["Author","Collects","Stores","Uses","Allows","Retains"],additionalProperties:!1},{type:"object",description:"A file declaring that no data is collected",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/Author"}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/NoneValue"}}}},required:["Author","Collects"],additionalProperties:!1}]}});var vu=w((Bh,$m)=>{$m.exports={title:"analytics.txt",description:"A schema for validating analytics.txt files as specified in draft-ring-analyticstxt-01",errorMessage:{oneOf:"The given data did neither match a full or a minimal definition."},$schema:"http://json-schema.org/draft-07/schema#",oneOf:[{title:"Full Definition",errorMessage:"A full definition must contain all fields required by the specification and can also contain optional fields.",description:"A declaration where data is being collected",type:"object",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, the Author field must be a proper name-addr.",type:"array",minItems:1,maxItems:1,items:{oneOf:[{type:"string",format:"email"},{$ref:"#/definitions/name-addr"}]}}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Collects is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["url","ip-address","geo-location","user-agent","fingerprint","device-type","referrer","visit-duration","custom-events","session-recording"]}}]}}},Stores:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Stores is expected to be a list containing allowed items only.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["first-party-cookies","third-party-cookies","local-storage","cache"]}}]}]}}},Uses:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Uses is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["javascript","pixel","server-side","logs","other"]}}]}}},Allows:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Allows is expected to be 'none' or a list containing allowed items only.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["opt-in","opt-out"]}}]}]}}},Retains:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Retains is expected to be a duration as per ISO8601 or the value 'perpetual'.",allOf:[{$ref:"#/definitions/SingleValue"},{oneOf:[{type:"array",items:{oneOf:[{type:"string",format:"duration"},{type:"string",enum:["perpetual"]}]}}]}]}}},Honors:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Honors is expected to be either 'none' or a list of allowed items.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["do-not-track","global-privacy-control"]}}]}]}}},Tracks:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Tracks is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{oneOf:[{$ref:"#/definitions/NoneValue"},{type:"array",items:{enum:["sessions","users"]}}]}]}}},Varies:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Varies is expected to be a single, allowed value.",allOf:[{$ref:"#/definitions/SingleValue"},{type:"array",items:{enum:["none","random","behavioral","geographic"]}}]}}},Shares:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Shares is expected to be a combination of allowed values or 'none'.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["per-user","general-public","third-party"]}}]}]}}},Implements:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Implements is expected to be a list of unique items.",oneOf:[{$ref:"#/definitions/UniqueValues"}]}}},Deploys:{additionalProperties:!1,type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Deploys is expected to be a list of unique items.",oneOf:[{$ref:"#/definitions/UniqueValues"}]}}}},required:["Author","Collects","Stores","Uses","Allows","Retains"],additionalProperties:!1},{title:"MinimalDefinition",description:"A file declaring that no data is collected",type:"object",errorMessage:"A minimal definition is composed of an Author field and a Collects field with the single value none.",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{type:"array",minItems:1,maxItems:1,items:{errorMessage:"The Author field must contain an optional name and a required email address in 'name-addr' form.",oneOf:[{type:"string",format:"email"},{$ref:"#/definitions/name-addr"}]}}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a minimal definition, the only Value in the Collects field must be 'none'.",oneOf:[{$ref:"#/definitions/NoneValue"}]}}}},required:["Author","Collects"],additionalProperties:!1}],definitions:{FieldComments:{type:"array",items:{type:"string"}},"name-addr":{type:"string",pattern:"^.+\\s<[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?>$"},NoneValue:{description:"A single value 'none' is given",type:"array",items:{enum:["none"]},minItems:1,maxItems:1},SingleValue:{description:"A single arbitrary string value is given",type:"array",items:{type:"string"},minItems:1,maxItems:1},UniqueValues:{description:"A non-empty list of unique strings",type:"array",uniqueItems:!0,minItems:1,items:{type:"string"}},Ordering:{uniqueItems:!0,type:"array",items:{type:"string"}}}}});var _u=w((Qh,gm)=>{gm.exports={title:"analytics.txt",description:"A schema for validating analytics.txt files as specified in draft-ring-analyticstxt-02",errorMessage:{oneOf:"The given data did neither match a full or a minimal definition."},$schema:"http://json-schema.org/draft-07/schema#",oneOf:[{title:"Full Definition",errorMessage:"A full definition must contain all fields required by the specification and can also contain optional fields.",description:"A declaration where data is being collected",type:"object",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, the Author field must be a proper name-addr.",type:"array",minItems:1,maxItems:1,items:{oneOf:[{type:"string",format:"email"},{$ref:"#/definitions/name-addr"}]}}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Collects is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["url","ip-address","geo-location","user-agent","fingerprint","device-type","referrer","visit-duration","custom-events","session-recording"]}}]}}},Stores:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Stores is expected to be a list containing allowed items only.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["first-party-cookies","third-party-cookies","local-storage","cache"]}}]}]}}},Uses:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Uses is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["javascript","pixel","server-side","logs","other"]}}]}}},Allows:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Allows is expected to be 'none' or a list containing allowed items only.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["opt-in","opt-out"]}}]}]}}},Retains:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Retains is expected to be a number of days 'perpetual'.",allOf:[{$ref:"#/definitions/SingleValue"},{oneOf:[{type:"array",items:{oneOf:[{type:"string",pattern:"^\\d+\\s*days$"},{type:"string",enum:["perpetual"]}]}}]}]}}},Honors:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Honors is expected to be either 'none' or a list of allowed items.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["do-not-track","global-privacy-control"]}}]}]}}},Tracks:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Tracks is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{oneOf:[{$ref:"#/definitions/NoneValue"},{type:"array",items:{enum:["sessions","users"]}}]}]}}},Varies:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Varies is expected to be a single, allowed value.",allOf:[{$ref:"#/definitions/SingleValue"},{type:"array",items:{enum:["none","random","behavioral","geographic"]}}]}}},Shares:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Shares is expected to be a combination of allowed values or 'none'.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["per-user","general-public","third-party"]}}]}]}}},Implements:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Implements is expected to be a list of unique items.",oneOf:[{$ref:"#/definitions/UniqueValues"}]}}},Deploys:{additionalProperties:!1,type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Deploys is expected to be a list of unique items.",oneOf:[{$ref:"#/definitions/UniqueValues"}]}}}},required:["Author","Collects","Stores","Uses","Allows","Retains"],additionalProperties:!1},{title:"MinimalDefinition",description:"A file declaring that no data is collected",type:"object",errorMessage:"A minimal definition is composed of an Author field and a Collects field with the single value none.",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{type:"array",minItems:1,maxItems:1,items:{errorMessage:"The Author field must contain an optional name and a required email address in 'name-addr' form.",oneOf:[{type:"string",format:"email"},{$ref:"#/definitions/name-addr"}]}}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a minimal definition, the only Value in the Collects field must be 'none'.",oneOf:[{$ref:"#/definitions/NoneValue"}]}}}},required:["Author","Collects"],additionalProperties:!1}],definitions:{FieldComments:{type:"array",items:{type:"string"}},"name-addr":{type:"string",pattern:"^.+\\s<[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?>$"},NoneValue:{description:"A single value 'none' is given",type:"array",items:{enum:["none"]},minItems:1,maxItems:1},SingleValue:{description:"A single arbitrary string value is given",type:"array",items:{type:"string"},minItems:1,maxItems:1},UniqueValues:{description:"A non-empty list of unique strings",type:"array",uniqueItems:!0,minItems:1,items:{type:"string"}},Ordering:{uniqueItems:!0,type:"array",items:{type:"string"}}}}});var ni=w(Tr=>{Tr["draft-ring-analyticstxt-00"]=gu();Tr["draft-ring-analyticstxt-01"]=vu();Tr["draft-ring-analyticstxt-02"]=_u();Tr.defaultVersion="draft-ring-analyticstxt-02"});var Su=w(yn=>{var vm=pn(),_m=pu(),Em=$u(),Eu=ni(),{defaultVersion:si}=Eu;yn.validate=wm;function wm(t,{draftName:e=si}={}){let[r,n]=wu(t);return n||ii(r,e)}yn.parse=bm;function bm(t,{draftName:e=si,lax:r=!1}={}){let[n,s]=wu(t);if(s)return[null,s];let i=r?null:ii(n,e);return[n,i]}yn.serialize=Sm;function Sm(t,{draftName:e=si,lax:r=!1}={}){let n=r?null:ii(t,e);return n?[null,n]:Pm(t)}function ii(t,e){let r=Eu[e];if(!r)throw new Error(`Schema for ${e} is unknown.`);let n=new vm({allErrors:!0});_m(n),Em(n);let s=n.compile(r);if(s(t))return null;let a=s.errors.filter(function(u){return u.keyword==="errorMessage"}).sort(function(u,d){return u.schemaPath.localeCompare(d.schemaPath)}).map(function(u){return u.message}).join(" ");return new Error(a)}function Pm(t){let e=[];for(let r of t._ordering||Object.keys(t)){let{values:n,comments:s}=t[r];if(!Array.isArray(n)||n.some(i=>typeof i!="string"))return[null,new Error("Only string arrays can be used as values")];if(Array.isArray(s))for(let i of s)e.push(`# ${i}`);e.push(`${bu(r)}: ${n.join(", ")}`)}return[e.join(`
`)+`
`,null]}function wu(t){let e={_ordering:[]},r=[];for(let[n,s]of t.split(/\r?\n/).entries()){let i;try{i=Om(s)}catch(y){let v=new Error(`Unexpected error parsing line ${n+1}: ${y.message}`);return[null,v]}let{error:a,isEmpty:u,comment:d,field:f,values:p}=i;if(a){let y=new Error(`Failed to parse line ${n+1}: ${a.message}`);return[null,y]}if(!u){if(d){r.push(d);continue}if(f in e){let y=new Error(`Field "${f}" redefined on line ${n+1}. Field names can only occur once.`);return[null,y]}e._ordering.push(f),e[f]={values:p},r.length&&(e[f].comments=r),r=[]}}return[e,null]}function Om(t){t=t.trim();let e={error:null,field:null,values:null,comment:null,isEmpty:!1};if(!t)return de(ee({},e),{isEmpty:!0});if(/^#/.test(t))return de(ee({},e),{comment:t.replace(/^#\s+/,"")});let[r,n]=t.split(":");if(!r||!n){let s=new Error("No field name or value found.");return de(ee({},e),{error:s})}return de(ee({},e),{field:bu(r),values:Nm(n)})}function bu(t){return t.split("").map((e,r)=>r?e:e.toUpperCase()).join("")}function Nm(t){return t.split(",").map(e=>e.trim())}});var Cm=w((ey,Cu)=>{var{validate:Pu,parse:Ou,serialize:Nu}=Su(),ai=ni();Cu.exports={validate:Pu,mustValidate:oi(Pu),parse:Ou,mustParse:oi(Ou),serialize:Nu,mustSerialize:oi(Nu),defaultVersion:ai.defaultVersion,schema:ai[ai.defaultVersion]};function oi(t){return function(){let e=t.apply(null,arguments);if(Array.isArray(e)){if(e[1])throw e[1];return e[0]}if(e)throw e}}});return Cm();})();
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
