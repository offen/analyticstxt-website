{% extends "page.html" %}

{% block content %}
<main class="bg-page ph3 pt4 pt5-ns pb6">
  <div class="relative">
    <div class="absolute deko-page">
    </div>
  </div>
  <div class="cf">
    <div class="fr mr6-m mr7-l">
      <div class="mw6">




<h1 class="f5 normal ma0 fnt-bold-small">Wizard</h1>
<div class="clr-fnt-blue" id="wizard" v-cloak>
  <h2 class="f5 normal ma0 fnt-bold-small clr-fnt-blue">Presets</h2>
  <div v-for="preset in presets">
    <button v-on:click="usePreset(preset.doc)">
      <%= preset.name %>
    </button>
  </div>

  <form v-on:submit.prevent>
    <fieldset v-for="(field, key) in fields" v-if="applies(key)">

      <div v-if="field.type === 'input'">
        <h2 class="f5 normal ma0 fnt-bold-small">
          <%= key %>
          <small class="fnt-italic-small" v-if="field.optional">
            optional
          </small>
        </h2>
        <input
          type="text"
          v-model="field.value"
        >
      </div>

      <div v-if="field.type === 'checkboxes'">
        <h2 class="f5 normal ma0 fnt-bold-small">
          <%= key %>
          <small class="fnt-italic-small" v-if="field.optional">
            optional
          </small>
        </h2>
        <label v-for="option in field.options">
          <input
            type="checkbox"
            v-bind:value="option.value"
            v-model="field.value"
          >
          <%= option.label %>
        </label>
      </div>

      <div v-if="field.comment !== null">
        <h4>Comment</h4>
        <input
          type="text"
          v-model="field.comment"
        >
        <button v-on:click="toggleComment(key)">
          Remove comment
        </button>
      </div>
      <div v-else>
        <button v-on:click="toggleComment(key)">
          Add comment to this field
        </button>
      </div>

    </fieldset>
  </form>

  <div class="mw7 ba bw1 b--moon-gray mt3 ml5-l mr3-m">
    <div class="h1 bg-moon-gray"></div>
    <div class="f6 f5-ns code pv4 ph3 ph4-ns bg-near-white clr-fnt-black">
      <pre class="lineheight-copy ma0 break-spaces">
<%= output %>
      </pre>
    </div>
  </div>

  <button
    class="js-copy-result-btn"
    v-bind:data-clipboard-text="output"
  >
    Copy to clipboard.
  </button>

  <p v-if="error">
    <%= error %>
  </p>
</div>






</div>
</div>
</div>
</main>
{% endblock %}
