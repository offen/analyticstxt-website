<h2>WIZARD</h2>
<div id="wizard" v-cloak>
  <h3>Presets</h3>
  <div v-for="preset in presets">
    <button v-on:click="usePreset(preset.doc)">
      <%= preset.name %>
    </button>
  </div>

  <form v-on:submit.prevent>
    <fieldset v-for="(field, key) in fields" v-if="applies(key)">

      <div v-if="field.type === 'input'">
        <h3>
          <%= key %>
          <small v-if="field.optional">
            (optional)
          </small>
        </h3>
        <input
          type="text"
          v-model="field.value"
        >
      </div>

      <div v-if="field.type === 'checkboxes'">
        <h3>
          <%= key %>
          <small v-if="field.optional">
            (optional)
          </small>
        </h3>
        <label v-for="option in field.options">
          <input
            type="checkbox"
            v-bind:value="option.value"
            v-model="field.value"
          >
          <%= option.label %>
        </label>
      </div>

      <div v-if="field.comment !== null">
        <h4>Comment</h4>
        <input
          type="text"
          v-model="field.comment"
        >
        <button v-on:click="toggleComment(key)">
          Remove comment
        </button>
      </div>
      <div v-else>
        <button v-on:click="toggleComment(key)">
          Add comment to this field
        </button>
      </div>

    </fieldset>
  </form>

  <div class="mw7 ba bw1 b--moon-gray mt3 ml5-l mr3-m">
    <div class="h1 bg-moon-gray"></div>
    <div class="f6 f5-ns code pv4 ph3 ph4-ns bg-near-white clr-fnt-black">
      <pre class="lineheight-copy ma0 break-spaces">
<%= output %>
      </pre>
    </div>
  </div>

  <button
    class="js-copy-result-btn"
    v-bind:data-clipboard-text="output"
  >
    Copy to clipboard.
  </button>

  <p v-if="error">
    <%= error %>
  </p>
</div>
