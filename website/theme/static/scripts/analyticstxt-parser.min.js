var analyticstxtParser=(()=>{var Zc=Object.defineProperty,eu=Object.defineProperties;var tu=Object.getOwnPropertyDescriptors;var Ca=Object.getOwnPropertySymbols;var ru=Object.prototype.hasOwnProperty,nu=Object.prototype.propertyIsEnumerable;var Ta=(t,e,r)=>e in t?Zc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ee=(t,e)=>{for(var r in e||(e={}))ru.call(e,r)&&Ta(t,r,e[r]);if(Ca)for(var r of Ca(e))nu.call(e,r)&&Ta(t,r,e[r]);return t},de=(t,e)=>eu(t,tu(e));var w=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Dt=(t,e,r)=>new Promise((n,s)=>{var a=d=>{try{c(r.next(d))}catch(f){s(f)}},i=d=>{try{c(r.throw(d))}catch(f){s(f)}},c=d=>d.done?n(d.value):Promise.resolve(d.value).then(a,i);c((r=r.apply(t,e)).next())});var Vt=w(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.regexpCode=Y.getProperty=Y.safeStringify=Y.stringify=Y.strConcat=Y.addCodeArg=Y.str=Y._=Y.nil=Y._Code=Y.Name=Y.IDENTIFIER=Y._CodeOrName=void 0;var Ir=class{};Y._CodeOrName=Ir;Y.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Mt=class extends Ir{constructor(e){super();if(!Y.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Y.Name=Mt;var He=class extends Ir{constructor(e){super();this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof Mt&&(r[n.str]=(r[n.str]||0)+1),r),{})}};Y._Code=He;Y.nil=new He("");function qa(t,...e){let r=[t[0]],n=0;for(;n<e.length;)Sn(r,e[n]),r.push(t[++n]);return new He(r)}Y._=qa;var bn=new He("+");function ja(t,...e){let r=[ur(t[0])],n=0;for(;n<e.length;)r.push(bn),Sn(r,e[n]),r.push(bn,ur(t[++n]));return su(r),new He(r)}Y.str=ja;function Sn(t,e){e instanceof He?t.push(...e._items):e instanceof Mt?t.push(e):t.push(ou(e))}Y.addCodeArg=Sn;function su(t){let e=1;for(;e<t.length-1;){if(t[e]===bn){let r=au(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function au(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Mt||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Mt))return`"${t}${e.slice(1)}`}function iu(t,e){return e.emptyStr()?t:t.emptyStr()?e:ja`${t}${e}`}Y.strConcat=iu;function ou(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:ur(Array.isArray(t)?t.join(","):t)}function cu(t){return new He(ur(t))}Y.stringify=cu;function ur(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Y.safeStringify=ur;function uu(t){return typeof t=="string"&&Y.IDENTIFIER.test(t)?new He(`.${t}`):qa`[${t}]`}Y.getProperty=uu;function lu(t){return new He(t.toString())}Y.regexpCode=lu});var Cn=w(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.ValueScope=ve.ValueScopeName=ve.Scope=ve.varKinds=ve.UsedValueState=void 0;var we=Vt(),Aa=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`);this.value=e.value}},Pn;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Pn=ve.UsedValueState||(ve.UsedValueState={}));ve.varKinds={const:new we.Name("const"),let:new we.Name("let"),var:new we.Name("var")};var On=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof we.Name?e:this.name(e)}name(e){return new we.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};ve.Scope=On;var Nn=class extends we.Name{constructor(e,r){super(r);this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=we._`.${new we.Name(r)}[${n}]`}};ve.ValueScopeName=Nn;var du=we._`\n`,Ra=class extends On{constructor(e){super(e);this._values={},this._scope=e.scope,this.opts=de(ee({},e),{_n:e.lines?du:we.nil})}get(){return this._scope}name(e){return new Nn(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(e),{prefix:a}=s,i=(n=r.key)!==null&&n!==void 0?n:r.ref,c=this._values[a];if(c){let p=c.get(i);if(p)return p}else c=this._values[a]=new Map;c.set(i,s);let d=this._scope[a]||(this._scope[a]=[]),f=d.length;return d[f]=r.ref,s.setValue(r,{property:a,itemIndex:f}),s}getValue(e,r){let n=this._values[e];if(!!n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return we._`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(e,r,n={},s){let a=we.nil;for(let i in e){let c=e[i];if(!c)continue;let d=n[i]=n[i]||new Map;c.forEach(f=>{if(d.has(f))return;d.set(f,Pn.Started);let p=r(f);if(p){let y=this.opts.es5?ve.varKinds.var:ve.varKinds.const;a=we._`${a}${y} ${f} = ${p};${this.opts._n}`}else if(p=s==null?void 0:s(f))a=we._`${a}${p}${this.opts._n}`;else throw new Aa(f);d.set(f,Pn.Completed)})}return a}};ve.ValueScope=Ra});var j=w(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.or=I.and=I.not=I.CodeGen=I.operators=I.varKinds=I.ValueScopeName=I.ValueScope=I.Scope=I.Name=I.regexpCode=I.stringify=I.getProperty=I.nil=I.strConcat=I.str=I._=void 0;var V=Vt(),Re=Cn(),st=Vt();Object.defineProperty(I,"_",{enumerable:!0,get:function(){return st._}});Object.defineProperty(I,"str",{enumerable:!0,get:function(){return st.str}});Object.defineProperty(I,"strConcat",{enumerable:!0,get:function(){return st.strConcat}});Object.defineProperty(I,"nil",{enumerable:!0,get:function(){return st.nil}});Object.defineProperty(I,"getProperty",{enumerable:!0,get:function(){return st.getProperty}});Object.defineProperty(I,"stringify",{enumerable:!0,get:function(){return st.stringify}});Object.defineProperty(I,"regexpCode",{enumerable:!0,get:function(){return st.regexpCode}});Object.defineProperty(I,"Name",{enumerable:!0,get:function(){return st.Name}});var kr=Cn();Object.defineProperty(I,"Scope",{enumerable:!0,get:function(){return kr.Scope}});Object.defineProperty(I,"ValueScope",{enumerable:!0,get:function(){return kr.ValueScope}});Object.defineProperty(I,"ValueScopeName",{enumerable:!0,get:function(){return kr.ValueScopeName}});Object.defineProperty(I,"varKinds",{enumerable:!0,get:function(){return kr.varKinds}});I.operators={GT:new V._Code(">"),GTE:new V._Code(">="),LT:new V._Code("<"),LTE:new V._Code("<="),EQ:new V._Code("==="),NEQ:new V._Code("!=="),NOT:new V._Code("!"),OR:new V._Code("||"),AND:new V._Code("&&"),ADD:new V._Code("+")};var at=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},Ia=class extends at{constructor(e,r,n){super();this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?Re.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(e,r){if(!!e[this.name.str])return this.rhs&&(this.rhs=zt(this.rhs,e,r)),this}get names(){return this.rhs instanceof V._CodeOrName?this.rhs.names:{}}},Tn=class extends at{constructor(e,r,n){super();this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof V.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=zt(this.rhs,e,r),this}get names(){let e=this.lhs instanceof V.Name?{}:ee({},this.lhs.names);return Ur(e,this.rhs)}},ka=class extends Tn{constructor(e,r,n,s){super(e,n,s);this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Da=class extends at{constructor(e){super();this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},Ma=class extends at{constructor(e){super();this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},Va=class extends at{constructor(e){super();this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Fa=class extends at{constructor(e){super();this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=zt(this.code,e,r),this}get names(){return this.code instanceof V._CodeOrName?this.code.names:{}}},Dr=class extends at{constructor(e=[]){super();this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,s=n.length;for(;s--;){let a=n[s];a.optimizeNames(e,r)||(fu(e,a.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>vt(e,r.names),{})}},it=class extends Dr{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},za=class extends Dr{},lr=class extends it{};lr.kind="else";var Ge=class extends it{constructor(e,r){super(r);this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new lr(n):n}if(r)return e===!1?r instanceof Ge?r:r.nodes:this.nodes.length?this:new Ge(Ha(e),r instanceof Ge?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=zt(this.condition,e,r),this}get names(){let e=super.names;return Ur(e,this.condition),this.else&&vt(e,this.else.names),e}};Ge.kind="if";var Ft=class extends it{};Ft.kind="for";var Ua=class extends Ft{constructor(e){super();this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iteration=zt(this.iteration,e,r),this}get names(){return vt(super.names,this.iteration.names)}},xa=class extends Ft{constructor(e,r,n,s){super();this.varKind=e,this.name=r,this.from=n,this.to=s}render(e){let r=e.es5?Re.varKinds.var:this.varKind,{name:n,from:s,to:a}=this;return`for(${r} ${n}=${s}; ${n}<${a}; ${n}++)`+super.render(e)}get names(){let e=Ur(super.names,this.from);return Ur(e,this.to)}},qn=class extends Ft{constructor(e,r,n,s){super();this.loop=e,this.varKind=r,this.name=n,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iterable=zt(this.iterable,e,r),this}get names(){return vt(super.names,this.iterable.names)}},Mr=class extends it{constructor(e,r,n){super();this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Mr.kind="func";var Vr=class extends Dr{render(e){return"return "+super.render(e)}};Vr.kind="return";var La=class extends it{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,s;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(s=this.finally)===null||s===void 0||s.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&vt(e,this.catch.names),this.finally&&vt(e,this.finally.names),e}},Fr=class extends it{constructor(e){super();this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};Fr.kind="catch";var zr=class extends it{render(e){return"finally"+super.render(e)}};zr.kind="finally";var Ka=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=de(ee({},r),{_n:r.lines?`
`:""}),this._extScope=e,this._scope=new Re.Scope({parent:e}),this._nodes=[new za]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,s){let a=this._scope.toName(r);return n!==void 0&&s&&(this._constants[a.str]=n),this._leafNode(new Ia(e,a,n)),a}const(e,r,n){return this._def(Re.varKinds.const,e,r,n)}let(e,r,n){return this._def(Re.varKinds.let,e,r,n)}var(e,r,n){return this._def(Re.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new Tn(e,r,n))}add(e,r){return this._leafNode(new ka(e,I.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==V.nil&&this._leafNode(new Fa(e)),this}object(...e){let r=["{"];for(let[n,s]of e)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),V.addCodeArg(r,s));return r.push("}"),new V._Code(r)}if(e,r,n){if(this._blockNode(new Ge(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Ge(e))}else(){return this._elseNode(new lr)}endIf(){return this._endBlockNode(Ge,lr)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new Ua(e),r)}forRange(e,r,n,s,a=this.opts.es5?Re.varKinds.var:Re.varKinds.let){let i=this._scope.toName(e);return this._for(new xa(a,i,r,n),()=>s(i))}forOf(e,r,n,s=Re.varKinds.const){let a=this._scope.toName(e);if(this.opts.es5){let i=r instanceof V.Name?r:this.var("_arr",r);return this.forRange("_i",0,V._`${i}.length`,c=>{this.var(a,V._`${i}[${c}]`),n(a)})}return this._for(new qn("of",s,a,r),()=>n(a))}forIn(e,r,n,s=this.opts.es5?Re.varKinds.var:Re.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,V._`Object.keys(${r})`,n);let a=this._scope.toName(e);return this._for(new qn("in",s,a,r),()=>n(a))}endFor(){return this._endBlockNode(Ft)}label(e){return this._leafNode(new Da(e))}break(e){return this._leafNode(new Ma(e))}return(e){let r=new Vr;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Vr)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new La;if(this._blockNode(s),this.code(e),r){let a=this.name("e");this._currNode=s.catch=new Fr(a),r(a)}return n&&(this._currNode=s.finally=new zr,this.code(n)),this._endBlockNode(Fr,zr)}throw(e){return this._leafNode(new Va(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=V.nil,n,s){return this._blockNode(new Mr(e,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(Mr)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Ge))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};I.CodeGen=Ka;function vt(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Ur(t,e){return e instanceof V._CodeOrName?vt(t,e.names):t}function zt(t,e,r){if(t instanceof V.Name)return n(t);if(!s(t))return t;return new V._Code(t._items.reduce((a,i)=>(i instanceof V.Name&&(i=n(i)),i instanceof V._Code?a.push(...i._items):a.push(i),a),[]));function n(a){let i=r[a.str];return i===void 0||e[a.str]!==1?a:(delete e[a.str],i)}function s(a){return a instanceof V._Code&&a._items.some(i=>i instanceof V.Name&&e[i.str]===1&&r[i.str]!==void 0)}}function fu(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function Ha(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:V._`!${jn(t)}`}I.not=Ha;var pu=Ga(I.operators.AND);function mu(...t){return t.reduce(pu)}I.and=mu;var hu=Ga(I.operators.OR);function yu(...t){return t.reduce(hu)}I.or=yu;function Ga(t){return(e,r)=>e===V.nil?r:r===V.nil?e:V._`${jn(e)} ${t} ${jn(r)}`}function jn(t){return t instanceof V.Name?t:V._`(${t})`}});var K=w(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.checkStrictMode=k.getErrorPath=k.Type=k.useFunc=k.setEvaluated=k.evaluatedPropsToName=k.mergeEvaluated=k.eachItem=k.unescapeJsonPointer=k.escapeJsonPointer=k.escapeFragment=k.unescapeFragment=k.schemaRefOrVal=k.schemaHasRulesButRef=k.schemaHasRules=k.checkUnknownRules=k.alwaysValidSchema=k.toHash=void 0;var te=j(),$u=Vt();function gu(t){let e={};for(let r of t)e[r]=!0;return e}k.toHash=gu;function vu(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(Ja(t,e),!Wa(e,t.self.RULES.all))}k.alwaysValidSchema=vu;function Ja(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let s=n.RULES.keywords;for(let a in e)s[a]||ei(t,`unknown keyword: "${a}"`)}k.checkUnknownRules=Ja;function Wa(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}k.schemaHasRules=Wa;function _u(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}k.schemaHasRulesButRef=_u;function Eu({topSchemaRef:t,schemaPath:e},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return te._`${r}`}return te._`${t}${e}${te.getProperty(n)}`}k.schemaRefOrVal=Eu;function wu(t){return Ya(decodeURIComponent(t))}k.unescapeFragment=wu;function bu(t){return encodeURIComponent(An(t))}k.escapeFragment=bu;function An(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}k.escapeJsonPointer=An;function Ya(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}k.unescapeJsonPointer=Ya;function Su(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}k.eachItem=Su;function Ba({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(s,a,i,c)=>{let d=i===void 0?a:i instanceof te.Name?(a instanceof te.Name?t(s,a,i):e(s,a,i),i):a instanceof te.Name?(e(s,i,a),a):r(a,i);return c===te.Name&&!(d instanceof te.Name)?n(s,d):d}}k.mergeEvaluated={props:Ba({mergeNames:(t,e,r)=>t.if(te._`${r} !== true && ${e} !== undefined`,()=>{t.if(te._`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,te._`${r} || {}`).code(te._`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if(te._`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,te._`${r} || {}`),Rn(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:ee(ee({},t),e),resultToName:Qa}),items:Ba({mergeNames:(t,e,r)=>t.if(te._`${r} !== true && ${e} !== undefined`,()=>t.assign(r,te._`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if(te._`${r} !== true`,()=>t.assign(r,e===!0?!0:te._`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function Qa(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",te._`{}`);return e!==void 0&&Rn(t,r,e),r}k.evaluatedPropsToName=Qa;function Rn(t,e,r){Object.keys(r).forEach(n=>t.assign(te._`${e}${te.getProperty(n)}`,!0))}k.setEvaluated=Rn;var Xa={};function Pu(t,e){return t.scopeValue("func",{ref:e,code:Xa[e.code]||(Xa[e.code]=new $u._Code(e.code))})}k.useFunc=Pu;var Za;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Za=k.Type||(k.Type={}));function Ou(t,e,r){if(t instanceof te.Name){let n=e===Za.Num;return r?n?te._`"[" + ${t} + "]"`:te._`"['" + ${t} + "']"`:n?te._`"/" + ${t}`:te._`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?te.getProperty(t).toString():"/"+An(t)}k.getErrorPath=Ou;function ei(t,e,r=t.opts.strictSchema){if(!!r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}k.checkStrictMode=ei});var Je=w(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});var ye=j(),Nu={data:new ye.Name("data"),valCxt:new ye.Name("valCxt"),instancePath:new ye.Name("instancePath"),parentData:new ye.Name("parentData"),parentDataProperty:new ye.Name("parentDataProperty"),rootData:new ye.Name("rootData"),dynamicAnchors:new ye.Name("dynamicAnchors"),vErrors:new ye.Name("vErrors"),errors:new ye.Name("errors"),this:new ye.Name("this"),self:new ye.Name("self"),scope:new ye.Name("scope"),json:new ye.Name("json"),jsonPos:new ye.Name("jsonPos"),jsonLen:new ye.Name("jsonLen"),jsonPart:new ye.Name("jsonPart")};In.default=Nu});var Ut=w($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.extendErrors=$e.resetErrorsCount=$e.reportExtraError=$e.reportError=$e.keyword$DataError=$e.keywordError=void 0;var z=j(),xr=K(),_e=Je();$e.keywordError={message:({keyword:t})=>z.str`should pass "${t}" keyword validation`};$e.keyword$DataError={message:({keyword:t,schemaType:e})=>e?z.str`"${t}" keyword must be ${e} ($data)`:z.str`"${t}" keyword is invalid ($data)`};function Cu(t,e=$e.keywordError,r,n){let{it:s}=t,{gen:a,compositeRule:i,allErrors:c}=s,d=ni(t,e,r);(n!=null?n:i||c)?ti(a,d):ri(s,z._`[${d}]`)}$e.reportError=Cu;function Tu(t,e=$e.keywordError,r){let{it:n}=t,{gen:s,compositeRule:a,allErrors:i}=n,c=ni(t,e,r);ti(s,c),a||i||ri(n,_e.default.vErrors)}$e.reportExtraError=Tu;function qu(t,e){t.assign(_e.default.errors,e),t.if(z._`${_e.default.vErrors} !== null`,()=>t.if(e,()=>t.assign(z._`${_e.default.vErrors}.length`,e),()=>t.assign(_e.default.vErrors,null)))}$e.resetErrorsCount=qu;function ju({gen:t,keyword:e,schemaValue:r,data:n,errsCount:s,it:a}){if(s===void 0)throw new Error("ajv implementation error");let i=t.name("err");t.forRange("i",s,_e.default.errors,c=>{t.const(i,z._`${_e.default.vErrors}[${c}]`),t.if(z._`${i}.instancePath === undefined`,()=>t.assign(z._`${i}.instancePath`,z.strConcat(_e.default.instancePath,a.errorPath))),t.assign(z._`${i}.schemaPath`,z.str`${a.errSchemaPath}/${e}`),a.opts.verbose&&(t.assign(z._`${i}.schema`,r),t.assign(z._`${i}.data`,n))})}$e.extendErrors=ju;function ti(t,e){let r=t.const("err",e);t.if(z._`${_e.default.vErrors} === null`,()=>t.assign(_e.default.vErrors,z._`[${r}]`),z._`${_e.default.vErrors}.push(${r})`),t.code(z._`${_e.default.errors}++`)}function ri(t,e){let{gen:r,validateName:n,schemaEnv:s}=t;s.$async?r.throw(z._`new ${t.ValidationError}(${e})`):(r.assign(z._`${n}.errors`,e),r.return(!1))}var _t={keyword:new z.Name("keyword"),schemaPath:new z.Name("schemaPath"),params:new z.Name("params"),propertyName:new z.Name("propertyName"),message:new z.Name("message"),schema:new z.Name("schema"),parentSchema:new z.Name("parentSchema")};function ni(t,e,r){let{createErrors:n}=t.it;return n===!1?z._`{}`:Au(t,e,r)}function Au(t,e,r={}){let{gen:n,it:s}=t,a=[Ru(s,r),Iu(t,r)];return ku(t,e,a),n.object(...a)}function Ru({errorPath:t},{instancePath:e}){let r=e?z.str`${t}${xr.getErrorPath(e,xr.Type.Str)}`:t;return[_e.default.instancePath,z.strConcat(_e.default.instancePath,r)]}function Iu({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let s=n?e:z.str`${e}/${t}`;return r&&(s=z.str`${s}${xr.getErrorPath(r,xr.Type.Str)}`),[_t.schemaPath,s]}function ku(t,{params:e,message:r},n){let{keyword:s,data:a,schemaValue:i,it:c}=t,{opts:d,propertyName:f,topSchemaRef:p,schemaPath:y}=c;n.push([_t.keyword,s],[_t.params,typeof e=="function"?e(t):e||z._`{}`]),d.messages&&n.push([_t.message,typeof r=="function"?r(t):r]),d.verbose&&n.push([_t.schema,i],[_t.parentSchema,z._`${p}${y}`],[_e.default.data,a]),f&&n.push([_t.propertyName,f])}});var ai=w(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.boolOrEmptySchema=xt.topBoolOrEmptySchema=void 0;var Du=Ut(),Mu=j(),Vu=Je(),Fu={message:"boolean schema is false"};function zu(t){let{gen:e,schema:r,validateName:n}=t;r===!1?si(t,!1):typeof r=="object"&&r.$async===!0?e.return(Vu.default.data):(e.assign(Mu._`${n}.errors`,null),e.return(!0))}xt.topBoolOrEmptySchema=zu;function Uu(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),si(t)):r.var(e,!0)}xt.boolOrEmptySchema=Uu;function si(t,e){let{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};Du.reportError(s,Fu,void 0,e)}});var kn=w(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.getRules=Lt.isJSONType=void 0;var xu=["string","number","integer","boolean","null","object","array"],Lu=new Set(xu);function Ku(t){return typeof t=="string"&&Lu.has(t)}Lt.isJSONType=Ku;function Hu(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:de(ee({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Lt.getRules=Hu});var Dn=w(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.shouldUseRule=ot.shouldUseGroup=ot.schemaHasRulesForType=void 0;function Gu({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&ii(t,n)}ot.schemaHasRulesForType=Gu;function ii(t,e){return e.rules.some(r=>oi(t,r))}ot.shouldUseGroup=ii;function oi(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}ot.shouldUseRule=oi});var fr=w(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.reportTypeError=pe.checkDataTypes=pe.checkDataType=pe.coerceAndCheckDataType=pe.getJSONTypes=pe.getSchemaTypes=pe.DataType=void 0;var Ju=kn(),Wu=Dn(),Yu=Ut(),A=j(),ci=K(),dr;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(dr=pe.DataType||(pe.DataType={}));function Bu(t){let e=ui(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}pe.getSchemaTypes=Bu;function ui(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(Ju.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}pe.getJSONTypes=ui;function Qu(t,e){let{gen:r,data:n,opts:s}=t,a=Xu(e,s.coerceTypes),i=e.length>0&&!(a.length===0&&e.length===1&&Wu.schemaHasRulesForType(t,e[0]));if(i){let c=Vn(e,n,s.strictNumbers,dr.Wrong);r.if(c,()=>{a.length?Zu(t,e,a):Fn(t)})}return i}pe.coerceAndCheckDataType=Qu;var li=new Set(["string","number","integer","boolean","null"]);function Xu(t,e){return e?t.filter(r=>li.has(r)||e==="array"&&r==="array"):[]}function Zu(t,e,r){let{gen:n,data:s,opts:a}=t,i=n.let("dataType",A._`typeof ${s}`),c=n.let("coerced",A._`undefined`);a.coerceTypes==="array"&&n.if(A._`${i} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,A._`${s}[0]`).assign(i,A._`typeof ${s}`).if(Vn(e,s,a.strictNumbers),()=>n.assign(c,s))),n.if(A._`${c} !== undefined`);for(let f of r)(li.has(f)||f==="array"&&a.coerceTypes==="array")&&d(f);n.else(),Fn(t),n.endIf(),n.if(A._`${c} !== undefined`,()=>{n.assign(s,c),el(t,c)});function d(f){switch(f){case"string":n.elseIf(A._`${i} == "number" || ${i} == "boolean"`).assign(c,A._`"" + ${s}`).elseIf(A._`${s} === null`).assign(c,A._`""`);return;case"number":n.elseIf(A._`${i} == "boolean" || ${s} === null
              || (${i} == "string" && ${s} && ${s} == +${s})`).assign(c,A._`+${s}`);return;case"integer":n.elseIf(A._`${i} === "boolean" || ${s} === null
              || (${i} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(c,A._`+${s}`);return;case"boolean":n.elseIf(A._`${s} === "false" || ${s} === 0 || ${s} === null`).assign(c,!1).elseIf(A._`${s} === "true" || ${s} === 1`).assign(c,!0);return;case"null":n.elseIf(A._`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(c,null);return;case"array":n.elseIf(A._`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${s} === null`).assign(c,A._`[${s}]`)}}}function el({gen:t,parentData:e,parentDataProperty:r},n){t.if(A._`${e} !== undefined`,()=>t.assign(A._`${e}[${r}]`,n))}function Mn(t,e,r,n=dr.Correct){let s=n===dr.Correct?A.operators.EQ:A.operators.NEQ,a;switch(t){case"null":return A._`${e} ${s} null`;case"array":a=A._`Array.isArray(${e})`;break;case"object":a=A._`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":a=i(A._`!(${e} % 1) && !isNaN(${e})`);break;case"number":a=i();break;default:return A._`typeof ${e} ${s} ${t}`}return n===dr.Correct?a:A.not(a);function i(c=A.nil){return A.and(A._`typeof ${e} == "number"`,c,r?A._`isFinite(${e})`:A.nil)}}pe.checkDataType=Mn;function Vn(t,e,r,n){if(t.length===1)return Mn(t[0],e,r,n);let s,a=ci.toHash(t);if(a.array&&a.object){let i=A._`typeof ${e} != "object"`;s=a.null?i:A._`!${e} || ${i}`,delete a.null,delete a.array,delete a.object}else s=A.nil;a.number&&delete a.integer;for(let i in a)s=A.and(s,Mn(i,e,r,n));return s}pe.checkDataTypes=Vn;var tl={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?A._`{type: ${t}}`:A._`{type: ${e}}`};function Fn(t){let e=rl(t);Yu.reportError(e,tl)}pe.reportTypeError=Fn;function rl(t){let{gen:e,data:r,schema:n}=t,s=ci.schemaRefOrVal(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:t}}});var fi=w(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.assignDefaults=void 0;var Kt=j(),nl=K();function sl(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let s in r)di(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,a)=>di(t,a,s.default))}Lr.assignDefaults=sl;function di(t,e,r){let{gen:n,compositeRule:s,data:a,opts:i}=t;if(r===void 0)return;let c=Kt._`${a}${Kt.getProperty(e)}`;if(s){nl.checkStrictMode(t,`default is ignored for: ${c}`);return}let d=Kt._`${c} === undefined`;i.useDefaults==="empty"&&(d=Kt._`${d} || ${c} === null || ${c} === ""`),n.if(d,Kt._`${c} = ${Kt.stringify(r)}`)}});var je=w(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.validateUnion=X.validateArray=X.usePattern=X.callValidateCode=X.schemaProperties=X.allSchemaProperties=X.noPropertyInData=X.propertyInData=X.isOwnProperty=X.hasPropFunc=X.reportMissingProp=X.checkMissingProp=X.checkReportMissingProp=void 0;var ne=j(),zn=K(),ct=Je();function al(t,e){let{gen:r,data:n,it:s}=t;r.if(xn(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:ne._`${e}`},!0),t.error()})}X.checkReportMissingProp=al;function il({gen:t,data:e,it:{opts:r}},n,s){return ne.or(...n.map(a=>ne.and(xn(t,e,a,r.ownProperties),ne._`${s} = ${a}`)))}X.checkMissingProp=il;function ol(t,e){t.setParams({missingProperty:e},!0),t.error()}X.reportMissingProp=ol;function pi(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:ne._`Object.prototype.hasOwnProperty`})}X.hasPropFunc=pi;function Un(t,e,r){return ne._`${pi(t)}.call(${e}, ${r})`}X.isOwnProperty=Un;function cl(t,e,r,n){let s=ne._`${e}${ne.getProperty(r)} !== undefined`;return n?ne._`${s} && ${Un(t,e,r)}`:s}X.propertyInData=cl;function xn(t,e,r,n){let s=ne._`${e}${ne.getProperty(r)} === undefined`;return n?ne.or(s,ne.not(Un(t,e,r))):s}X.noPropertyInData=xn;function mi(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}X.allSchemaProperties=mi;function ul(t,e){return mi(e).filter(r=>!zn.alwaysValidSchema(t,e[r]))}X.schemaProperties=ul;function ll({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:i},c,d,f){let p=f?ne._`${t}, ${e}, ${n}${s}`:e,y=[[ct.default.instancePath,ne.strConcat(ct.default.instancePath,a)],[ct.default.parentData,i.parentData],[ct.default.parentDataProperty,i.parentDataProperty],[ct.default.rootData,ct.default.rootData]];i.opts.dynamicRef&&y.push([ct.default.dynamicAnchors,ct.default.dynamicAnchors]);let v=ne._`${p}, ${r.object(...y)}`;return d!==ne.nil?ne._`${c}.call(${d}, ${v})`:ne._`${c}(${v})`}X.callValidateCode=ll;function dl({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"";return t.scopeValue("pattern",{key:r,ref:new RegExp(r,n),code:ne._`new RegExp(${r}, ${n})`})}X.usePattern=dl;function fl(t){let{gen:e,data:r,keyword:n,it:s}=t,a=e.name("valid");if(s.allErrors){let c=e.let("valid",!0);return i(()=>e.assign(c,!1)),c}return e.var(a,!0),i(()=>e.break()),a;function i(c){let d=e.const("len",ne._`${r}.length`);e.forRange("i",0,d,f=>{t.subschema({keyword:n,dataProp:f,dataPropType:zn.Type.Num},a),e.if(ne.not(a),c)})}}X.validateArray=fl;function pl(t){let{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>zn.alwaysValidSchema(s,d))&&!s.opts.unevaluated)return;let i=e.let("valid",!1),c=e.name("_valid");e.block(()=>r.forEach((d,f)=>{let p=t.subschema({keyword:n,schemaProp:f,compositeRule:!0},c);e.assign(i,ne._`${i} || ${c}`),t.mergeValidEvaluated(p,c)||e.if(ne.not(i))})),t.result(i,()=>t.reset(),()=>t.error(!0))}X.validateUnion=pl});var $i=w(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.validateKeywordUsage=We.validSchemaType=We.funcKeywordCode=We.macroKeywordCode=void 0;var Ee=j(),Et=Je(),ml=je(),hl=Ut();function yl(t,e){let{gen:r,keyword:n,schema:s,parentSchema:a,it:i}=t,c=e.macro.call(i.self,s,a,i),d=yi(r,n,c);i.opts.validateSchema!==!1&&i.self.validateSchema(c,!0);let f=r.name("valid");t.subschema({schema:c,schemaPath:Ee.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:d,compositeRule:!0},f),t.pass(f,()=>t.error(!0))}We.macroKeywordCode=yl;function $l(t,e){var r;let{gen:n,keyword:s,schema:a,parentSchema:i,$data:c,it:d}=t;vl(d,e);let f=!c&&e.compile?e.compile.call(d.self,a,i,d):e.validate,p=yi(n,s,f),y=n.let("valid");t.block$data(y,v),t.ok((r=e.valid)!==null&&r!==void 0?r:y);function v(){if(e.errors===!1)E(),e.modifying&&hi(t),_(()=>t.error());else{let S=e.async?g():$();e.modifying&&hi(t),_(()=>gl(t,S))}}function g(){let S=n.let("ruleErrs",null);return n.try(()=>E(Ee._`await `),M=>n.assign(y,!1).if(Ee._`${M} instanceof ${d.ValidationError}`,()=>n.assign(S,Ee._`${M}.errors`),()=>n.throw(M))),S}function $(){let S=Ee._`${p}.errors`;return n.assign(S,null),E(Ee.nil),S}function E(S=e.async?Ee._`await `:Ee.nil){let M=d.opts.passContext?Et.default.this:Et.default.self,ie=!("compile"in e&&!c||e.schema===!1);n.assign(y,Ee._`${S}${ml.callValidateCode(t,p,M,ie)}`,e.modifying)}function _(S){var M;n.if(Ee.not((M=e.valid)!==null&&M!==void 0?M:y),S)}}We.funcKeywordCode=$l;function hi(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,Ee._`${n.parentData}[${n.parentDataProperty}]`))}function gl(t,e){let{gen:r}=t;r.if(Ee._`Array.isArray(${e})`,()=>{r.assign(Et.default.vErrors,Ee._`${Et.default.vErrors} === null ? ${e} : ${Et.default.vErrors}.concat(${e})`).assign(Et.default.errors,Ee._`${Et.default.vErrors}.length`),hl.extendErrors(t)},()=>t.error())}function vl({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function yi(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:Ee.stringify(r)})}function _l(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}We.validSchemaType=_l;function El({schema:t,opts:e,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");let i=s.dependencies;if(i==null?void 0:i.some(c=>!Object.prototype.hasOwnProperty.call(t,c)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[a])){let d=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(d);else throw new Error(d)}}We.validateKeywordUsage=El});var vi=w(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.extendSubschemaMode=ut.extendSubschemaData=ut.getSubschema=void 0;var Ye=j(),gi=K();function wl(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:i}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let c=t.schema[e];return r===void 0?{schema:c,schemaPath:Ye._`${t.schemaPath}${Ye.getProperty(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:c[r],schemaPath:Ye._`${t.schemaPath}${Ye.getProperty(e)}${Ye.getProperty(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${gi.escapeFragment(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}ut.getSubschema=wl;function bl(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:c}=e;if(r!==void 0){let{errorPath:f,dataPathArr:p,opts:y}=e,v=c.let("data",Ye._`${e.data}${Ye.getProperty(r)}`,!0);d(v),t.errorPath=Ye.str`${f}${gi.getErrorPath(r,n,y.jsPropertySyntax)}`,t.parentDataProperty=Ye._`${r}`,t.dataPathArr=[...p,t.parentDataProperty]}if(s!==void 0){let f=s instanceof Ye.Name?s:c.let("data",s,!0);d(f),i!==void 0&&(t.propertyName=i)}a&&(t.dataTypes=a);function d(f){t.data=f,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,f]}}ut.extendSubschemaData=bl;function Sl(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),a!==void 0&&(t.allErrors=a),t.jtdDiscriminator=e,t.jtdMetadata=r}ut.extendSubschemaMode=Sl});var Ln=w((Ym,_i)=>{"use strict";_i.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!=0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!=0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!=0;){var i=a[s];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}});var wi=w((Bm,Ei)=>{"use strict";var lt=Ei.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Kr(e,n,s,t,"",t)};lt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};lt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};lt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};lt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Kr(t,e,r,n,s,a,i,c,d,f){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,a,i,c,d,f);for(var p in n){var y=n[p];if(Array.isArray(y)){if(p in lt.arrayKeywords)for(var v=0;v<y.length;v++)Kr(t,e,r,y[v],s+"/"+p+"/"+v,a,s,p,n,v)}else if(p in lt.propsKeywords){if(y&&typeof y=="object")for(var g in y)Kr(t,e,r,y[g],s+"/"+p+"/"+Pl(g),a,s,p,n,g)}else(p in lt.keywords||t.allKeys&&!(p in lt.skipKeywords))&&Kr(t,e,r,y,s+"/"+p,a,s,p,n)}r(n,s,a,i,c,d,f)}}function Pl(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Kn=w((Hr,bi)=>{(function(t,e){typeof Hr=="object"&&typeof bi!="undefined"?e(Hr):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(Hr,function(t){"use strict";function e(){for(var u=arguments.length,o=Array(u),l=0;l<u;l++)o[l]=arguments[l];if(o.length>1){o[0]=o[0].slice(0,-1);for(var m=o.length-1,h=1;h<m;++h)o[h]=o[h].slice(1,-1);return o[m]=o[m].slice(1),o.join("")}else return o[0]}function r(u){return"(?:"+u+")"}function n(u){return u===void 0?"undefined":u===null?"null":Object.prototype.toString.call(u).split(" ").pop().split("]").shift().toLowerCase()}function s(u){return u.toUpperCase()}function a(u){return u!=null?u instanceof Array?u:typeof u.length!="number"||u.split||u.setInterval||u.call?[u]:Array.prototype.slice.call(u):[]}function i(u,o){var l=u;if(o)for(var m in o)l[m]=o[m];return l}function c(u){var o="[A-Za-z]",l="[\\x0D]",m="[0-9]",h="[\\x22]",P=e(m,"[A-Fa-f]"),q="[\\x0A]",U="[\\x20]",W=r(r("%[EFef]"+P+"%"+P+P+"%"+P+P)+"|"+r("%[89A-Fa-f]"+P+"%"+P+P)+"|"+r("%"+P+P)),ue="[\\:\\/\\?\\#\\[\\]\\@]",F="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",se=e(ue,F),le=u?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",re=u?"[\\uE000-\\uF8FF]":"[]",x=e(o,m,"[\\-\\.\\_\\~]",le),ae=r(o+e(o,m,"[\\+\\-\\.]")+"*"),Q=r(r(W+"|"+e(x,F,"[\\:]"))+"*"),yt=r(r("25[0-5]")+"|"+r("2[0-4]"+m)+"|"+r("1"+m+m)+"|"+r("[1-9]"+m)+"|"+m),Oe=r(r("25[0-5]")+"|"+r("2[0-4]"+m)+"|"+r("1"+m+m)+"|"+r("0?[1-9]"+m)+"|0?0?"+m),Te=r(Oe+"\\."+Oe+"\\."+Oe+"\\."+Oe),Z=r(P+"{1,4}"),Ne=r(r(Z+"\\:"+Z)+"|"+Te),qe=r(r(Z+"\\:")+"{6}"+Ne),Ke=r("\\:\\:"+r(Z+"\\:")+"{5}"+Ne),$t=r(r(Z)+"?\\:\\:"+r(Z+"\\:")+"{4}"+Ne),et=r(r(r(Z+"\\:")+"{0,1}"+Z)+"?\\:\\:"+r(Z+"\\:")+"{3}"+Ne),sr=r(r(r(Z+"\\:")+"{0,2}"+Z)+"?\\:\\:"+r(Z+"\\:")+"{2}"+Ne),jr=r(r(r(Z+"\\:")+"{0,3}"+Z)+"?\\:\\:"+Z+"\\:"+Ne),Ar=r(r(r(Z+"\\:")+"{0,4}"+Z)+"?\\:\\:"+Ne),qt=r(r(r(Z+"\\:")+"{0,5}"+Z)+"?\\:\\:"+Z),jt=r(r(r(Z+"\\:")+"{0,6}"+Z)+"?\\:\\:"),tt=r([qe,Ke,$t,et,sr,jr,Ar,qt,jt].join("|")),At=r(r(x+"|"+W)+"+"),En=r(tt+"\\%25"+At),gt=r(tt+r("\\%25|\\%(?!"+P+"{2})")+At),Gc=r("[vV]"+P+"+\\."+e(x,F,"[\\:]")+"+"),Jc=r("\\["+r(gt+"|"+tt+"|"+Gc)+"\\]"),Sa=r(r(W+"|"+e(x,F))+"*"),ar=r(Jc+"|"+Te+"(?!"+Sa+")|"+Sa),ir=r(m+"*"),Pa=r(r(Q+"@")+"?"+ar+r("\\:"+ir)+"?"),or=r(W+"|"+e(x,F,"[\\:\\@]")),Wc=r(or+"*"),Oa=r(or+"+"),Yc=r(r(W+"|"+e(x,F,"[\\@]"))+"+"),rt=r(r("\\/"+Wc)+"*"),Rt=r("\\/"+r(Oa+rt)+"?"),wn=r(Yc+rt),Rr=r(Oa+rt),It="(?!"+or+")",Om=r(rt+"|"+Rt+"|"+wn+"|"+Rr+"|"+It),kt=r(r(or+"|"+e("[\\/\\?]",re))+"*"),cr=r(r(or+"|[\\/\\?]")+"*"),Na=r(r("\\/\\/"+Pa+rt)+"|"+Rt+"|"+Rr+"|"+It),Bc=r(ae+"\\:"+Na+r("\\?"+kt)+"?"+r("\\#"+cr)+"?"),Qc=r(r("\\/\\/"+Pa+rt)+"|"+Rt+"|"+wn+"|"+It),Xc=r(Qc+r("\\?"+kt)+"?"+r("\\#"+cr)+"?"),Nm=r(Bc+"|"+Xc),Cm=r(ae+"\\:"+Na+r("\\?"+kt)+"?"),Tm="^("+ae+")\\:"+r(r("\\/\\/("+r("("+Q+")@")+"?("+ar+")"+r("\\:("+ir+")")+"?)")+"?("+rt+"|"+Rt+"|"+Rr+"|"+It+")")+r("\\?("+kt+")")+"?"+r("\\#("+cr+")")+"?$",qm="^(){0}"+r(r("\\/\\/("+r("("+Q+")@")+"?("+ar+")"+r("\\:("+ir+")")+"?)")+"?("+rt+"|"+Rt+"|"+wn+"|"+It+")")+r("\\?("+kt+")")+"?"+r("\\#("+cr+")")+"?$",jm="^("+ae+")\\:"+r(r("\\/\\/("+r("("+Q+")@")+"?("+ar+")"+r("\\:("+ir+")")+"?)")+"?("+rt+"|"+Rt+"|"+Rr+"|"+It+")")+r("\\?("+kt+")")+"?$",Am="^"+r("\\#("+cr+")")+"?$",Rm="^"+r("("+Q+")@")+"?("+ar+")"+r("\\:("+ir+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",o,m,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",x,F),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",x,F),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",x,F),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",x,F),"g"),NOT_QUERY:new RegExp(e("[^\\%]",x,F,"[\\:\\@\\/\\?]",re),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",x,F,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",x,F),"g"),UNRESERVED:new RegExp(x,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",x,se),"g"),PCT_ENCODED:new RegExp(W,"g"),IPV4ADDRESS:new RegExp("^("+Te+")$"),IPV6ADDRESS:new RegExp("^\\[?("+tt+")"+r(r("\\%25|\\%(?!"+P+"{2})")+"("+At+")")+"?\\]?$")}}var d=c(!1),f=c(!0),p=function(){function u(o,l){var m=[],h=!0,P=!1,q=void 0;try{for(var U=o[Symbol.iterator](),W;!(h=(W=U.next()).done)&&(m.push(W.value),!(l&&m.length===l));h=!0);}catch(ue){P=!0,q=ue}finally{try{!h&&U.return&&U.return()}finally{if(P)throw q}}return m}return function(o,l){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return u(o,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(u){if(Array.isArray(u)){for(var o=0,l=Array(u.length);o<u.length;o++)l[o]=u[o];return l}else return Array.from(u)},v=2147483647,g=36,$=1,E=26,_=38,S=700,M=72,ie=128,H="-",L=/^xn--/,O=/[^\0-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},G=g-$,B=Math.floor,oe=String.fromCharCode;function R(u){throw new RangeError(D[u])}function J(u,o){for(var l=[],m=u.length;m--;)l[m]=o(u[m]);return l}function Pe(u,o){var l=u.split("@"),m="";l.length>1&&(m=l[0]+"@",u=l[1]),u=u.replace(C,".");var h=u.split("."),P=J(h,o).join(".");return m+P}function ze(u){for(var o=[],l=0,m=u.length;l<m;){var h=u.charCodeAt(l++);if(h>=55296&&h<=56319&&l<m){var P=u.charCodeAt(l++);(P&64512)==56320?o.push(((h&1023)<<10)+(P&1023)+65536):(o.push(h),l--)}else o.push(h)}return o}var ge=function(o){return String.fromCodePoint.apply(String,y(o))},tr=function(o){return o-48<10?o-22:o-65<26?o-65:o-97<26?o-97:g},oa=function(o,l){return o+22+75*(o<26)-((l!=0)<<5)},ca=function(o,l,m){var h=0;for(o=m?B(o/S):o>>1,o+=B(o/l);o>G*E>>1;h+=g)o=B(o/G);return B(h+(G+1)*o/(o+_))},ua=function(o){var l=[],m=o.length,h=0,P=ie,q=M,U=o.lastIndexOf(H);U<0&&(U=0);for(var W=0;W<U;++W)o.charCodeAt(W)>=128&&R("not-basic"),l.push(o.charCodeAt(W));for(var ue=U>0?U+1:0;ue<m;){for(var F=h,se=1,le=g;;le+=g){ue>=m&&R("invalid-input");var re=tr(o.charCodeAt(ue++));(re>=g||re>B((v-h)/se))&&R("overflow"),h+=re*se;var x=le<=q?$:le>=q+E?E:le-q;if(re<x)break;var ae=g-x;se>B(v/ae)&&R("overflow"),se*=ae}var Q=l.length+1;q=ca(h-F,Q,F==0),B(h/Q)>v-P&&R("overflow"),P+=B(h/Q),h%=Q,l.splice(h++,0,P)}return String.fromCodePoint.apply(String,l)},la=function(o){var l=[];o=ze(o);var m=o.length,h=ie,P=0,q=M,U=!0,W=!1,ue=void 0;try{for(var F=o[Symbol.iterator](),se;!(U=(se=F.next()).done);U=!0){var le=se.value;le<128&&l.push(oe(le))}}catch(gt){W=!0,ue=gt}finally{try{!U&&F.return&&F.return()}finally{if(W)throw ue}}var re=l.length,x=re;for(re&&l.push(H);x<m;){var ae=v,Q=!0,yt=!1,Oe=void 0;try{for(var Te=o[Symbol.iterator](),Z;!(Q=(Z=Te.next()).done);Q=!0){var Ne=Z.value;Ne>=h&&Ne<ae&&(ae=Ne)}}catch(gt){yt=!0,Oe=gt}finally{try{!Q&&Te.return&&Te.return()}finally{if(yt)throw Oe}}var qe=x+1;ae-h>B((v-P)/qe)&&R("overflow"),P+=(ae-h)*qe,h=ae;var Ke=!0,$t=!1,et=void 0;try{for(var sr=o[Symbol.iterator](),jr;!(Ke=(jr=sr.next()).done);Ke=!0){var Ar=jr.value;if(Ar<h&&++P>v&&R("overflow"),Ar==h){for(var qt=P,jt=g;;jt+=g){var tt=jt<=q?$:jt>=q+E?E:jt-q;if(qt<tt)break;var At=qt-tt,En=g-tt;l.push(oe(oa(tt+At%En,0))),qt=B(At/En)}l.push(oe(oa(qt,0))),q=ca(P,qe,x==re),P=0,++x}}}catch(gt){$t=!0,et=gt}finally{try{!Ke&&sr.return&&sr.return()}finally{if($t)throw et}}++P,++h}return l.join("")},Sc=function(o){return Pe(o,function(l){return L.test(l)?ua(l.slice(4).toLowerCase()):l})},Pc=function(o){return Pe(o,function(l){return O.test(l)?"xn--"+la(l):l})},Ot={version:"2.1.0",ucs2:{decode:ze,encode:ge},decode:ua,encode:la,toASCII:Pc,toUnicode:Sc},Ce={};function Ue(u){var o=u.charCodeAt(0),l=void 0;return o<16?l="%0"+o.toString(16).toUpperCase():o<128?l="%"+o.toString(16).toUpperCase():o<2048?l="%"+(o>>6|192).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase():l="%"+(o>>12|224).toString(16).toUpperCase()+"%"+(o>>6&63|128).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase(),l}function Nt(u){for(var o="",l=0,m=u.length;l<m;){var h=parseInt(u.substr(l+1,2),16);if(h<128)o+=String.fromCharCode(h),l+=3;else if(h>=194&&h<224){if(m-l>=6){var P=parseInt(u.substr(l+4,2),16);o+=String.fromCharCode((h&31)<<6|P&63)}else o+=u.substr(l,6);l+=6}else if(h>=224){if(m-l>=9){var q=parseInt(u.substr(l+4,2),16),U=parseInt(u.substr(l+7,2),16);o+=String.fromCharCode((h&15)<<12|(q&63)<<6|U&63)}else o+=u.substr(l,9);l+=9}else o+=u.substr(l,3),l+=3}return o}function $n(u,o){function l(m){var h=Nt(m);return h.match(o.UNRESERVED)?h:m}return u.scheme&&(u.scheme=String(u.scheme).replace(o.PCT_ENCODED,l).toLowerCase().replace(o.NOT_SCHEME,"")),u.userinfo!==void 0&&(u.userinfo=String(u.userinfo).replace(o.PCT_ENCODED,l).replace(o.NOT_USERINFO,Ue).replace(o.PCT_ENCODED,s)),u.host!==void 0&&(u.host=String(u.host).replace(o.PCT_ENCODED,l).toLowerCase().replace(o.NOT_HOST,Ue).replace(o.PCT_ENCODED,s)),u.path!==void 0&&(u.path=String(u.path).replace(o.PCT_ENCODED,l).replace(u.scheme?o.NOT_PATH:o.NOT_PATH_NOSCHEME,Ue).replace(o.PCT_ENCODED,s)),u.query!==void 0&&(u.query=String(u.query).replace(o.PCT_ENCODED,l).replace(o.NOT_QUERY,Ue).replace(o.PCT_ENCODED,s)),u.fragment!==void 0&&(u.fragment=String(u.fragment).replace(o.PCT_ENCODED,l).replace(o.NOT_FRAGMENT,Ue).replace(o.PCT_ENCODED,s)),u}function gn(u){return u.replace(/^0*(.*)/,"$1")||"0"}function vn(u,o){var l=u.match(o.IPV4ADDRESS)||[],m=p(l,2),h=m[1];return h?h.split(".").map(gn).join("."):u}function da(u,o){var l=u.match(o.IPV6ADDRESS)||[],m=p(l,3),h=m[1],P=m[2];if(h){for(var q=h.toLowerCase().split("::").reverse(),U=p(q,2),W=U[0],ue=U[1],F=ue?ue.split(":").map(gn):[],se=W.split(":").map(gn),le=o.IPV4ADDRESS.test(se[se.length-1]),re=le?7:8,x=se.length-re,ae=Array(re),Q=0;Q<re;++Q)ae[Q]=F[Q]||se[x+Q]||"";le&&(ae[re-1]=vn(ae[re-1],o));var yt=ae.reduce(function(qe,Ke,$t){if(!Ke||Ke==="0"){var et=qe[qe.length-1];et&&et.index+et.length===$t?et.length++:qe.push({index:$t,length:1})}return qe},[]),Oe=yt.sort(function(qe,Ke){return Ke.length-qe.length})[0],Te=void 0;if(Oe&&Oe.length>1){var Z=ae.slice(0,Oe.index),Ne=ae.slice(Oe.index+Oe.length);Te=Z.join(":")+"::"+Ne.join(":")}else Te=ae.join(":");return P&&(Te+="%"+P),Te}else return u}var Oc=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Nc="".match(/(){0}/)[1]===void 0;function Xe(u){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l={},m=o.iri!==!1?f:d;o.reference==="suffix"&&(u=(o.scheme?o.scheme+":":"")+"//"+u);var h=u.match(Oc);if(h){Nc?(l.scheme=h[1],l.userinfo=h[3],l.host=h[4],l.port=parseInt(h[5],10),l.path=h[6]||"",l.query=h[7],l.fragment=h[8],isNaN(l.port)&&(l.port=h[5])):(l.scheme=h[1]||void 0,l.userinfo=u.indexOf("@")!==-1?h[3]:void 0,l.host=u.indexOf("//")!==-1?h[4]:void 0,l.port=parseInt(h[5],10),l.path=h[6]||"",l.query=u.indexOf("?")!==-1?h[7]:void 0,l.fragment=u.indexOf("#")!==-1?h[8]:void 0,isNaN(l.port)&&(l.port=u.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?h[4]:void 0)),l.host&&(l.host=da(vn(l.host,m),m)),l.scheme===void 0&&l.userinfo===void 0&&l.host===void 0&&l.port===void 0&&!l.path&&l.query===void 0?l.reference="same-document":l.scheme===void 0?l.reference="relative":l.fragment===void 0?l.reference="absolute":l.reference="uri",o.reference&&o.reference!=="suffix"&&o.reference!==l.reference&&(l.error=l.error||"URI is not a "+o.reference+" reference.");var P=Ce[(o.scheme||l.scheme||"").toLowerCase()];if(!o.unicodeSupport&&(!P||!P.unicodeSupport)){if(l.host&&(o.domainHost||P&&P.domainHost))try{l.host=Ot.toASCII(l.host.replace(m.PCT_ENCODED,Nt).toLowerCase())}catch(q){l.error=l.error||"Host's domain name can not be converted to ASCII via punycode: "+q}$n(l,d)}else $n(l,m);P&&P.parse&&P.parse(l,o)}else l.error=l.error||"URI can not be parsed.";return l}function Cc(u,o){var l=o.iri!==!1?f:d,m=[];return u.userinfo!==void 0&&(m.push(u.userinfo),m.push("@")),u.host!==void 0&&m.push(da(vn(String(u.host),l),l).replace(l.IPV6ADDRESS,function(h,P,q){return"["+P+(q?"%25"+q:"")+"]"})),(typeof u.port=="number"||typeof u.port=="string")&&(m.push(":"),m.push(String(u.port))),m.length?m.join(""):void 0}var fa=/^\.\.?\//,pa=/^\/\.(\/|$)/,ma=/^\/\.\.(\/|$)/,Tc=/^\/?(?:.|\n)*?(?=\/|$)/;function Ct(u){for(var o=[];u.length;)if(u.match(fa))u=u.replace(fa,"");else if(u.match(pa))u=u.replace(pa,"/");else if(u.match(ma))u=u.replace(ma,"/"),o.pop();else if(u==="."||u==="..")u="";else{var l=u.match(Tc);if(l){var m=l[0];u=u.slice(m.length),o.push(m)}else throw new Error("Unexpected dot segment condition")}return o.join("")}function xe(u){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.iri?f:d,m=[],h=Ce[(o.scheme||u.scheme||"").toLowerCase()];if(h&&h.serialize&&h.serialize(u,o),u.host&&!l.IPV6ADDRESS.test(u.host)){if(o.domainHost||h&&h.domainHost)try{u.host=o.iri?Ot.toUnicode(u.host):Ot.toASCII(u.host.replace(l.PCT_ENCODED,Nt).toLowerCase())}catch(U){u.error=u.error||"Host's domain name can not be converted to "+(o.iri?"Unicode":"ASCII")+" via punycode: "+U}}$n(u,l),o.reference!=="suffix"&&u.scheme&&(m.push(u.scheme),m.push(":"));var P=Cc(u,o);if(P!==void 0&&(o.reference!=="suffix"&&m.push("//"),m.push(P),u.path&&u.path.charAt(0)!=="/"&&m.push("/")),u.path!==void 0){var q=u.path;!o.absolutePath&&(!h||!h.absolutePath)&&(q=Ct(q)),P===void 0&&(q=q.replace(/^\/\//,"/%2F")),m.push(q)}return u.query!==void 0&&(m.push("?"),m.push(u.query)),u.fragment!==void 0&&(m.push("#"),m.push(u.fragment)),m.join("")}function ha(u,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=arguments[3],h={};return m||(u=Xe(xe(u,l),l),o=Xe(xe(o,l),l)),l=l||{},!l.tolerant&&o.scheme?(h.scheme=o.scheme,h.userinfo=o.userinfo,h.host=o.host,h.port=o.port,h.path=Ct(o.path||""),h.query=o.query):(o.userinfo!==void 0||o.host!==void 0||o.port!==void 0?(h.userinfo=o.userinfo,h.host=o.host,h.port=o.port,h.path=Ct(o.path||""),h.query=o.query):(o.path?(o.path.charAt(0)==="/"?h.path=Ct(o.path):((u.userinfo!==void 0||u.host!==void 0||u.port!==void 0)&&!u.path?h.path="/"+o.path:u.path?h.path=u.path.slice(0,u.path.lastIndexOf("/")+1)+o.path:h.path=o.path,h.path=Ct(h.path)),h.query=o.query):(h.path=u.path,o.query!==void 0?h.query=o.query:h.query=u.query),h.userinfo=u.userinfo,h.host=u.host,h.port=u.port),h.scheme=u.scheme),h.fragment=o.fragment,h}function qc(u,o,l){var m=i({scheme:"null"},l);return xe(ha(Xe(u,m),Xe(o,m),m,!0),m)}function jc(u,o){return typeof u=="string"?u=xe(Xe(u,o),o):n(u)==="object"&&(u=Xe(xe(u,o),o)),u}function Ac(u,o,l){return typeof u=="string"?u=xe(Xe(u,l),l):n(u)==="object"&&(u=xe(u,l)),typeof o=="string"?o=xe(Xe(o,l),l):n(o)==="object"&&(o=xe(o,l)),u===o}function Rc(u,o){return u&&u.toString().replace(!o||!o.iri?d.ESCAPE:f.ESCAPE,Ue)}function Ze(u,o){return u&&u.toString().replace(!o||!o.iri?d.PCT_ENCODED:f.PCT_ENCODED,Nt)}var rr={scheme:"http",domainHost:!0,parse:function(o,l){return o.host||(o.error=o.error||"HTTP URIs must have a host."),o},serialize:function(o,l){var m=String(o.scheme).toLowerCase()==="https";return(o.port===(m?443:80)||o.port==="")&&(o.port=void 0),o.path||(o.path="/"),o}},ya={scheme:"https",domainHost:rr.domainHost,parse:rr.parse,serialize:rr.serialize};function $a(u){return typeof u.secure=="boolean"?u.secure:String(u.scheme).toLowerCase()==="wss"}var nr={scheme:"ws",domainHost:!0,parse:function(o,l){var m=o;return m.secure=$a(m),m.resourceName=(m.path||"/")+(m.query?"?"+m.query:""),m.path=void 0,m.query=void 0,m},serialize:function(o,l){if((o.port===($a(o)?443:80)||o.port==="")&&(o.port=void 0),typeof o.secure=="boolean"&&(o.scheme=o.secure?"wss":"ws",o.secure=void 0),o.resourceName){var m=o.resourceName.split("?"),h=p(m,2),P=h[0],q=h[1];o.path=P&&P!=="/"?P:void 0,o.query=q,o.resourceName=void 0}return o.fragment=void 0,o}},ga={scheme:"wss",domainHost:nr.domainHost,parse:nr.parse,serialize:nr.serialize},Ic={},kc=!0,va="[A-Za-z0-9\\-\\.\\_\\~"+(kc?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Le="[0-9A-Fa-f]",Dc=r(r("%[EFef]"+Le+"%"+Le+Le+"%"+Le+Le)+"|"+r("%[89A-Fa-f]"+Le+"%"+Le+Le)+"|"+r("%"+Le+Le)),Mc="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Vc="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Fc=e(Vc,'[\\"\\\\]'),zc="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Uc=new RegExp(va,"g"),Tt=new RegExp(Dc,"g"),xc=new RegExp(e("[^]",Mc,"[\\.]",'[\\"]',Fc),"g"),_a=new RegExp(e("[^]",va,zc),"g"),Lc=_a;function _n(u){var o=Nt(u);return o.match(Uc)?o:u}var Ea={scheme:"mailto",parse:function(o,l){var m=o,h=m.to=m.path?m.path.split(","):[];if(m.path=void 0,m.query){for(var P=!1,q={},U=m.query.split("&"),W=0,ue=U.length;W<ue;++W){var F=U[W].split("=");switch(F[0]){case"to":for(var se=F[1].split(","),le=0,re=se.length;le<re;++le)h.push(se[le]);break;case"subject":m.subject=Ze(F[1],l);break;case"body":m.body=Ze(F[1],l);break;default:P=!0,q[Ze(F[0],l)]=Ze(F[1],l);break}}P&&(m.headers=q)}m.query=void 0;for(var x=0,ae=h.length;x<ae;++x){var Q=h[x].split("@");if(Q[0]=Ze(Q[0]),l.unicodeSupport)Q[1]=Ze(Q[1],l).toLowerCase();else try{Q[1]=Ot.toASCII(Ze(Q[1],l).toLowerCase())}catch(yt){m.error=m.error||"Email address's domain name can not be converted to ASCII via punycode: "+yt}h[x]=Q.join("@")}return m},serialize:function(o,l){var m=o,h=a(o.to);if(h){for(var P=0,q=h.length;P<q;++P){var U=String(h[P]),W=U.lastIndexOf("@"),ue=U.slice(0,W).replace(Tt,_n).replace(Tt,s).replace(xc,Ue),F=U.slice(W+1);try{F=l.iri?Ot.toUnicode(F):Ot.toASCII(Ze(F,l).toLowerCase())}catch(x){m.error=m.error||"Email address's domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+x}h[P]=ue+"@"+F}m.path=h.join(",")}var se=o.headers=o.headers||{};o.subject&&(se.subject=o.subject),o.body&&(se.body=o.body);var le=[];for(var re in se)se[re]!==Ic[re]&&le.push(re.replace(Tt,_n).replace(Tt,s).replace(_a,Ue)+"="+se[re].replace(Tt,_n).replace(Tt,s).replace(Lc,Ue));return le.length&&(m.query=le.join("&")),m}},Kc=/^([^\:]+)\:(.*)/,wa={scheme:"urn",parse:function(o,l){var m=o.path&&o.path.match(Kc),h=o;if(m){var P=l.scheme||h.scheme||"urn",q=m[1].toLowerCase(),U=m[2],W=P+":"+(l.nid||q),ue=Ce[W];h.nid=q,h.nss=U,h.path=void 0,ue&&(h=ue.parse(h,l))}else h.error=h.error||"URN can not be parsed.";return h},serialize:function(o,l){var m=l.scheme||o.scheme||"urn",h=o.nid,P=m+":"+(l.nid||h),q=Ce[P];q&&(o=q.serialize(o,l));var U=o,W=o.nss;return U.path=(h||l.nid)+":"+W,U}},Hc=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ba={scheme:"urn:uuid",parse:function(o,l){var m=o;return m.uuid=m.nss,m.nss=void 0,!l.tolerant&&(!m.uuid||!m.uuid.match(Hc))&&(m.error=m.error||"UUID is not valid."),m},serialize:function(o,l){var m=o;return m.nss=(o.uuid||"").toLowerCase(),m}};Ce[rr.scheme]=rr,Ce[ya.scheme]=ya,Ce[nr.scheme]=nr,Ce[ga.scheme]=ga,Ce[Ea.scheme]=Ea,Ce[wa.scheme]=wa,Ce[ba.scheme]=ba,t.SCHEMES=Ce,t.pctEncChar=Ue,t.pctDecChars=Nt,t.parse=Xe,t.removeDotSegments=Ct,t.serialize=xe,t.resolveComponents=ha,t.resolve=qc,t.normalize=jc,t.equal=Ac,t.escapeComponent=Rc,t.unescapeComponent=Ze,Object.defineProperty(t,"__esModule",{value:!0})})});var pr=w(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.getSchemaRefs=be.resolveUrl=be.normalizeId=be._getFullPath=be.getFullPath=be.inlineRef=void 0;var Ol=K(),Nl=Ln(),Cl=wi(),Gr=Kn(),Tl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function ql(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Hn(t):e?Si(t)<=e:!1}be.inlineRef=ql;var jl=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Hn(t){for(let e in t){if(jl.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(Hn)||typeof r=="object"&&Hn(r))return!0}return!1}function Si(t){let e=0;for(let r in t){if(r==="$ref")return Infinity;if(e++,!Tl.has(r)&&(typeof t[r]=="object"&&Ol.eachItem(t[r],n=>e+=Si(n)),e===Infinity))return Infinity}return e}function Pi(t="",e){e!==!1&&(t=Ht(t));let r=Gr.parse(t);return Oi(r)}be.getFullPath=Pi;function Oi(t){return Gr.serialize(t).split("#")[0]+"#"}be._getFullPath=Oi;var Al=/#\/?$/;function Ht(t){return t?t.replace(Al,""):""}be.normalizeId=Ht;function Rl(t,e){return e=Ht(e),Gr.resolve(t,e)}be.resolveUrl=Rl;var Il=/^[a-z_][-a-z0-9._]*$/i;function kl(t){if(typeof t=="boolean")return{};let e=Ht(t.$id),r={"":e},n=Pi(e,!1),s={},a=new Set;return Cl(t,{allKeys:!0},(d,f,p,y)=>{if(y===void 0)return;let v=n+f,g=r[y];typeof d.$id=="string"&&(g=$.call(this,d.$id)),E.call(this,d.$anchor),E.call(this,d.$dynamicAnchor),r[f]=g;function $(_){if(_=Ht(g?Gr.resolve(g,_):_),a.has(_))throw c(_);a.add(_);let S=this.refs[_];return typeof S=="string"&&(S=this.refs[S]),typeof S=="object"?i(d,S.schema,_):_!==Ht(v)&&(_[0]==="#"?(i(d,s[_],_),s[_]=d):this.refs[_]=v),_}function E(_){if(typeof _=="string"){if(!Il.test(_))throw new Error(`invalid anchor "${_}"`);$.call(this,`#${_}`)}}}),s;function i(d,f,p){if(f!==void 0&&!Nl(d,f))throw c(p)}function c(d){return new Error(`reference "${d}" resolves to more than one schema`)}}be.getSchemaRefs=kl});var Gt=w(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.getData=dt.KeywordCxt=dt.validateFunctionCode=void 0;var Ni=ai(),Ci=fr(),Gn=Dn(),Jr=fr(),Dl=fi(),mr=$i(),Jn=vi(),N=j(),T=Je(),Ml=pr(),nt=K(),hr=Ut();function Vl(t){if(Ai(t)&&(Ri(t),ji(t))){Ul(t);return}Ti(t,()=>Ni.topBoolOrEmptySchema(t))}dt.validateFunctionCode=Vl;function Ti({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},a){s.code.es5?t.func(e,N._`${T.default.data}, ${T.default.valCxt}`,n.$async,()=>{t.code(N._`"use strict"; ${qi(r,s)}`),zl(t,s),t.code(a)}):t.func(e,N._`${T.default.data}, ${Fl(s)}`,n.$async,()=>t.code(qi(r,s)).code(a))}function Fl(t){return N._`{${T.default.instancePath}="", ${T.default.parentData}, ${T.default.parentDataProperty}, ${T.default.rootData}=${T.default.data}${t.dynamicRef?N._`, ${T.default.dynamicAnchors}={}`:N.nil}}={}`}function zl(t,e){t.if(T.default.valCxt,()=>{t.var(T.default.instancePath,N._`${T.default.valCxt}.${T.default.instancePath}`),t.var(T.default.parentData,N._`${T.default.valCxt}.${T.default.parentData}`),t.var(T.default.parentDataProperty,N._`${T.default.valCxt}.${T.default.parentDataProperty}`),t.var(T.default.rootData,N._`${T.default.valCxt}.${T.default.rootData}`),e.dynamicRef&&t.var(T.default.dynamicAnchors,N._`${T.default.valCxt}.${T.default.dynamicAnchors}`)},()=>{t.var(T.default.instancePath,N._`""`),t.var(T.default.parentData,N._`undefined`),t.var(T.default.parentDataProperty,N._`undefined`),t.var(T.default.rootData,T.default.data),e.dynamicRef&&t.var(T.default.dynamicAnchors,N._`{}`)})}function Ul(t){let{schema:e,opts:r,gen:n}=t;Ti(t,()=>{r.$comment&&e.$comment&&ki(t),Gl(t),n.let(T.default.vErrors,null),n.let(T.default.errors,0),r.unevaluated&&xl(t),Ii(t),Yl(t)})}function xl(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",N._`${r}.evaluated`),e.if(N._`${t.evaluated}.dynamicProps`,()=>e.assign(N._`${t.evaluated}.props`,N._`undefined`)),e.if(N._`${t.evaluated}.dynamicItems`,()=>e.assign(N._`${t.evaluated}.items`,N._`undefined`))}function qi(t,e){return typeof t=="object"&&t.$id&&(e.code.source||e.code.process)?N._`/*# sourceURL=${t.$id} */`:N.nil}function Ll(t,e){if(Ai(t)&&(Ri(t),ji(t))){Kl(t,e);return}Ni.boolOrEmptySchema(t,e)}function ji({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function Ai(t){return typeof t.schema!="boolean"}function Kl(t,e){let{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&ki(t),Jl(t),Wl(t);let a=n.const("_errs",T.default.errors);Ii(t,a),n.var(e,N._`${a} === ${T.default.errors}`)}function Ri(t){nt.checkUnknownRules(t),Hl(t)}function Ii(t,e){if(t.opts.jtd)return Di(t,[],!1,e);let r=Ci.getSchemaTypes(t.schema),n=Ci.coerceAndCheckDataType(t,r);Di(t,r,!n,e)}function Hl(t){let{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&nt.schemaHasRulesButRef(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Gl(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&nt.checkStrictMode(t,"default is ignored in the schema root")}function Jl(t){t.schema.$id&&(t.baseId=Ml.resolveUrl(t.baseId,t.schema.$id))}function Wl(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function ki({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){let a=r.$comment;if(s.$comment===!0)t.code(N._`${T.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){let i=N.str`${n}/$comment`,c=t.scopeValue("root",{ref:e.root});t.code(N._`${T.default.self}.opts.$comment(${a}, ${i}, ${c}.schema)`)}}function Yl(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=t;r.$async?e.if(N._`${T.default.errors} === 0`,()=>e.return(T.default.data),()=>e.throw(N._`new ${s}(${T.default.vErrors})`)):(e.assign(N._`${n}.errors`,T.default.vErrors),a.unevaluated&&Bl(t),e.return(N._`${T.default.errors} === 0`))}function Bl({gen:t,evaluated:e,props:r,items:n}){r instanceof N.Name&&t.assign(N._`${e}.props`,r),n instanceof N.Name&&t.assign(N._`${e}.items`,n)}function Di(t,e,r,n){let{gen:s,schema:a,data:i,allErrors:c,opts:d,self:f}=t,{RULES:p}=f;if(a.$ref&&(d.ignoreKeywordsWithRef||!nt.schemaHasRulesButRef(a,p))){s.block(()=>Fi(t,"$ref",p.all.$ref.definition));return}d.jtd||Ql(t,e),s.block(()=>{for(let v of p.rules)y(v);y(p.post)});function y(v){!Gn.shouldUseGroup(a,v)||(v.type?(s.if(Jr.checkDataType(v.type,i,d.strictNumbers)),Mi(t,v),e.length===1&&e[0]===v.type&&r&&(s.else(),Jr.reportTypeError(t)),s.endIf()):Mi(t,v),c||s.if(N._`${T.default.errors} === ${n||0}`))}}function Mi(t,e){let{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&Dl.assignDefaults(t,e.type),r.block(()=>{for(let a of e.rules)Gn.shouldUseRule(n,a)&&Fi(t,a.keyword,a.definition,e.type)})}function Ql(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Xl(t,e),t.opts.allowUnionTypes||Zl(t,e),ed(t,t.dataTypes))}function Xl(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Vi(t.dataTypes,r)||Wn(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>Vi(e,r))}}function Zl(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Wn(t,"use allowUnionTypes to allow union type keyword")}function ed(t,e){let r=t.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&Gn.shouldUseRule(t.schema,s)){let{type:a}=s.definition;a.length&&!a.some(i=>td(e,i))&&Wn(t,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function td(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Vi(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Wn(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,nt.checkStrictMode(t,e,t.opts.strictTypes)}var Yn=class{constructor(e,r,n){if(mr.validateKeywordUsage(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=nt.schemaRefOrVal(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",zi(this.$data,e));else if(this.schemaCode=this.schemaValue,!mr.validSchemaType(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",T.default.errors))}result(e,r,n){this.gen.if(N.not(e)),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.result(e,void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail(N._`${r} !== undefined && (${N.or(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?hr.reportExtraError:hr.reportError)(this,this.def.error,r)}$dataError(){hr.reportError(this,this.def.$dataError||hr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');hr.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=N.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=N.nil,r=N.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:a,def:i}=this;n.if(N.or(N._`${s} === undefined`,r)),e!==N.nil&&n.assign(e,!0),(a.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==N.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:s,it:a}=this;return N.or(i(),c());function i(){if(n.length){if(!(r instanceof N.Name))throw new Error("ajv implementation error");let d=Array.isArray(n)?n:[n];return N._`${Jr.checkDataTypes(d,r,a.opts.strictNumbers,Jr.DataType.Wrong)}`}return N.nil}function c(){if(s.validateSchema){let d=e.scopeValue("validate$data",{ref:s.validateSchema});return N._`!${d}(${r})`}return N.nil}}subschema(e,r){let n=Jn.getSubschema(this.it,e);Jn.extendSubschemaData(n,this.it,e),Jn.extendSubschemaMode(n,e);let s=de(ee(ee({},this.it),n),{items:void 0,props:void 0});return Ll(s,r),s}mergeEvaluated(e,r){let{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=nt.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=nt.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,N.Name)),!0}};dt.KeywordCxt=Yn;function Fi(t,e,r,n){let s=new Yn(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?mr.funcKeywordCode(s,r):"macro"in r?mr.macroKeywordCode(s,r):(r.compile||r.validate)&&mr.funcKeywordCode(s,r)}var rd=/^\/(?:[^~]|~0|~1)*$/,nd=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function zi(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,a;if(t==="")return T.default.rootData;if(t[0]==="/"){if(!rd.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,a=T.default.rootData}else{let f=nd.exec(t);if(!f)throw new Error(`Invalid JSON-pointer: ${t}`);let p=+f[1];if(s=f[2],s==="#"){if(p>=e)throw new Error(d("property/index",p));return n[e-p]}if(p>e)throw new Error(d("data",p));if(a=r[e-p],!s)return a}let i=a,c=s.split("/");for(let f of c)f&&(a=N._`${a}${N.getProperty(nt.unescapeJsonPointer(f))}`,i=N._`${i} && ${a}`);return i;function d(f,p){return`Cannot access ${f} ${p} levels up, current level is ${e}`}}dt.getData=zi});var Qn=w(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});var Ui=class extends Error{constructor(e){super("validation failed");this.errors=e,this.ajv=this.validation=!0}};Bn.default=Ui});var es=w(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});var Xn=pr(),xi=class extends Error{constructor(e,r,n){super(n||`can't resolve reference ${r} from id ${e}`);this.missingRef=Xn.resolveUrl(e,r),this.missingSchema=Xn.normalizeId(Xn.getFullPath(this.missingRef))}};Zn.default=xi});var ns=w(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.resolveSchema=Ae.getCompilingSchema=Ae.resolveRef=Ae.compileSchema=Ae.SchemaEnv=void 0;var Ie=j(),sd=Qn(),wt=Je(),ke=pr(),Li=K(),ad=Gt(),id=Kn(),yr=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:ke.normalizeId(n==null?void 0:n.$id),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Ae.SchemaEnv=yr;function ts(t){let e=Ki.call(this,t);if(e)return e;let r=ke.getFullPath(t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,i=new Ie.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a}),c;t.$async&&(c=i.scopeValue("Error",{ref:sd.default,code:Ie._`require("ajv/dist/runtime/validation_error").default`}));let d=i.scopeName("validate");t.validateName=d;let f={gen:i,allErrors:this.opts.allErrors,data:wt.default.data,parentData:wt.default.parentData,parentDataProperty:wt.default.parentDataProperty,dataNames:[wt.default.data],dataPathArr:[Ie.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:Ie.stringify(t.schema)}:{ref:t.schema}),validateName:d,ValidationError:c,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Ie.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:Ie._`""`,opts:this.opts,self:this},p;try{this._compilations.add(t),ad.validateFunctionCode(f),i.optimize(this.opts.code.optimize);let y=i.toString();p=`${i.scopeRefs(wt.default.scope)}return ${y}`,this.opts.code.process&&(p=this.opts.code.process(p,t));let g=new Function(`${wt.default.self}`,`${wt.default.scope}`,p)(this,this.scope.get());if(this.scope.value(d,{ref:g}),g.errors=null,g.schema=t.schema,g.schemaEnv=t,t.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:d,validateCode:y,scopeValues:i._values}),this.opts.unevaluated){let{props:$,items:E}=f;g.evaluated={props:$ instanceof Ie.Name?void 0:$,items:E instanceof Ie.Name?void 0:E,dynamicProps:$ instanceof Ie.Name,dynamicItems:E instanceof Ie.Name},g.source&&(g.source.evaluated=Ie.stringify(g.evaluated))}return t.validate=g,t}catch(y){throw delete t.validate,delete t.validateName,p&&this.logger.error("Error compiling schema, function code:",p),y}finally{this._compilations.delete(t)}}Ae.compileSchema=ts;function od(t,e,r){var n;r=ke.resolveUrl(e,r);let s=t.refs[r];if(s)return s;let a=ld.call(this,t,r);if(a===void 0){let i=(n=t.localRefs)===null||n===void 0?void 0:n[r];i&&(a=new yr({schema:i,root:t,baseId:e}))}if(a!==void 0)return t.refs[r]=cd.call(this,a)}Ae.resolveRef=od;function cd(t){return ke.inlineRef(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ts.call(this,t)}function Ki(t){for(let e of this._compilations)if(ud(e,t))return e}Ae.getCompilingSchema=Ki;function ud(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function ld(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Wr.call(this,t,e)}function Wr(t,e){let r=id.parse(e),n=ke._getFullPath(r),s=ke.getFullPath(t.baseId);if(Object.keys(t.schema).length>0&&n===s)return rs.call(this,r,t);let a=ke.normalizeId(n),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){let c=Wr.call(this,t,i);return typeof(c==null?void 0:c.schema)!="object"?void 0:rs.call(this,r,c)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||ts.call(this,i),a===ke.normalizeId(e)){let{schema:c}=i;return c.$id&&(s=ke.resolveUrl(s,c.$id)),new yr({schema:c,root:t,baseId:s})}return rs.call(this,r,i)}}Ae.resolveSchema=Wr;var dd=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function rs(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let i of t.fragment.slice(1).split("/")){if(typeof r=="boolean"||(r=r[Li.unescapeFragment(i)],r===void 0))return;!dd.has(i)&&typeof r=="object"&&r.$id&&(e=ke.resolveUrl(e,r.$id))}let a;if(typeof r!="boolean"&&r.$ref&&!Li.schemaHasRulesButRef(r,this.RULES)){let i=ke.resolveUrl(e,r.$ref);a=Wr.call(this,n,i)}if(a=a||new yr({schema:r,root:n,baseId:e}),a.schema!==a.root.schema)return a}});var Hi=w((rh,fd)=>{fd.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Xi=w(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.CodeGen=me.Name=me.nil=me.stringify=me.str=me._=me.KeywordCxt=void 0;var pd=Gt();Object.defineProperty(me,"KeywordCxt",{enumerable:!0,get:function(){return pd.KeywordCxt}});var Jt=j();Object.defineProperty(me,"_",{enumerable:!0,get:function(){return Jt._}});Object.defineProperty(me,"str",{enumerable:!0,get:function(){return Jt.str}});Object.defineProperty(me,"stringify",{enumerable:!0,get:function(){return Jt.stringify}});Object.defineProperty(me,"nil",{enumerable:!0,get:function(){return Jt.nil}});Object.defineProperty(me,"Name",{enumerable:!0,get:function(){return Jt.Name}});Object.defineProperty(me,"CodeGen",{enumerable:!0,get:function(){return Jt.CodeGen}});var md=Qn(),Gi=es(),hd=kn(),$r=ns(),yd=j(),gr=pr(),Yr=fr(),ss=K(),Ji=Hi(),$d=["removeAdditional","useDefaults","coerceTypes"],gd=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),vd={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",schemaId:"JSON Schema draft-04 is not supported in Ajv v7/8.",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now, see option `strict`."},_d={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Wi=200;function Ed(t){var e,r,n,s,a,i,c,d,f,p,y,v,g,$,E,_,S,M,ie,H;let L=t.strict,O=(e=t.code)===null||e===void 0?void 0:e.optimize,C=O===!0||O===void 0?1:O||0;return{strictSchema:(n=(r=t.strictSchema)!==null&&r!==void 0?r:L)!==null&&n!==void 0?n:!0,strictNumbers:(a=(s=t.strictNumbers)!==null&&s!==void 0?s:L)!==null&&a!==void 0?a:!0,strictTypes:(c=(i=t.strictTypes)!==null&&i!==void 0?i:L)!==null&&c!==void 0?c:"log",strictTuples:(f=(d=t.strictTuples)!==null&&d!==void 0?d:L)!==null&&f!==void 0?f:"log",strictRequired:(y=(p=t.strictRequired)!==null&&p!==void 0?p:L)!==null&&y!==void 0?y:!1,code:t.code?de(ee({},t.code),{optimize:C}):{optimize:C},loopRequired:(v=t.loopRequired)!==null&&v!==void 0?v:Wi,loopEnum:(g=t.loopEnum)!==null&&g!==void 0?g:Wi,meta:($=t.meta)!==null&&$!==void 0?$:!0,messages:(E=t.messages)!==null&&E!==void 0?E:!0,inlineRefs:(_=t.inlineRefs)!==null&&_!==void 0?_:!0,addUsedSchema:(S=t.addUsedSchema)!==null&&S!==void 0?S:!0,validateSchema:(M=t.validateSchema)!==null&&M!==void 0?M:!0,validateFormats:(ie=t.validateFormats)!==null&&ie!==void 0?ie:!0,unicodeRegExp:(H=t.unicodeRegExp)!==null&&H!==void 0?H:!0}}var Br=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=ee(ee({},e),Ed(e));let{es5:r,lines:n}=this.opts.code;this.scope=new yd.ValueScope({scope:{},prefixes:gd,es5:r,lines:n}),this.logger=Nd(e.logger);let s=e.validateFormats;e.validateFormats=!1,this.RULES=hd.getRules(),Yi.call(this,vd,e,"NOT SUPPORTED"),Yi.call(this,_d,e,"DEPRECATED","warn"),this._metaOpts=Pd.call(this),e.formats&&bd.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Sd.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),wd.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r}=this.opts;r&&e&&this.addMetaSchema(Ji,Ji.$id,!1)}defaultMeta(){let{meta:e}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e.$id||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,e,r);function s(p,y){return Dt(this,null,function*(){yield a.call(this,p.$schema);let v=this._addSchema(p,y);return v.validate||i.call(this,v)})}function a(p){return Dt(this,null,function*(){p&&!this.getSchema(p)&&(yield s.call(this,{$ref:p},!0))})}function i(p){return Dt(this,null,function*(){try{return this._compileSchemaEnv(p)}catch(y){if(!(y instanceof Gi.default))throw y;return c.call(this,y),yield d.call(this,y.missingSchema),i.call(this,p)}})}function c({missingSchema:p,missingRef:y}){if(this.refs[p])throw new Error(`AnySchema ${p} is loaded but ${y} cannot be resolved`)}function d(p){return Dt(this,null,function*(){let y=yield f.call(this,p);this.refs[p]||(yield a.call(this,y.$schema)),this.refs[p]||this.addSchema(y,p,r)})}function f(p){return Dt(this,null,function*(){let y=this._loading[p];if(y)return y;try{return yield this._loading[p]=n(p)}finally{delete this._loading[p]}})}}addSchema(e,r,n,s=this.opts.validateSchema){if(Array.isArray(e)){for(let i of e)this.addSchema(i,void 0,n,s);return this}let a;if(typeof e=="object"&&(a=e.$id,a!==void 0&&typeof a!="string"))throw new Error("schema $id must be string");return r=gr.normalizeId(r||a),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,s,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,e);if(!s&&r){let a="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(a);else throw new Error(a)}return s}getSchema(e){let r;for(;typeof(r=Bi.call(this,e))=="string";)e=r;if(r===void 0){let n=new $r.SchemaEnv({schema:{}});if(r=$r.resolveSchema.call(this,n,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Bi.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e.$id;return n&&(n=gr.normalizeId(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Td.call(this,n,r),!r)return ss.eachItem(n,a=>as.call(this,a)),this;jd.call(this,r);let s=de(ee({},r),{type:Yr.getJSONTypes(r.type),schemaType:Yr.getJSONTypes(r.schemaType)});return ss.eachItem(n,s.type.length===0?a=>as.call(this,a,s):a=>s.type.forEach(i=>as.call(this,a,s,i))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let s=n.rules.findIndex(a=>a.keyword===e);s>=0&&n.rules.splice(s,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,a)=>s+r+a)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let s of r){let a=s.split("/").slice(1),i=e;for(let c of a)i=i[c];for(let c in n){let d=n[c];if(typeof d!="object")continue;let{$data:f}=d.definition,p=i[c];f&&p&&(i[c]=Qi(p))}}return e}_removeAllSchemas(e,r){for(let n in e){let s=e[n];(!r||r.test(n))&&(typeof s=="string"?delete e[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[n]))}}_addSchema(e,r,n,s=this.opts.validateSchema,a=this.opts.addUsedSchema){let i;if(typeof e=="object")i=e.$id;else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;let d=gr.getSchemaRefs.call(this,e);return n=gr.normalizeId(i||n),c=new $r.SchemaEnv({schema:e,meta:r,baseId:n,localRefs:d}),this._cache.set(c.schema,c),a&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),s&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):$r.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{$r.compileSchema.call(this,e)}finally{this.opts=r}}};me.default=Br;Br.ValidationError=md.default;Br.MissingRefError=Gi.default;function Yi(t,e,r,n="error"){for(let s in t){let a=s;a in e&&this.logger[n](`${r}: option ${s}. ${t[a]}`)}}function Bi(t){return t=gr.normalizeId(t),this.schemas[t]||this.refs[t]}function wd(){let t=this.opts.schemas;if(!!t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function bd(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Sd(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function Pd(){let t=ee({},this.opts);for(let e of $d)delete t[e];return t}var Od={log(){},warn(){},error(){}};function Nd(t){if(t===!1)return Od;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Cd=/^[a-z_$][a-z0-9_$:-]*$/i;function Td(t,e){let{RULES:r}=this;if(ss.eachItem(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!Cd.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function as(t,e,r){var n;let s=e==null?void 0:e.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:a}=this,i=s?a.post:a.rules.find(({type:d})=>d===r);if(i||(i={type:r,rules:[]},a.rules.push(i)),a.keywords[t]=!0,!e)return;let c={keyword:t,definition:de(ee({},e),{type:Yr.getJSONTypes(e.type),schemaType:Yr.getJSONTypes(e.schemaType)})};e.before?qd.call(this,i,c,e.before):i.rules.push(c),a.all[t]=c,(n=e.implements)===null||n===void 0||n.forEach(d=>this.addKeyword(d))}function qd(t,e,r){let n=t.rules.findIndex(s=>s.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function jd(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=Qi(e)),t.validateSchema=this.compile(e,!0))}var Ad={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Qi(t){return{anyOf:[t,Ad]}}});var Zi=w(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});var Rd={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};is.default=Rd});var no=w(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.callRef=bt.getValidate=void 0;var Id=es(),eo=je(),Se=j(),Wt=Je(),to=ns(),Qr=K(),kd={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:a,validateName:i,opts:c,self:d}=n,{root:f}=a;if((r==="#"||r==="#/")&&s===f.baseId)return y();let p=to.resolveRef.call(d,f,s,r);if(p===void 0)throw new Id.default(s,r);if(p instanceof to.SchemaEnv)return v(p);return g(p);function y(){if(a===f)return Xr(t,i,a,a.$async);let $=e.scopeValue("root",{ref:f});return Xr(t,Se._`${$}.validate`,f,f.$async)}function v($){let E=ro(t,$);Xr(t,E,$,$.$async)}function g($){let E=e.scopeValue("schema",c.code.source===!0?{ref:$,code:Se.stringify($)}:{ref:$}),_=e.name("valid"),S=t.subschema({schema:$,dataTypes:[],schemaPath:Se.nil,topSchemaRef:E,errSchemaPath:r},_);t.mergeEvaluated(S),t.ok(_)}}};function ro(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):Se._`${r.scopeValue("wrapper",{ref:e})}.validate`}bt.getValidate=ro;function Xr(t,e,r,n){let{gen:s,it:a}=t,{allErrors:i,schemaEnv:c,opts:d}=a,f=d.passContext?Wt.default.this:Se.nil;n?p():y();function p(){if(!c.$async)throw new Error("async schema referenced by sync schema");let $=s.let("valid");s.try(()=>{s.code(Se._`await ${eo.callValidateCode(t,e,f)}`),g(e),i||s.assign($,!0)},E=>{s.if(Se._`!(${E} instanceof ${a.ValidationError})`,()=>s.throw(E)),v(E),i||s.assign($,!1)}),t.ok($)}function y(){t.result(eo.callValidateCode(t,e,f),()=>g(e),()=>v(e))}function v($){let E=Se._`${$}.errors`;s.assign(Wt.default.vErrors,Se._`${Wt.default.vErrors} === null ? ${E} : ${Wt.default.vErrors}.concat(${E})`),s.assign(Wt.default.errors,Se._`${Wt.default.vErrors}.length`)}function g($){var E;if(!a.opts.unevaluated)return;let _=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(a.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(a.props=Qr.mergeEvaluated.props(s,_.props,a.props));else{let S=s.var("props",Se._`${$}.evaluated.props`);a.props=Qr.mergeEvaluated.props(s,S,a.props,Se.Name)}if(a.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(a.items=Qr.mergeEvaluated.items(s,_.items,a.items));else{let S=s.var("items",Se._`${$}.evaluated.items`);a.items=Qr.mergeEvaluated.items(s,S,a.items,Se.Name)}}}bt.callRef=Xr;bt.default=kd});var so=w(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});var Dd=Zi(),Md=no(),Vd=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Dd.default,Md.default];os.default=Vd});var ao=w(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});var Zr=j(),ft=Zr.operators,en={maximum:{okStr:"<=",ok:ft.LTE,fail:ft.GT},minimum:{okStr:">=",ok:ft.GTE,fail:ft.LT},exclusiveMaximum:{okStr:"<",ok:ft.LT,fail:ft.GTE},exclusiveMinimum:{okStr:">",ok:ft.GT,fail:ft.LTE}},Fd={message:({keyword:t,schemaCode:e})=>Zr.str`must be ${en[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>Zr._`{comparison: ${en[t].okStr}, limit: ${e}}`},zd={keyword:Object.keys(en),type:"number",schemaType:"number",$data:!0,error:Fd,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data(Zr._`${r} ${en[e].fail} ${n} || isNaN(${r})`)}};cs.default=zd});var io=w(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});var vr=j(),Ud={message:({schemaCode:t})=>vr.str`must be multiple of ${t}`,params:({schemaCode:t})=>vr._`{multipleOf: ${t}}`},xd={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Ud,code(t){let{gen:e,data:r,schemaCode:n,it:s}=t,a=s.opts.multipleOfPrecision,i=e.let("res"),c=a?vr._`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:vr._`${i} !== parseInt(${i})`;t.fail$data(vr._`(${n} === 0 || (${i} = ${r}/${n}, ${c}))`)}};us.default=xd});var co=w(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});function oo(t){let e=t.length,r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)==56320&&n++);return r}ls.default=oo;oo.code='require("ajv/dist/runtime/ucs2length").default'});var uo=w(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});var St=j(),Ld=K(),Kd=co(),Hd={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return St.str`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>St._`{limit: ${t}}`},Gd={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Hd,code(t){let{keyword:e,data:r,schemaCode:n,it:s}=t,a=e==="maxLength"?St.operators.GT:St.operators.LT,i=s.opts.unicode===!1?St._`${r}.length`:St._`${Ld.useFunc(t.gen,Kd.default)}(${r})`;t.fail$data(St._`${i} ${a} ${n}`)}};ds.default=Gd});var lo=w(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});var Jd=je(),tn=j(),Wd={message:({schemaCode:t})=>tn.str`must match pattern "${t}"`,params:({schemaCode:t})=>tn._`{pattern: ${t}}`},Yd={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Wd,code(t){let{data:e,$data:r,schema:n,schemaCode:s,it:a}=t,i=a.opts.unicodeRegExp?"u":"",c=r?tn._`(new RegExp(${s}, ${i}))`:Jd.usePattern(t,n);t.fail$data(tn._`!${c}.test(${e})`)}};fs.default=Yd});var fo=w(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});var _r=j(),Bd={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return _r.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>_r._`{limit: ${t}}`},Qd={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Bd,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?_r.operators.GT:_r.operators.LT;t.fail$data(_r._`Object.keys(${r}).length ${s} ${n}`)}};ps.default=Qd});var po=w(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});var Er=je(),wr=j(),Xd=K(),Zd={message:({params:{missingProperty:t}})=>wr.str`must have required property '${t}'`,params:({params:{missingProperty:t}})=>wr._`{missingProperty: ${t}}`},ef={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Zd,code(t){let{gen:e,schema:r,schemaCode:n,data:s,$data:a,it:i}=t,{opts:c}=i;if(!a&&r.length===0)return;let d=r.length>=c.loopRequired;if(i.allErrors?f():p(),c.strictRequired){let g=t.parentSchema.properties,{definedProperties:$}=t.it;for(let E of r)if((g==null?void 0:g[E])===void 0&&!$.has(E)){let _=i.schemaEnv.baseId+i.errSchemaPath,S=`required property "${E}" is not defined at "${_}" (strictRequired)`;Xd.checkStrictMode(i,S,i.opts.strictRequired)}}function f(){if(d||a)t.block$data(wr.nil,y);else for(let g of r)Er.checkReportMissingProp(t,g)}function p(){let g=e.let("missing");if(d||a){let $=e.let("valid",!0);t.block$data($,()=>v(g,$)),t.ok($)}else e.if(Er.checkMissingProp(t,r,g)),Er.reportMissingProp(t,g),e.else()}function y(){e.forOf("prop",n,g=>{t.setParams({missingProperty:g}),e.if(Er.noPropertyInData(e,s,g,c.ownProperties),()=>t.error())})}function v(g,$){t.setParams({missingProperty:g}),e.forOf(g,n,()=>{e.assign($,Er.propertyInData(e,s,g,c.ownProperties)),e.if(wr.not($),()=>{t.error(),e.break()})},wr.nil)}}};ms.default=ef});var mo=w(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var br=j(),tf={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return br.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>br._`{limit: ${t}}`},rf={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:tf,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?br.operators.GT:br.operators.LT;t.fail$data(br._`${r}.length ${s} ${n}`)}};hs.default=rf});var rn=w(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});var ho=Ln();ho.code='require("ajv/dist/runtime/equal").default';ys.default=ho});var yo=w(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});var $s=fr(),he=j(),nf=K(),sf=rn(),af={message:({params:{i:t,j:e}})=>he.str`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>he._`{i: ${t}, j: ${e}}`},of={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:af,code(t){let{gen:e,data:r,$data:n,schema:s,parentSchema:a,schemaCode:i,it:c}=t;if(!n&&!s)return;let d=e.let("valid"),f=a.items?$s.getSchemaTypes(a.items):[];t.block$data(d,p,he._`${i} === false`),t.ok(d);function p(){let $=e.let("i",he._`${r}.length`),E=e.let("j");t.setParams({i:$,j:E}),e.assign(d,!0),e.if(he._`${$} > 1`,()=>(y()?v:g)($,E))}function y(){return f.length>0&&!f.some($=>$==="object"||$==="array")}function v($,E){let _=e.name("item"),S=$s.checkDataTypes(f,_,c.opts.strictNumbers,$s.DataType.Wrong),M=e.const("indices",he._`{}`);e.for(he._`;${$}--;`,()=>{e.let(_,he._`${r}[${$}]`),e.if(S,he._`continue`),f.length>1&&e.if(he._`typeof ${_} == "string"`,he._`${_} += "_"`),e.if(he._`typeof ${M}[${_}] == "number"`,()=>{e.assign(E,he._`${M}[${_}]`),t.error(),e.assign(d,!1).break()}).code(he._`${M}[${_}] = ${$}`)})}function g($,E){let _=nf.useFunc(e,sf.default),S=e.name("outer");e.label(S).for(he._`;${$}--;`,()=>e.for(he._`${E} = ${$}; ${E}--;`,()=>e.if(he._`${_}(${r}[${$}], ${r}[${E}])`,()=>{t.error(),e.assign(d,!1).break(S)})))}}};gs.default=of});var go=w(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});var $o=j(),cf=K(),uf=rn(),lf={message:"must be equal to constant",params:({schemaCode:t})=>$o._`{allowedValue: ${t}}`},df={keyword:"const",$data:!0,error:lf,code(t){let{gen:e,data:r,schemaCode:n}=t;t.fail$data($o._`!${cf.useFunc(e,uf.default)}(${r}, ${n})`)}};vs.default=df});var vo=w(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});var Sr=j(),ff=K(),pf=rn(),mf={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>Sr._`{allowedValues: ${t}}`},hf={keyword:"enum",schemaType:"array",$data:!0,error:mf,code(t){let{gen:e,data:r,$data:n,schema:s,schemaCode:a,it:i}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let c=s.length>=i.opts.loopEnum,d=ff.useFunc(e,pf.default),f;if(c||n)f=e.let("valid"),t.block$data(f,p);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let v=e.const("vSchema",a);f=Sr.or(...s.map((g,$)=>y(v,$)))}t.pass(f);function p(){e.assign(f,!1),e.forOf("v",a,v=>e.if(Sr._`${d}(${r}, ${v})`,()=>e.assign(f,!0).break()))}function y(v,g){let $=s[g];return $&&typeof $=="object"?Sr._`${d}(${r}, ${v}[${g}])`:Sr._`${r} === ${$}`}}};_s.default=hf});var _o=w(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var yf=ao(),$f=io(),gf=uo(),vf=lo(),_f=fo(),Ef=po(),wf=mo(),bf=yo(),Sf=go(),Pf=vo(),Of=[yf.default,$f.default,gf.default,vf.default,_f.default,Ef.default,wf.default,bf.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Sf.default,Pf.default];Es.default=Of});var bs=w(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.validateAdditionalItems=void 0;var Pt=j(),ws=K(),Nf={message:({params:{len:t}})=>Pt.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>Pt._`{limit: ${t}}`},Cf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Nf,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){ws.checkStrictMode(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Eo(t,n)}};function Eo(t,e){let{gen:r,schema:n,data:s,keyword:a,it:i}=t;i.items=!0;let c=r.const("len",Pt._`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass(Pt._`${c} <= ${e.length}`);else if(typeof n=="object"&&!ws.alwaysValidSchema(i,n)){let f=r.var("valid",Pt._`${c} <= ${e.length}`);r.if(Pt.not(f),()=>d(f)),t.ok(f)}function d(f){r.forRange("i",e.length,c,p=>{t.subschema({keyword:a,dataProp:p,dataPropType:ws.Type.Num},f),i.allErrors||r.if(Pt.not(f),()=>r.break())})}}Pr.validateAdditionalItems=Eo;Pr.default=Cf});var Ss=w(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.validateTuple=void 0;var wo=j(),nn=K(),Tf=je(),qf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return bo(t,"additionalItems",e);r.items=!0,!nn.alwaysValidSchema(r,e)&&t.ok(Tf.validateArray(t))}};function bo(t,e,r=t.schema){let{gen:n,parentSchema:s,data:a,keyword:i,it:c}=t;p(s),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=nn.mergeEvaluated.items(n,r.length,c.items));let d=n.name("valid"),f=n.const("len",wo._`${a}.length`);r.forEach((y,v)=>{nn.alwaysValidSchema(c,y)||(n.if(wo._`${f} > ${v}`,()=>t.subschema({keyword:i,schemaProp:v,dataProp:v},d)),t.ok(d))});function p(y){let{opts:v,errSchemaPath:g}=c,$=r.length,E=$===y.minItems&&($===y.maxItems||y[e]===!1);if(v.strictTuples&&!E){let _=`"${i}" is ${$}-tuple, but minItems or maxItems/${e} are not specified or different at path "${g}"`;nn.checkStrictMode(c,_,v.strictTuples)}}}Or.validateTuple=bo;Or.default=qf});var So=w(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});var jf=Ss(),Af={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>jf.validateTuple(t,"items")};Ps.default=Af});var Oo=w(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});var Po=j(),Rf=K(),If=je(),kf=bs(),Df={message:({params:{len:t}})=>Po.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>Po._`{limit: ${t}}`},Mf={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Df,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!Rf.alwaysValidSchema(n,e)&&(s?kf.validateAdditionalItems(t,s):t.ok(If.validateArray(t)))}};Os.default=Mf});var No=w(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});var De=j(),sn=K(),Vf={message:({params:{min:t,max:e}})=>e===void 0?De.str`must contain at least ${t} valid item(s)`:De.str`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?De._`{minContains: ${t}}`:De._`{minContains: ${t}, maxContains: ${e}}`},Ff={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Vf,code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:a}=t,i,c,{minContains:d,maxContains:f}=n;a.opts.next?(i=d===void 0?1:d,c=f):i=1;let p=e.const("len",De._`${s}.length`);if(t.setParams({min:i,max:c}),c===void 0&&i===0){sn.checkStrictMode(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&i>c){sn.checkStrictMode(a,'"minContains" > "maxContains" is always invalid'),t.fail();return}if(sn.alwaysValidSchema(a,r)){let $=De._`${p} >= ${i}`;c!==void 0&&($=De._`${$} && ${p} <= ${c}`),t.pass($);return}a.items=!0;let y=e.name("valid");if(c===void 0&&i===1)v(y,()=>e.if(y,()=>e.break()));else{e.let(y,!1);let $=e.name("_valid"),E=e.let("count",0);v($,()=>e.if($,()=>g(E)))}t.result(y,()=>t.reset());function v($,E){e.forRange("i",0,p,_=>{t.subschema({keyword:"contains",dataProp:_,dataPropType:sn.Type.Num,compositeRule:!0},$),E()})}function g($){e.code(De._`${$}++`),c===void 0?e.if(De._`${$} >= ${i}`,()=>e.assign(y,!0).break()):(e.if(De._`${$} > ${c}`,()=>e.assign(y,!1).break()),i===1?e.assign(y,!0):e.if(De._`${$} >= ${i}`,()=>e.assign(y,!0)))}}};Ns.default=Ff});var qo=w(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.validateSchemaDeps=Be.validatePropertyDeps=Be.error=void 0;var Cs=j(),zf=K(),Nr=je();Be.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return Cs.str`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>Cs._`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var Uf={keyword:"dependencies",type:"object",schemaType:"object",error:Be.error,code(t){let[e,r]=xf(t);Co(t,e),To(t,r)}};function xf({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let s=Array.isArray(t[n])?e:r;s[n]=t[n]}return[e,r]}function Co(t,e=t.schema){let{gen:r,data:n,it:s}=t;if(Object.keys(e).length===0)return;let a=r.let("missing");for(let i in e){let c=e[i];if(c.length===0)continue;let d=Nr.propertyInData(r,n,i,s.opts.ownProperties);t.setParams({property:i,depsCount:c.length,deps:c.join(", ")}),s.allErrors?r.if(d,()=>{for(let f of c)Nr.checkReportMissingProp(t,f)}):(r.if(Cs._`${d} && (${Nr.checkMissingProp(t,c,a)})`),Nr.reportMissingProp(t,a),r.else())}}Be.validatePropertyDeps=Co;function To(t,e=t.schema){let{gen:r,data:n,keyword:s,it:a}=t,i=r.name("valid");for(let c in e)zf.alwaysValidSchema(a,e[c])||(r.if(Nr.propertyInData(r,n,c,a.opts.ownProperties),()=>{let d=t.subschema({keyword:s,schemaProp:c},i);t.mergeValidEvaluated(d,i)},()=>r.var(i,!0)),t.ok(i))}Be.validateSchemaDeps=To;Be.default=Uf});var Ao=w(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});var jo=j(),Lf=K(),Kf={message:"property name must be valid",params:({params:t})=>jo._`{propertyName: ${t.propertyName}}`},Hf={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Kf,code(t){let{gen:e,schema:r,data:n,it:s}=t;if(Lf.alwaysValidSchema(s,r))return;let a=e.name("valid");e.forIn("key",n,i=>{t.setParams({propertyName:i}),t.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),e.if(jo.not(a),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(a)}};Ts.default=Hf});var js=w(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var an=je(),Me=j(),Gf=Je(),on=K(),Jf={message:"must NOT have additional properties",params:({params:t})=>Me._`{additionalProperty: ${t.additionalProperty}}`},Wf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Jf,code(t){let{gen:e,schema:r,parentSchema:n,data:s,errsCount:a,it:i}=t;if(!a)throw new Error("ajv implementation error");let{allErrors:c,opts:d}=i;if(i.props=!0,d.removeAdditional!=="all"&&on.alwaysValidSchema(i,r))return;let f=an.allSchemaProperties(n.properties),p=an.allSchemaProperties(n.patternProperties);y(),t.ok(Me._`${a} === ${Gf.default.errors}`);function y(){e.forIn("key",s,_=>{!f.length&&!p.length?$(_):e.if(v(_),()=>$(_))})}function v(_){let S;if(f.length>8){let M=on.schemaRefOrVal(i,n.properties,"properties");S=an.isOwnProperty(e,M,_)}else f.length?S=Me.or(...f.map(M=>Me._`${_} === ${M}`)):S=Me.nil;return p.length&&(S=Me.or(S,...p.map(M=>Me._`${an.usePattern(t,M)}.test(${_})`))),Me.not(S)}function g(_){e.code(Me._`delete ${s}[${_}]`)}function $(_){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){g(_);return}if(r===!1){t.setParams({additionalProperty:_}),t.error(),c||e.break();return}if(typeof r=="object"&&!on.alwaysValidSchema(i,r)){let S=e.name("valid");d.removeAdditional==="failing"?(E(_,S,!1),e.if(Me.not(S),()=>{t.reset(),g(_)})):(E(_,S),c||e.if(Me.not(S),()=>e.break()))}}function E(_,S,M){let ie={keyword:"additionalProperties",dataProp:_,dataPropType:on.Type.Str};M===!1&&Object.assign(ie,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(ie,S)}}};qs.default=Wf});var ko=w(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});var Yf=Gt(),Ro=je(),As=K(),Io=js(),Bf={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:a}=t;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Io.default.code(new Yf.KeywordCxt(a,Io.default,"additionalProperties"));let i=Ro.allSchemaProperties(r);for(let y of i)a.definedProperties.add(y);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=As.mergeEvaluated.props(e,As.toHash(i),a.props));let c=i.filter(y=>!As.alwaysValidSchema(a,r[y]));if(c.length===0)return;let d=e.name("valid");for(let y of c)f(y)?p(y):(e.if(Ro.propertyInData(e,s,y,a.opts.ownProperties)),p(y),a.allErrors||e.else().var(d,!0),e.endIf()),t.it.definedProperties.add(y),t.ok(d);function f(y){return a.opts.useDefaults&&!a.compositeRule&&r[y].default!==void 0}function p(y){t.subschema({keyword:"properties",schemaProp:y,dataProp:y},d)}}};Rs.default=Bf});var Vo=w(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var Do=je(),cn=j(),Qf=K(),Mo=K(),Xf={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:s,it:a}=t,{opts:i}=a,c=Do.schemaProperties(a,r);if(c.length===0)return;let d=i.strictSchema&&!i.allowMatchingProperties&&s.properties,f=e.name("valid");a.props!==!0&&!(a.props instanceof cn.Name)&&(a.props=Mo.evaluatedPropsToName(e,a.props));let{props:p}=a;y();function y(){for(let $ of c)d&&v($),a.allErrors?g($):(e.var(f,!0),g($),e.if(f))}function v($){for(let E in d)new RegExp($).test(E)&&Qf.checkStrictMode(a,`property ${E} matches pattern ${$} (use allowMatchingProperties)`)}function g($){e.forIn("key",n,E=>{e.if(cn._`${Do.usePattern(t,$)}.test(${E})`,()=>{t.subschema({keyword:"patternProperties",schemaProp:$,dataProp:E,dataPropType:Mo.Type.Str},f),a.opts.unevaluated&&p!==!0?e.assign(cn._`${p}[${E}]`,!0):a.allErrors||e.if(cn.not(f),()=>e.break())})})}}};Is.default=Xf});var Fo=w(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});var Zf=K(),ep={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if(Zf.alwaysValidSchema(n,r)){t.fail();return}let s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.result(s,()=>t.error(),()=>t.reset())},error:{message:"must NOT be valid"}};ks.default=ep});var zo=w(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});var tp=je(),rp={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:tp.validateUnion,error:{message:"must match a schema in anyOf"}};Ds.default=rp});var Uo=w(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});var un=j(),np=K(),sp={message:"must match exactly one schema in oneOf",params:({params:t})=>un._`{passingSchemas: ${t.passing}}`},ap={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:sp,code(t){let{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let a=r,i=e.let("valid",!1),c=e.let("passing",null),d=e.name("_valid");t.setParams({passing:c}),e.block(f),t.result(i,()=>t.reset(),()=>t.error(!0));function f(){a.forEach((p,y)=>{let v;np.alwaysValidSchema(s,p)?e.var(d,!0):v=t.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},d),y>0&&e.if(un._`${d} && ${i}`).assign(i,!1).assign(c,un._`[${c}, ${y}]`).else(),e.if(d,()=>{e.assign(i,!0),e.assign(c,y),v&&t.mergeEvaluated(v,un.Name)})})}}};Ms.default=ap});var xo=w(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});var ip=K(),op={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=e.name("valid");r.forEach((a,i)=>{if(ip.alwaysValidSchema(n,a))return;let c=t.subschema({keyword:"allOf",schemaProp:i},s);t.ok(s),t.mergeEvaluated(c)})}};Vs.default=op});var Ho=w(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var ln=j(),Lo=K(),cp={message:({params:t})=>ln.str`must match "${t.ifClause}" schema`,params:({params:t})=>ln._`{failingKeyword: ${t.ifClause}}`},up={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:cp,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&Lo.checkStrictMode(n,'"if" without "then" and "else" is ignored');let s=Ko(n,"then"),a=Ko(n,"else");if(!s&&!a)return;let i=e.let("valid",!0),c=e.name("_valid");if(d(),t.reset(),s&&a){let p=e.let("ifClause");t.setParams({ifClause:p}),e.if(c,f("then",p),f("else",p))}else s?e.if(c,f("then")):e.if(ln.not(c),f("else"));t.pass(i,()=>t.error(!0));function d(){let p=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);t.mergeEvaluated(p)}function f(p,y){return()=>{let v=t.subschema({keyword:p},c);e.assign(i,c),t.mergeValidEvaluated(v,i),y?e.assign(y,ln._`${p}`):t.setParams({ifClause:p})}}}};function Ko(t,e){let r=t.schema[e];return r!==void 0&&!Lo.alwaysValidSchema(t,r)}Fs.default=up});var Go=w(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});var lp=K(),dp={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&lp.checkStrictMode(r,`"${t}" without "if" is ignored`)}};zs.default=dp});var Jo=w(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});var fp=bs(),pp=So(),mp=Ss(),hp=Oo(),yp=No(),$p=qo(),gp=Ao(),vp=js(),_p=ko(),Ep=Vo(),wp=Fo(),bp=zo(),Sp=Uo(),Pp=xo(),Op=Ho(),Np=Go();function Cp(t=!1){let e=[wp.default,bp.default,Sp.default,Pp.default,Op.default,Np.default,gp.default,vp.default,$p.default,_p.default,Ep.default];return t?e.push(pp.default,hp.default):e.push(fp.default,mp.default),e.push(yp.default),e}Us.default=Cp});var Wo=w(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});var ce=j(),Tp={message:({schemaCode:t})=>ce.str`must match format "${t}"`,params:({schemaCode:t})=>ce._`{format: ${t}}`},qp={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Tp,code(t,e){let{gen:r,data:n,$data:s,schema:a,schemaCode:i,it:c}=t,{opts:d,errSchemaPath:f,schemaEnv:p,self:y}=c;if(!d.validateFormats)return;s?v():g();function v(){let $=r.scopeValue("formats",{ref:y.formats,code:d.code.formats}),E=r.const("fDef",ce._`${$}[${i}]`),_=r.let("fType"),S=r.let("format");r.if(ce._`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(_,ce._`${E}.type || "string"`).assign(S,ce._`${E}.validate`),()=>r.assign(_,ce._`"string"`).assign(S,E)),t.fail$data(ce.or(M(),ie()));function M(){return d.strictSchema===!1?ce.nil:ce._`${i} && !${S}`}function ie(){let H=p.$async?ce._`(${E}.async ? await ${S}(${n}) : ${S}(${n}))`:ce._`${S}(${n})`,L=ce._`(typeof ${S} == "function" ? ${H} : ${S}.test(${n}))`;return ce._`${S} && ${S} !== true && ${_} === ${e} && !${L}`}}function g(){let $=y.formats[a];if(!$){M();return}if($===!0)return;let[E,_,S]=ie($);E===e&&t.pass(H());function M(){if(d.strictSchema===!1){y.logger.warn(L());return}throw new Error(L());function L(){return`unknown format "${a}" ignored in schema at path "${f}"`}}function ie(L){let O=L instanceof RegExp?ce.regexpCode(L):d.code.formats?ce._`${d.code.formats}${ce.getProperty(a)}`:void 0,C=r.scopeValue("formats",{key:a,ref:L,code:O});return typeof L=="object"&&!(L instanceof RegExp)?[L.type||"string",L.validate,ce._`${C}.validate`]:["string",L,C]}function H(){if(typeof $=="object"&&!($ instanceof RegExp)&&$.async){if(!p.$async)throw new Error("async format in sync schema");return ce._`await ${S}(${n})`}return typeof _=="function"?ce._`${S}(${n})`:ce._`${S}.test(${n})`}}}};xs.default=qp});var Yo=w(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var jp=Wo(),Ap=[jp.default];Ls.default=Ap});var Bo=w(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.contentVocabulary=Yt.metadataVocabulary=void 0;Yt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Yt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Xo=w(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});var Rp=so(),Ip=_o(),kp=Jo(),Dp=Yo(),Qo=Bo(),Mp=[Rp.default,Ip.default,kp.default(),Dp.default,Qo.metadataVocabulary,Qo.contentVocabulary];Ks.default=Mp});var Zo=w(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.DiscrError=void 0;var Vp;(function(t){t.Tag="tag",t.Mapping="mapping"})(Vp=Cr.DiscrError||(Cr.DiscrError={}))});var ec=w(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});var Bt=j(),Hs=Zo(),Fp={message:({params:{discrError:t,tagName:e}})=>t===Hs.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>Bt._`{error: ${t}, tag: ${r}, tagValue: ${e}}`},zp={keyword:"discriminator",type:"object",schemaType:"object",error:Fp,code(t){let{gen:e,data:r,schema:n,parentSchema:s,it:a}=t,{oneOf:i}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");let c=n.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");let d=e.let("valid",!1),f=e.const("tag",Bt._`${r}${Bt.getProperty(c)}`);e.if(Bt._`typeof ${f} == "string"`,()=>p(),()=>t.error(!1,{discrError:Hs.DiscrError.Tag,tag:f,tagName:c})),t.ok(d);function p(){let g=v();e.if(!1);for(let $ in g)e.elseIf(Bt._`${f} === ${$}`),e.assign(d,y(g[$]));e.else(),t.error(!1,{discrError:Hs.DiscrError.Mapping,tag:f,tagName:c}),e.endIf()}function y(g){let $=e.name("valid"),E=t.subschema({keyword:"oneOf",schemaProp:g},$);return t.mergeEvaluated(E,Bt.Name),$}function v(){var g;let $={},E=S(s),_=!0;for(let H=0;H<i.length;H++){let L=i[H],O=(g=L.properties)===null||g===void 0?void 0:g[c];if(typeof O!="object")throw new Error(`discriminator: oneOf schemas must have "properties/${c}"`);_=_&&(E||S(L)),M(O,H)}if(!_)throw new Error(`discriminator: "${c}" must be required`);return $;function S({required:H}){return Array.isArray(H)&&H.includes(c)}function M(H,L){if(H.const)ie(H.const,L);else if(H.enum)for(let O of H.enum)ie(O,L);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function ie(H,L){if(typeof H!="string"||H in $)throw new Error(`discriminator: "${c}" values must be unique strings`);$[H]=L}}}};Gs.default=zp});var tc=w((Lh,Up)=>{Up.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var fn=w((fe,nc)=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.CodeGen=fe.Name=fe.nil=fe.stringify=fe.str=fe._=fe.KeywordCxt=void 0;var xp=Xi(),Lp=Xo(),Kp=ec(),rc=tc(),Hp=["/properties"],dn="http://json-schema.org/draft-07/schema",Js=class extends xp.default{_addVocabularies(){super._addVocabularies(),Lp.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(Kp.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(rc,Hp):rc;this.addMetaSchema(e,dn,!1),this.refs["http://json-schema.org/schema"]=dn}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(dn)?dn:void 0)}};nc.exports=fe=Js;Object.defineProperty(fe,"__esModule",{value:!0});fe.default=Js;var Gp=Gt();Object.defineProperty(fe,"KeywordCxt",{enumerable:!0,get:function(){return Gp.KeywordCxt}});var Qt=j();Object.defineProperty(fe,"_",{enumerable:!0,get:function(){return Qt._}});Object.defineProperty(fe,"str",{enumerable:!0,get:function(){return Qt.str}});Object.defineProperty(fe,"stringify",{enumerable:!0,get:function(){return Qt.stringify}});Object.defineProperty(fe,"nil",{enumerable:!0,get:function(){return Qt.nil}});Object.defineProperty(fe,"Name",{enumerable:!0,get:function(){return Qt.Name}});Object.defineProperty(fe,"CodeGen",{enumerable:!0,get:function(){return Qt.CodeGen}})});var oc=w(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.formatNames=Qe.fastFormats=Qe.fullFormats=void 0;function Xt(t,e){return{validate:t,compare:e}}Qe.fullFormats={date:Xt(sc,Ws),time:Xt(ac,Bs),"date-time":Xt(Bp,ic),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Zp,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:tm,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/};Qe.fastFormats=de(ee({},Qe.fullFormats),{date:Xt(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Ws),time:Xt(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Bs),"date-time":Xt(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,ic),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});Qe.formatNames=Object.keys(Qe.fullFormats);function Jp(t){return t%4==0&&(t%100!=0||t%400==0)}var Wp=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Yp=[0,31,28,31,30,31,30,31,31,30,31,30,31];function sc(t){let e=Wp.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],s=+e[3];return n>=1&&n<=12&&s>=1&&s<=(n===2&&Jp(r)?29:Yp[n])}function Ws(t,e){if(!!(t&&e))return t>e?1:t<e?-1:0}var Ys=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function ac(t,e){let r=Ys.exec(t);if(!r)return!1;let n=+r[1],s=+r[2],a=+r[3],i=r[5];return(n<=23&&s<=59&&a<=59||n===23&&s===59&&a===60)&&(!e||i!=="")}function Bs(t,e){if(!(t&&e))return;let r=Ys.exec(t),n=Ys.exec(e);if(!!(r&&n))return t=r[1]+r[2]+r[3]+(r[4]||""),e=n[1]+n[2]+n[3]+(n[4]||""),t>e?1:t<e?-1:0}var Qs=/t|\s/i;function Bp(t){let e=t.split(Qs);return e.length===2&&sc(e[0])&&ac(e[1],!0)}function ic(t,e){if(!(t&&e))return;let[r,n]=t.split(Qs),[s,a]=e.split(Qs),i=Ws(r,s);if(i!==void 0)return i||Bs(n,a)}var Qp=/\/|:/,Xp=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Zp(t){return Qp.test(t)&&Xp.test(t)}var em=/[^\\]\\Z/;function tm(t){if(em.test(t))return!1;try{return new RegExp(t),!0}catch(e){return!1}}});var cc=w(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.formatLimitDefinition=void 0;var rm=fn(),Ve=j(),pt=Ve.operators,pn={formatMaximum:{okStr:"<=",ok:pt.LTE,fail:pt.GT},formatMinimum:{okStr:">=",ok:pt.GTE,fail:pt.LT},formatExclusiveMaximum:{okStr:"<",ok:pt.LT,fail:pt.GTE},formatExclusiveMinimum:{okStr:">",ok:pt.GT,fail:pt.LTE}},nm={message:({keyword:t,schemaCode:e})=>Ve.str`should be ${pn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>Ve._`{comparison: ${pn[t].okStr}, limit: ${e}}`};Zt.formatLimitDefinition={keyword:Object.keys(pn),type:"string",schemaType:"string",$data:!0,error:nm,code(t){let{gen:e,data:r,schemaCode:n,keyword:s,it:a}=t,{opts:i,self:c}=a;if(!i.validateFormats)return;let d=new rm.KeywordCxt(a,c.RULES.all.format.definition,"format");d.$data?f():p();function f(){let v=e.scopeValue("formats",{ref:c.formats,code:i.code.formats}),g=e.const("fmt",Ve._`${v}[${d.schemaCode}]`);t.fail$data(Ve.or(Ve._`typeof ${g} != "object"`,Ve._`${g} instanceof RegExp`,Ve._`typeof ${g}.compare != "function"`,y(g)))}function p(){let v=d.schema,g=c.formats[v];if(!g||g===!0)return;if(typeof g!="object"||g instanceof RegExp||typeof g.compare!="function")throw new Error(`"${s}": format "${v}" does not define "compare" function`);let $=e.scopeValue("formats",{key:v,ref:g,code:i.code.formats?Ve._`${i.code.formats}${Ve.getProperty(v)}`:void 0});t.fail$data(y($))}function y(v){return Ve._`${v}.compare(${r}, ${n}) ${pn[s].fail} 0`}},dependencies:["format"]};var sm=t=>(t.addKeyword(Zt.formatLimitDefinition),t);Zt.default=sm});var fc=w((Tr,dc)=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});var er=oc(),am=cc(),Xs=j(),uc=new Xs.Name("fullFormats"),im=new Xs.Name("fastFormats"),Zs=(t,e={keywords:!0})=>{if(Array.isArray(e))return lc(t,e,er.fullFormats,uc),t;let[r,n]=e.mode==="fast"?[er.fastFormats,im]:[er.fullFormats,uc],s=e.formats||er.formatNames;return lc(t,s,r,n),e.keywords&&am.default(t),t};Zs.get=(t,e="full")=>{let n=(e==="fast"?er.fastFormats:er.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function lc(t,e,r,n){var s,a;(s=(a=t.opts.code).formats)!==null&&s!==void 0||(a.formats=Xs._`require("ajv-formats/dist/formats").${n}`);for(let i of e)t.addFormat(i,r[i])}dc.exports=Tr=Zs;Object.defineProperty(Tr,"__esModule",{value:!0});Tr.default=Zs});var yc=w((ta,ra)=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});var b=fn(),mt=j(),pc=Vt(),om=Gt(),qr=Ut(),Fe=Je(),mn="errorMessage",ht=new b.Name("emUsed"),mc={required:"missingProperty",dependencies:"property",dependentRequired:"property"},hc=/\$\{[^}]+\}/,cm=/\$\{([^}]+)\}/g,um=/^""\s*\+\s*|\s*\+\s*""$/g;function lm(t){return{keyword:mn,schemaType:["string","object"],post:!0,code(e){let{gen:r,data:n,schema:s,schemaValue:a,it:i}=e;if(i.createErrors===!1)return;let c=s,d=mt.strConcat(Fe.default.instancePath,i.errorPath);r.if(b._`${Fe.default.errors} > 0`,()=>{if(typeof c=="object"){let[C,D]=p(c);D&&y(D),C&&v(C),g(f(c))}let O=typeof c=="string"?c:c._;O&&$(O),t.keepErrors||E()});function f({properties:O,items:C}){let D={};if(O){D.props={};for(let G in O)D.props[G]=[]}if(C){D.items={};for(let G=0;G<C.length;G++)D.items[G]=[]}return D}function p(O){let C,D;for(let G in O){if(G==="properties"||G==="items")continue;let B=O[G];if(typeof B=="object"){C||(C={});let oe=C[G]={};for(let R in B)oe[R]=[]}else D||(D={}),D[G]=[]}return[C,D]}function y(O){let C=r.const("emErrors",b.stringify(O)),D=r.const("templates",ie(O,s));r.forOf("err",Fe.default.vErrors,R=>r.if(_(R,C),()=>r.code(b._`${C}[${R}.keyword].push(${R})`).assign(b._`${R}.${ht}`,!0)));let{singleError:G}=t;if(G){let R=r.let("message",b._`""`),J=r.let("paramsErrors",b._`[]`);B(Pe=>{r.if(R,()=>r.code(b._`${R} += ${typeof G=="string"?G:";"}`)),r.code(b._`${R} += ${oe(Pe)}`),r.assign(J,b._`${J}.concat(${C}[${Pe}])`)}),qr.reportError(e,{message:R,params:b._`{errors: ${J}}`})}else B(R=>qr.reportError(e,{message:oe(R),params:b._`{errors: ${C}[${R}]}`}));function B(R){r.forIn("key",C,J=>r.if(b._`${C}[${J}].length`,()=>R(J)))}function oe(R){return b._`${R} in ${D} ? ${D}[${R}]() : ${a}[${R}]`}}function v(O){let C=r.const("emErrors",b.stringify(O)),D=[];for(let J in O)D.push([J,ie(O[J],s[J])]);let G=r.const("templates",r.object(...D)),B=r.scopeValue("obj",{ref:mc,code:b.stringify(mc)}),oe=r.let("emPropParams"),R=r.let("emParamsErrors");r.forOf("err",Fe.default.vErrors,J=>r.if(_(J,C),()=>{r.assign(oe,b._`${B}[${J}.keyword]`),r.assign(R,b._`${C}[${J}.keyword][${J}.params[${oe}]]`),r.if(R,()=>r.code(b._`${R}.push(${J})`).assign(b._`${J}.${ht}`,!0))})),r.forIn("key",C,J=>r.forIn("keyProp",b._`${C}[${J}]`,Pe=>{r.assign(R,b._`${C}[${J}][${Pe}]`),r.if(b._`${R}.length`,()=>{let ze=r.const("tmpl",b._`${G}[${J}] && ${G}[${J}][${Pe}]`);qr.reportError(e,{message:b._`${ze} ? ${ze}() : ${a}[${J}][${Pe}]`,params:b._`{errors: ${R}}`})})}))}function g(O){let{props:C,items:D}=O;if(!C&&!D)return;let G=b._`typeof ${n} == "object"`,B=b._`Array.isArray(${n})`,oe=r.let("emErrors"),R,J,Pe=r.let("templates");C&&D?(R=r.let("emChildKwd"),r.if(G),r.if(B,()=>{ze(D,s.items),r.assign(R,b.str`items`)},()=>{ze(C,s.properties),r.assign(R,b.str`properties`)}),J=b._`[${R}]`):D?(r.if(B),ze(D,s.items),J=b._`.items`):C&&(r.if(mt.and(G,mt.not(B))),ze(C,s.properties),J=b._`.properties`),r.forOf("err",Fe.default.vErrors,ge=>S(ge,oe,tr=>r.code(b._`${oe}[${tr}].push(${ge})`).assign(b._`${ge}.${ht}`,!0))),r.forIn("key",oe,ge=>r.if(b._`${oe}[${ge}].length`,()=>{qr.reportError(e,{message:b._`${ge} in ${Pe} ? ${Pe}[${ge}]() : ${a}${J}[${ge}]`,params:b._`{errors: ${oe}[${ge}]}`}),r.assign(b._`${Fe.default.vErrors}[${Fe.default.errors}-1].instancePath`,b._`${d} + "/" + ${ge}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),r.endIf();function ze(ge,tr){r.assign(oe,b.stringify(ge)),r.assign(Pe,ie(ge,tr))}}function $(O){let C=r.const("emErrs",b._`[]`);r.forOf("err",Fe.default.vErrors,D=>r.if(M(D),()=>r.code(b._`${C}.push(${D})`).assign(b._`${D}.${ht}`,!0))),r.if(b._`${C}.length`,()=>qr.reportError(e,{message:H(O),params:b._`{errors: ${C}}`}))}function E(){let O=r.const("emErrs",b._`[]`);r.forOf("err",Fe.default.vErrors,C=>r.if(b._`!${C}.${ht}`,()=>r.code(b._`${O}.push(${C})`))),r.assign(Fe.default.vErrors,O).assign(Fe.default.errors,b._`${O}.length`)}function _(O,C){return mt.and(b._`${O}.keyword !== ${mn}`,b._`!${O}.${ht}`,b._`${O}.instancePath === ${d}`,b._`${O}.keyword in ${C}`,b._`${O}.schemaPath.indexOf(${i.errSchemaPath}) === 0`,b._`/^\\/[^\\/]*$/.test(${O}.schemaPath.slice(${i.errSchemaPath.length}))`)}function S(O,C,D){r.if(mt.and(b._`${O}.keyword !== ${mn}`,b._`!${O}.${ht}`,b._`${O}.instancePath.indexOf(${d}) === 0`),()=>{let G=r.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:b._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),B=r.const("emMatches",b._`${G}.exec(${O}.instancePath.slice(${d}.length))`),oe=r.const("emChild",b._`${B} && ${B}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);r.if(b._`${oe} !== undefined && ${oe} in ${C}`,()=>D(oe))})}function M(O){return mt.and(b._`${O}.keyword !== ${mn}`,b._`!${O}.${ht}`,mt.or(b._`${O}.instancePath === ${d}`,mt.and(b._`${O}.instancePath.indexOf(${d}) === 0`,b._`${O}.instancePath[${d}.length] === "/"`)),b._`${O}.schemaPath.indexOf(${i.errSchemaPath}) === 0`,b._`${O}.schemaPath[${i.errSchemaPath}.length] === "/"`)}function ie(O,C){let D=[];for(let G in O){let B=C[G];hc.test(B)&&D.push([G,L(B)])}return r.object(...D)}function H(O){return hc.test(O)?new pc._Code(pc.safeStringify(O).replace(cm,(C,D)=>`" + JSON.stringify(${om.getData(D,i)}) + "`).replace(um,"")):b.stringify(O)}function L(O){return b._`function(){return ${H(O)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}var ea=(t,e={})=>{if(!t.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(t.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return t.addKeyword(lm(e))};ta.default=ea;ra.exports=ea;ra.exports.default=ea});var $c=w((Gh,dm)=>{dm.exports={title:"analytics.txt",description:"A schema for validating analytics.txt files as specified in draft-ring-analyticstxt-00",$schema:"http://json-schema.org/draft-07/schema#",definitions:{FieldComments:{type:"array",items:{type:"string"}},Author:{type:"array",minItems:1,maxItems:1,items:{oneOf:[{type:"string",format:"email"},{type:"string",pattern:"^.+\\s<[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?>$"}]}},NoneValue:{description:"A single value 'none' is given",type:"array",items:{enum:["none"]},minItems:1,maxItems:1},SingleValue:{description:"A single arbitrary string value is given",type:"array",items:{type:"string"},minItems:1,maxItems:1},UniqueValues:{description:"A non-empty list of unique strings",type:"array",uniqueItems:!0,minItems:1,items:{type:"string"}},Ordering:{uniqueItems:!0,type:"array",items:{type:"string"}}},oneOf:[{type:"object",description:"A declaration where data is being collected",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/Author"}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["url","ip-address","geo-location","user-agent","fingerprint","device-type","referrer","visit-duration","custom-events","session-recording"]}}]}}},Stores:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["first-party-cookies","third-party-cookies","local-storage","cache"]}}]}]}}},Uses:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["javascript","pixel","server-side","logs","other"]}}]}}},Allows:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["opt-in","opt-out"]}}]}]}}},Retains:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/SingleValue"},{oneOf:[{type:"array",items:{oneOf:[{type:"string",format:"duration"},{type:"string",enum:["perpetual"]}]}}]}]}}},Honors:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["do-not-track","global-privacy-control"]}}]}]}}},Tracks:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/UniqueValues"},{oneOf:[{$ref:"#/definitions/NoneValue"},{type:"array",items:{enum:["sessions","users"]}}]}]}}},Varies:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/SingleValue"},{type:"array",items:{enum:["none","random","behavioral"]}}]}}},Shares:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["per-user","general-public","third-party"]}}]}]}}},Implements:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/UniqueValues"}}},Deploys:{additionalProperties:!1,type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/UniqueValues"}}}},required:["Author","Collects","Stores","Uses","Allows","Retains"],additionalProperties:!1},{type:"object",description:"A file declaring that no data is collected",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/Author"}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/NoneValue"}}}},required:["Author","Collects"],additionalProperties:!1}]}});var gc=w((Jh,fm)=>{fm.exports={title:"analytics.txt",description:"A schema for validating analytics.txt files as specified in draft-ring-analyticstxt-01",errorMessage:{oneOf:"The given data did neither match a full or a minimal definition."},$schema:"http://json-schema.org/draft-07/schema#",oneOf:[{title:"Full Definition",errorMessage:"A full definition must contain all fields required by the specification and can also contain optional fields.",description:"A declaration where data is being collected",type:"object",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, the Author field must be a proper name-addr.",type:"array",minItems:1,maxItems:1,items:{oneOf:[{type:"string",format:"email"},{$ref:"#/definitions/name-addr"}]}}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Collects is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["url","ip-address","geo-location","user-agent","fingerprint","device-type","referrer","visit-duration","custom-events","session-recording"]}}]}}},Stores:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Stores is expected to be a list containing allowed items only.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["first-party-cookies","third-party-cookies","local-storage","cache"]}}]}]}}},Uses:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Uses is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["javascript","pixel","server-side","logs","other"]}}]}}},Allows:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Allows is expected to be 'none' or a list containing allowed items only.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["opt-in","opt-out"]}}]}]}}},Retains:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Retains is expected to be a duration as per ISO8601 or the value 'perpetual'.",allOf:[{$ref:"#/definitions/SingleValue"},{oneOf:[{type:"array",items:{oneOf:[{type:"string",format:"duration"},{type:"string",enum:["perpetual"]}]}}]}]}}},Honors:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Honors is expected to be either 'none' or a list of allowed items.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["do-not-track","global-privacy-control"]}}]}]}}},Tracks:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Tracks is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{oneOf:[{$ref:"#/definitions/NoneValue"},{type:"array",items:{enum:["sessions","users"]}}]}]}}},Varies:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Varies is expected to be a single, allowed value.",allOf:[{$ref:"#/definitions/SingleValue"},{type:"array",items:{enum:["none","random","behavioral","geographic"]}}]}}},Shares:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Shares is expected to be a combination of allowed values or 'none'.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["per-user","general-public","third-party"]}}]}]}}},Implements:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Implements is expected to be a list of unique items.",oneOf:[{$ref:"#/definitions/UniqueValues"}]}}},Deploys:{additionalProperties:!1,type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Deploys is expected to be a list of unique items.",oneOf:[{$ref:"#/definitions/UniqueValues"}]}}}},required:["Author","Collects","Stores","Uses","Allows","Retains"],additionalProperties:!1},{title:"MinimalDefinition",description:"A file declaring that no data is collected",type:"object",errorMessage:"A minimal definition is composed of an Author field and a Collects field with the single value none.",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{type:"array",minItems:1,maxItems:1,items:{errorMessage:"The Author field must contain an optional name and a required email address in 'name-addr' form.",oneOf:[{type:"string",format:"email"},{$ref:"#/definitions/name-addr"}]}}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a minimal definition, the only Value in the Collects field must be 'none'.",oneOf:[{$ref:"#/definitions/NoneValue"}]}}}},required:["Author","Collects"],additionalProperties:!1}],definitions:{FieldComments:{type:"array",items:{type:"string"}},"name-addr":{type:"string",pattern:"^.+\\s<[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?>$"},NoneValue:{description:"A single value 'none' is given",type:"array",items:{enum:["none"]},minItems:1,maxItems:1},SingleValue:{description:"A single arbitrary string value is given",type:"array",items:{type:"string"},minItems:1,maxItems:1},UniqueValues:{description:"A non-empty list of unique strings",type:"array",uniqueItems:!0,minItems:1,items:{type:"string"}},Ordering:{uniqueItems:!0,type:"array",items:{type:"string"}}}}});var na=w(hn=>{hn["draft-ring-analyticstxt-00"]=$c();hn["draft-ring-analyticstxt-01"]=gc();hn.defaultVersion="draft-ring-analyticstxt-01"});var wc=w(yn=>{var pm=fn(),mm=fc(),hm=yc(),vc=na(),{defaultVersion:sa}=vc;yn.validate=ym;function ym(t,{draftName:e=sa}={}){let[r,n]=_c(t);return n||aa(r,e)}yn.parse=$m;function $m(t,{draftName:e=sa,lax:r=!1}={}){let[n,s]=_c(t);if(s)return[null,s];let a=r?null:aa(n,e);return[n,a]}yn.serialize=gm;function gm(t,{draftName:e=sa,lax:r=!1}={}){let n=r?null:aa(t,e);return n?[null,n]:vm(t)}function aa(t,e){let r=vc[e];if(!r)throw new Error(`Schema for ${e} is unknown.`);let n=new pm({allErrors:!0});mm(n),hm(n);let s=n.compile(r);if(s(t))return null;let i=s.errors.filter(function(c){return c.keyword==="errorMessage"}).sort(function(c,d){return c.schemaPath.localeCompare(d.schemaPath)}).map(function(c){return c.message}).join(" ");return new Error(i)}function vm(t){let e=[];for(let r of t._ordering||Object.keys(t)){let{values:n,comments:s}=t[r];if(!Array.isArray(n)||n.some(a=>typeof a!="string"))return[null,new Error("Only string arrays can be used as values")];if(Array.isArray(s))for(let a of s)e.push(`# ${a}`);e.push(`${Ec(r)}: ${n.join(", ")}`)}return[e.join(`
`)+`
`,null]}function _c(t){let e={_ordering:[]},r=[];for(let[n,s]of t.split(/\r?\n/).entries()){let a;try{a=_m(s)}catch(y){let v=new Error(`Unexpected error parsing line ${n+1}: ${y.message}`);return[null,v]}let{error:i,isEmpty:c,comment:d,field:f,values:p}=a;if(i){let y=new Error(`Failed to parse line ${n+1}: ${i.message}`);return[null,y]}if(!c){if(d){r.push(d);continue}if(f in e){let y=new Error(`Field "${f}" redefined on line ${n+1}. Field names can only occur once.`);return[null,y]}e._ordering.push(f),e[f]={values:p},r.length&&(e[f].comments=r),r=[]}}return[e,null]}function _m(t){t=t.trim();let e={error:null,field:null,values:null,comment:null,isEmpty:!1};if(!t)return de(ee({},e),{isEmpty:!0});if(/^#/.test(t))return de(ee({},e),{comment:t.replace(/^#\s+/,"")});let[r,n]=t.split(":");if(!r||!n){let s=new Error("No field name or value found.");return de(ee({},e),{error:s})}return de(ee({},e),{field:Ec(r),values:Em(n)})}function Ec(t){return t.split("").map((e,r)=>r?e:e.toUpperCase()).join("")}function Em(t){return t.split(",").map(e=>e.trim())}});var Pm=w((Bh,bc)=>{var{validate:wm,parse:bm,serialize:Sm}=wc(),ia=na();bc.exports={validate:wm,parse:bm,serialize:Sm,defaultVersion:ia.defaultVersion,schema:ia[ia.defaultVersion]}});return Pm();})();
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
