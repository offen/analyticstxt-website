var analyticstxtParser=(()=>{var du=Object.defineProperty,fu=Object.defineProperties;var pu=Object.getOwnPropertyDescriptors;var ji=Object.getOwnPropertySymbols;var mu=Object.prototype.hasOwnProperty,hu=Object.prototype.propertyIsEnumerable;var Ai=(t,e,r)=>e in t?du(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ee=(t,e)=>{for(var r in e||(e={}))mu.call(e,r)&&Ai(t,r,e[r]);if(ji)for(var r of ji(e))hu.call(e,r)&&Ai(t,r,e[r]);return t},de=(t,e)=>fu(t,pu(e));var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Dt=(t,e,r)=>new Promise((n,s)=>{var i=d=>{try{l(r.next(d))}catch(f){s(f)}},a=d=>{try{l(r.throw(d))}catch(f){s(f)}},l=d=>d.done?n(d.value):Promise.resolve(d.value).then(i,a);l((r=r.apply(t,e)).next())});var Vt=b(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.regexpCode=W.getProperty=W.safeStringify=W.stringify=W.strConcat=W.addCodeArg=W.str=W._=W.nil=W._Code=W.Name=W.IDENTIFIER=W._CodeOrName=void 0;var Mr=class{};W._CodeOrName=Mr;W.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Mt=class extends Mr{constructor(e){super();if(!W.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};W.Name=Mt;var He=class extends Mr{constructor(e){super();this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof Mt&&(r[n.str]=(r[n.str]||0)+1),r),{})}};W._Code=He;W.nil=new He("");function Ii(t,...e){let r=[t[0]],n=0;for(;n<e.length;)qn(r,e[n]),r.push(t[++n]);return new He(r)}W._=Ii;var On=new He("+");function Ri(t,...e){let r=[dr(t[0])],n=0;for(;n<e.length;)r.push(On),qn(r,e[n]),r.push(On,dr(t[++n]));return yu(r),new He(r)}W.str=Ri;function qn(t,e){e instanceof He?t.push(...e._items):e instanceof Mt?t.push(e):t.push(vu(e))}W.addCodeArg=qn;function yu(t){let e=1;for(;e<t.length-1;){if(t[e]===On){let r=gu(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function gu(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Mt||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Mt))return`"${t}${e.slice(1)}`}function $u(t,e){return e.emptyStr()?t:t.emptyStr()?e:Ri`${t}${e}`}W.strConcat=$u;function vu(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:dr(Array.isArray(t)?t.join(","):t)}function _u(t){return new He(dr(t))}W.stringify=_u;function dr(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}W.safeStringify=dr;function wu(t){return typeof t=="string"&&W.IDENTIFIER.test(t)?new He(`.${t}`):Ii`[${t}]`}W.getProperty=wu;function bu(t){return new He(t.toString())}W.regexpCode=bu});var jn=b(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.ValueScope=ve.ValueScopeName=ve.Scope=ve.varKinds=ve.UsedValueState=void 0;var be=Vt(),ki=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`);this.value=e.value}},Cn;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Cn=ve.UsedValueState||(ve.UsedValueState={}));ve.varKinds={const:new be.Name("const"),let:new be.Name("let"),var:new be.Name("var")};var Nn=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof be.Name?e:this.name(e)}name(e){return new be.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};ve.Scope=Nn;var Tn=class extends be.Name{constructor(e,r){super(r);this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=be._`.${new be.Name(r)}[${n}]`}};ve.ValueScopeName=Tn;var Eu=be._`\n`,Di=class extends Nn{constructor(e){super(e);this._values={},this._scope=e.scope,this.opts=de(ee({},e),{_n:e.lines?Eu:be.nil})}get(){return this._scope}name(e){return new Tn(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(e),{prefix:i}=s,a=(n=r.key)!==null&&n!==void 0?n:r.ref,l=this._values[i];if(l){let p=l.get(a);if(p)return p}else l=this._values[i]=new Map;l.set(a,s);let d=this._scope[i]||(this._scope[i]=[]),f=d.length;return d[f]=r.ref,s.setValue(r,{property:i,itemIndex:f}),s}getValue(e,r){let n=this._values[e];if(!!n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return be._`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(e,r,n={},s){let i=be.nil;for(let a in e){let l=e[a];if(!l)continue;let d=n[a]=n[a]||new Map;l.forEach(f=>{if(d.has(f))return;d.set(f,Cn.Started);let p=r(f);if(p){let y=this.opts.es5?ve.varKinds.var:ve.varKinds.const;i=be._`${i}${y} ${f} = ${p};${this.opts._n}`}else if(p=s==null?void 0:s(f))i=be._`${i}${p}${this.opts._n}`;else throw new ki(f);d.set(f,Cn.Completed)})}return i}};ve.ValueScope=Di});var j=b(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.or=R.and=R.not=R.CodeGen=R.operators=R.varKinds=R.ValueScopeName=R.ValueScope=R.Scope=R.Name=R.regexpCode=R.stringify=R.getProperty=R.nil=R.strConcat=R.str=R._=void 0;var V=Vt(),Ie=jn(),st=Vt();Object.defineProperty(R,"_",{enumerable:!0,get:function(){return st._}});Object.defineProperty(R,"str",{enumerable:!0,get:function(){return st.str}});Object.defineProperty(R,"strConcat",{enumerable:!0,get:function(){return st.strConcat}});Object.defineProperty(R,"nil",{enumerable:!0,get:function(){return st.nil}});Object.defineProperty(R,"getProperty",{enumerable:!0,get:function(){return st.getProperty}});Object.defineProperty(R,"stringify",{enumerable:!0,get:function(){return st.stringify}});Object.defineProperty(R,"regexpCode",{enumerable:!0,get:function(){return st.regexpCode}});Object.defineProperty(R,"Name",{enumerable:!0,get:function(){return st.Name}});var Vr=jn();Object.defineProperty(R,"Scope",{enumerable:!0,get:function(){return Vr.Scope}});Object.defineProperty(R,"ValueScope",{enumerable:!0,get:function(){return Vr.ValueScope}});Object.defineProperty(R,"ValueScopeName",{enumerable:!0,get:function(){return Vr.ValueScopeName}});Object.defineProperty(R,"varKinds",{enumerable:!0,get:function(){return Vr.varKinds}});R.operators={GT:new V._Code(">"),GTE:new V._Code(">="),LT:new V._Code("<"),LTE:new V._Code("<="),EQ:new V._Code("==="),NEQ:new V._Code("!=="),NOT:new V._Code("!"),OR:new V._Code("||"),AND:new V._Code("&&"),ADD:new V._Code("+")};var it=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},Mi=class extends it{constructor(e,r,n){super();this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?Ie.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(e,r){if(!!e[this.name.str])return this.rhs&&(this.rhs=Ut(this.rhs,e,r)),this}get names(){return this.rhs instanceof V._CodeOrName?this.rhs.names:{}}},An=class extends it{constructor(e,r,n){super();this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof V.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Ut(this.rhs,e,r),this}get names(){let e=this.lhs instanceof V.Name?{}:ee({},this.lhs.names);return Kr(e,this.rhs)}},Vi=class extends An{constructor(e,r,n,s){super(e,n,s);this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Fi=class extends it{constructor(e){super();this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},Ui=class extends it{constructor(e){super();this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},zi=class extends it{constructor(e){super();this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},xi=class extends it{constructor(e){super();this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=Ut(this.code,e,r),this}get names(){return this.code instanceof V._CodeOrName?this.code.names:{}}},Fr=class extends it{constructor(e=[]){super();this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,s=n.length;for(;s--;){let i=n[s];i.optimizeNames(e,r)||(Su(e,i.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>vt(e,r.names),{})}},at=class extends Fr{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Li=class extends Fr{},fr=class extends at{};fr.kind="else";var Ge=class extends at{constructor(e,r){super(r);this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new fr(n):n}if(r)return e===!1?r instanceof Ge?r:r.nodes:this.nodes.length?this:new Ge(Yi(e),r instanceof Ge?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=Ut(this.condition,e,r),this}get names(){let e=super.names;return Kr(e,this.condition),this.else&&vt(e,this.else.names),e}};Ge.kind="if";var Ft=class extends at{};Ft.kind="for";var Ki=class extends Ft{constructor(e){super();this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iteration=Ut(this.iteration,e,r),this}get names(){return vt(super.names,this.iteration.names)}},Hi=class extends Ft{constructor(e,r,n,s){super();this.varKind=e,this.name=r,this.from=n,this.to=s}render(e){let r=e.es5?Ie.varKinds.var:this.varKind,{name:n,from:s,to:i}=this;return`for(${r} ${n}=${s}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){let e=Kr(super.names,this.from);return Kr(e,this.to)}},In=class extends Ft{constructor(e,r,n,s){super();this.loop=e,this.varKind=r,this.name=n,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iterable=Ut(this.iterable,e,r),this}get names(){return vt(super.names,this.iterable.names)}},Ur=class extends at{constructor(e,r,n){super();this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Ur.kind="func";var zr=class extends Fr{render(e){return"return "+super.render(e)}};zr.kind="return";var Gi=class extends at{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,s;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(s=this.finally)===null||s===void 0||s.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&vt(e,this.catch.names),this.finally&&vt(e,this.finally.names),e}},xr=class extends at{constructor(e){super();this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};xr.kind="catch";var Lr=class extends at{render(e){return"finally"+super.render(e)}};Lr.kind="finally";var Ji=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=de(ee({},r),{_n:r.lines?`
`:""}),this._extScope=e,this._scope=new Ie.Scope({parent:e}),this._nodes=[new Li]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,s){let i=this._scope.toName(r);return n!==void 0&&s&&(this._constants[i.str]=n),this._leafNode(new Mi(e,i,n)),i}const(e,r,n){return this._def(Ie.varKinds.const,e,r,n)}let(e,r,n){return this._def(Ie.varKinds.let,e,r,n)}var(e,r,n){return this._def(Ie.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new An(e,r,n))}add(e,r){return this._leafNode(new Vi(e,R.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==V.nil&&this._leafNode(new xi(e)),this}object(...e){let r=["{"];for(let[n,s]of e)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),V.addCodeArg(r,s));return r.push("}"),new V._Code(r)}if(e,r,n){if(this._blockNode(new Ge(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Ge(e))}else(){return this._elseNode(new fr)}endIf(){return this._endBlockNode(Ge,fr)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new Ki(e),r)}forRange(e,r,n,s,i=this.opts.es5?Ie.varKinds.var:Ie.varKinds.let){let a=this._scope.toName(e);return this._for(new Hi(i,a,r,n),()=>s(a))}forOf(e,r,n,s=Ie.varKinds.const){let i=this._scope.toName(e);if(this.opts.es5){let a=r instanceof V.Name?r:this.var("_arr",r);return this.forRange("_i",0,V._`${a}.length`,l=>{this.var(i,V._`${a}[${l}]`),n(i)})}return this._for(new In("of",s,i,r),()=>n(i))}forIn(e,r,n,s=this.opts.es5?Ie.varKinds.var:Ie.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,V._`Object.keys(${r})`,n);let i=this._scope.toName(e);return this._for(new In("in",s,i,r),()=>n(i))}endFor(){return this._endBlockNode(Ft)}label(e){return this._leafNode(new Fi(e))}break(e){return this._leafNode(new Ui(e))}return(e){let r=new zr;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(zr)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new Gi;if(this._blockNode(s),this.code(e),r){let i=this.name("e");this._currNode=s.catch=new xr(i),r(i)}return n&&(this._currNode=s.finally=new Lr,this.code(n)),this._endBlockNode(xr,Lr)}throw(e){return this._leafNode(new zi(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=V.nil,n,s){return this._blockNode(new Ur(e,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(Ur)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Ge))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};R.CodeGen=Ji;function vt(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Kr(t,e){return e instanceof V._CodeOrName?vt(t,e.names):t}function Ut(t,e,r){if(t instanceof V.Name)return n(t);if(!s(t))return t;return new V._Code(t._items.reduce((i,a)=>(a instanceof V.Name&&(a=n(a)),a instanceof V._Code?i.push(...a._items):i.push(a),i),[]));function n(i){let a=r[i.str];return a===void 0||e[i.str]!==1?i:(delete e[i.str],a)}function s(i){return i instanceof V._Code&&i._items.some(a=>a instanceof V.Name&&e[a.str]===1&&r[a.str]!==void 0)}}function Su(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function Yi(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:V._`!${Rn(t)}`}R.not=Yi;var Pu=Wi(R.operators.AND);function Ou(...t){return t.reduce(Pu)}R.and=Ou;var qu=Wi(R.operators.OR);function Cu(...t){return t.reduce(qu)}R.or=Cu;function Wi(t){return(e,r)=>e===V.nil?r:r===V.nil?e:V._`${Rn(e)} ${t} ${Rn(r)}`}function Rn(t){return t instanceof V.Name?t:V._`(${t})`}});var K=b(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.checkStrictMode=k.getErrorPath=k.Type=k.useFunc=k.setEvaluated=k.evaluatedPropsToName=k.mergeEvaluated=k.eachItem=k.unescapeJsonPointer=k.escapeJsonPointer=k.escapeFragment=k.unescapeFragment=k.schemaRefOrVal=k.schemaHasRulesButRef=k.schemaHasRules=k.checkUnknownRules=k.alwaysValidSchema=k.toHash=void 0;var te=j(),Nu=Vt();function Tu(t){let e={};for(let r of t)e[r]=!0;return e}k.toHash=Tu;function ju(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(Bi(t,e),!Qi(e,t.self.RULES.all))}k.alwaysValidSchema=ju;function Bi(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let s=n.RULES.keywords;for(let i in e)s[i]||na(t,`unknown keyword: "${i}"`)}k.checkUnknownRules=Bi;function Qi(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}k.schemaHasRules=Qi;function Au(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}k.schemaHasRulesButRef=Au;function Iu({topSchemaRef:t,schemaPath:e},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return te._`${r}`}return te._`${t}${e}${te.getProperty(n)}`}k.schemaRefOrVal=Iu;function Ru(t){return Xi(decodeURIComponent(t))}k.unescapeFragment=Ru;function ku(t){return encodeURIComponent(kn(t))}k.escapeFragment=ku;function kn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}k.escapeJsonPointer=kn;function Xi(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}k.unescapeJsonPointer=Xi;function Du(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}k.eachItem=Du;function Zi({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(s,i,a,l)=>{let d=a===void 0?i:a instanceof te.Name?(i instanceof te.Name?t(s,i,a):e(s,i,a),a):i instanceof te.Name?(e(s,a,i),i):r(i,a);return l===te.Name&&!(d instanceof te.Name)?n(s,d):d}}k.mergeEvaluated={props:Zi({mergeNames:(t,e,r)=>t.if(te._`${r} !== true && ${e} !== undefined`,()=>{t.if(te._`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,te._`${r} || {}`).code(te._`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if(te._`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,te._`${r} || {}`),Dn(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:ee(ee({},t),e),resultToName:ea}),items:Zi({mergeNames:(t,e,r)=>t.if(te._`${r} !== true && ${e} !== undefined`,()=>t.assign(r,te._`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if(te._`${r} !== true`,()=>t.assign(r,e===!0?!0:te._`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function ea(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",te._`{}`);return e!==void 0&&Dn(t,r,e),r}k.evaluatedPropsToName=ea;function Dn(t,e,r){Object.keys(r).forEach(n=>t.assign(te._`${e}${te.getProperty(n)}`,!0))}k.setEvaluated=Dn;var ta={};function Mu(t,e){return t.scopeValue("func",{ref:e,code:ta[e.code]||(ta[e.code]=new Nu._Code(e.code))})}k.useFunc=Mu;var ra;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(ra=k.Type||(k.Type={}));function Vu(t,e,r){if(t instanceof te.Name){let n=e===ra.Num;return r?n?te._`"[" + ${t} + "]"`:te._`"['" + ${t} + "']"`:n?te._`"/" + ${t}`:te._`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?te.getProperty(t).toString():"/"+kn(t)}k.getErrorPath=Vu;function na(t,e,r=t.opts.strictSchema){if(!!r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}k.checkStrictMode=na});var Je=b(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});var ye=j(),Fu={data:new ye.Name("data"),valCxt:new ye.Name("valCxt"),instancePath:new ye.Name("instancePath"),parentData:new ye.Name("parentData"),parentDataProperty:new ye.Name("parentDataProperty"),rootData:new ye.Name("rootData"),dynamicAnchors:new ye.Name("dynamicAnchors"),vErrors:new ye.Name("vErrors"),errors:new ye.Name("errors"),this:new ye.Name("this"),self:new ye.Name("self"),scope:new ye.Name("scope"),json:new ye.Name("json"),jsonPos:new ye.Name("jsonPos"),jsonLen:new ye.Name("jsonLen"),jsonPart:new ye.Name("jsonPart")};Mn.default=Fu});var zt=b(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.extendErrors=ge.resetErrorsCount=ge.reportExtraError=ge.reportError=ge.keyword$DataError=ge.keywordError=void 0;var U=j(),Hr=K(),_e=Je();ge.keywordError={message:({keyword:t})=>U.str`should pass "${t}" keyword validation`};ge.keyword$DataError={message:({keyword:t,schemaType:e})=>e?U.str`"${t}" keyword must be ${e} ($data)`:U.str`"${t}" keyword is invalid ($data)`};function Uu(t,e=ge.keywordError,r,n){let{it:s}=t,{gen:i,compositeRule:a,allErrors:l}=s,d=aa(t,e,r);(n!=null?n:a||l)?sa(i,d):ia(s,U._`[${d}]`)}ge.reportError=Uu;function zu(t,e=ge.keywordError,r){let{it:n}=t,{gen:s,compositeRule:i,allErrors:a}=n,l=aa(t,e,r);sa(s,l),i||a||ia(n,_e.default.vErrors)}ge.reportExtraError=zu;function xu(t,e){t.assign(_e.default.errors,e),t.if(U._`${_e.default.vErrors} !== null`,()=>t.if(e,()=>t.assign(U._`${_e.default.vErrors}.length`,e),()=>t.assign(_e.default.vErrors,null)))}ge.resetErrorsCount=xu;function Lu({gen:t,keyword:e,schemaValue:r,data:n,errsCount:s,it:i}){if(s===void 0)throw new Error("ajv implementation error");let a=t.name("err");t.forRange("i",s,_e.default.errors,l=>{t.const(a,U._`${_e.default.vErrors}[${l}]`),t.if(U._`${a}.instancePath === undefined`,()=>t.assign(U._`${a}.instancePath`,U.strConcat(_e.default.instancePath,i.errorPath))),t.assign(U._`${a}.schemaPath`,U.str`${i.errSchemaPath}/${e}`),i.opts.verbose&&(t.assign(U._`${a}.schema`,r),t.assign(U._`${a}.data`,n))})}ge.extendErrors=Lu;function sa(t,e){let r=t.const("err",e);t.if(U._`${_e.default.vErrors} === null`,()=>t.assign(_e.default.vErrors,U._`[${r}]`),U._`${_e.default.vErrors}.push(${r})`),t.code(U._`${_e.default.errors}++`)}function ia(t,e){let{gen:r,validateName:n,schemaEnv:s}=t;s.$async?r.throw(U._`new ${t.ValidationError}(${e})`):(r.assign(U._`${n}.errors`,e),r.return(!1))}var _t={keyword:new U.Name("keyword"),schemaPath:new U.Name("schemaPath"),params:new U.Name("params"),propertyName:new U.Name("propertyName"),message:new U.Name("message"),schema:new U.Name("schema"),parentSchema:new U.Name("parentSchema")};function aa(t,e,r){let{createErrors:n}=t.it;return n===!1?U._`{}`:Ku(t,e,r)}function Ku(t,e,r={}){let{gen:n,it:s}=t,i=[Hu(s,r),Gu(t,r)];return Ju(t,e,i),n.object(...i)}function Hu({errorPath:t},{instancePath:e}){let r=e?U.str`${t}${Hr.getErrorPath(e,Hr.Type.Str)}`:t;return[_e.default.instancePath,U.strConcat(_e.default.instancePath,r)]}function Gu({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let s=n?e:U.str`${e}/${t}`;return r&&(s=U.str`${s}${Hr.getErrorPath(r,Hr.Type.Str)}`),[_t.schemaPath,s]}function Ju(t,{params:e,message:r},n){let{keyword:s,data:i,schemaValue:a,it:l}=t,{opts:d,propertyName:f,topSchemaRef:p,schemaPath:y}=l;n.push([_t.keyword,s],[_t.params,typeof e=="function"?e(t):e||U._`{}`]),d.messages&&n.push([_t.message,typeof r=="function"?r(t):r]),d.verbose&&n.push([_t.schema,a],[_t.parentSchema,U._`${p}${y}`],[_e.default.data,i]),f&&n.push([_t.propertyName,f])}});var la=b(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.boolOrEmptySchema=xt.topBoolOrEmptySchema=void 0;var Yu=zt(),Wu=j(),Bu=Je(),Qu={message:"boolean schema is false"};function Xu(t){let{gen:e,schema:r,validateName:n}=t;r===!1?oa(t,!1):typeof r=="object"&&r.$async===!0?e.return(Bu.default.data):(e.assign(Wu._`${n}.errors`,null),e.return(!0))}xt.topBoolOrEmptySchema=Xu;function Zu(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),oa(t)):r.var(e,!0)}xt.boolOrEmptySchema=Zu;function oa(t,e){let{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};Yu.reportError(s,Qu,void 0,e)}});var Vn=b(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.getRules=Lt.isJSONType=void 0;var ec=["string","number","integer","boolean","null","object","array"],tc=new Set(ec);function rc(t){return typeof t=="string"&&tc.has(t)}Lt.isJSONType=rc;function nc(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:de(ee({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Lt.getRules=nc});var Fn=b(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.shouldUseRule=ot.shouldUseGroup=ot.schemaHasRulesForType=void 0;function sc({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&ua(t,n)}ot.schemaHasRulesForType=sc;function ua(t,e){return e.rules.some(r=>ca(t,r))}ot.shouldUseGroup=ua;function ca(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}ot.shouldUseRule=ca});var mr=b(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.reportTypeError=pe.checkDataTypes=pe.checkDataType=pe.coerceAndCheckDataType=pe.getJSONTypes=pe.getSchemaTypes=pe.DataType=void 0;var ic=Vn(),ac=Fn(),oc=zt(),A=j(),da=K(),pr;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(pr=pe.DataType||(pe.DataType={}));function lc(t){let e=fa(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}pe.getSchemaTypes=lc;function fa(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(ic.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}pe.getJSONTypes=fa;function uc(t,e){let{gen:r,data:n,opts:s}=t,i=cc(e,s.coerceTypes),a=e.length>0&&!(i.length===0&&e.length===1&&ac.schemaHasRulesForType(t,e[0]));if(a){let l=zn(e,n,s.strictNumbers,pr.Wrong);r.if(l,()=>{i.length?dc(t,e,i):xn(t)})}return a}pe.coerceAndCheckDataType=uc;var pa=new Set(["string","number","integer","boolean","null"]);function cc(t,e){return e?t.filter(r=>pa.has(r)||e==="array"&&r==="array"):[]}function dc(t,e,r){let{gen:n,data:s,opts:i}=t,a=n.let("dataType",A._`typeof ${s}`),l=n.let("coerced",A._`undefined`);i.coerceTypes==="array"&&n.if(A._`${a} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,A._`${s}[0]`).assign(a,A._`typeof ${s}`).if(zn(e,s,i.strictNumbers),()=>n.assign(l,s))),n.if(A._`${l} !== undefined`);for(let f of r)(pa.has(f)||f==="array"&&i.coerceTypes==="array")&&d(f);n.else(),xn(t),n.endIf(),n.if(A._`${l} !== undefined`,()=>{n.assign(s,l),fc(t,l)});function d(f){switch(f){case"string":n.elseIf(A._`${a} == "number" || ${a} == "boolean"`).assign(l,A._`"" + ${s}`).elseIf(A._`${s} === null`).assign(l,A._`""`);return;case"number":n.elseIf(A._`${a} == "boolean" || ${s} === null
              || (${a} == "string" && ${s} && ${s} == +${s})`).assign(l,A._`+${s}`);return;case"integer":n.elseIf(A._`${a} === "boolean" || ${s} === null
              || (${a} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(l,A._`+${s}`);return;case"boolean":n.elseIf(A._`${s} === "false" || ${s} === 0 || ${s} === null`).assign(l,!1).elseIf(A._`${s} === "true" || ${s} === 1`).assign(l,!0);return;case"null":n.elseIf(A._`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(l,null);return;case"array":n.elseIf(A._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${s} === null`).assign(l,A._`[${s}]`)}}}function fc({gen:t,parentData:e,parentDataProperty:r},n){t.if(A._`${e} !== undefined`,()=>t.assign(A._`${e}[${r}]`,n))}function Un(t,e,r,n=pr.Correct){let s=n===pr.Correct?A.operators.EQ:A.operators.NEQ,i;switch(t){case"null":return A._`${e} ${s} null`;case"array":i=A._`Array.isArray(${e})`;break;case"object":i=A._`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":i=a(A._`!(${e} % 1) && !isNaN(${e})`);break;case"number":i=a();break;default:return A._`typeof ${e} ${s} ${t}`}return n===pr.Correct?i:A.not(i);function a(l=A.nil){return A.and(A._`typeof ${e} == "number"`,l,r?A._`isFinite(${e})`:A.nil)}}pe.checkDataType=Un;function zn(t,e,r,n){if(t.length===1)return Un(t[0],e,r,n);let s,i=da.toHash(t);if(i.array&&i.object){let a=A._`typeof ${e} != "object"`;s=i.null?a:A._`!${e} || ${a}`,delete i.null,delete i.array,delete i.object}else s=A.nil;i.number&&delete i.integer;for(let a in i)s=A.and(s,Un(a,e,r,n));return s}pe.checkDataTypes=zn;var pc={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?A._`{type: ${t}}`:A._`{type: ${e}}`};function xn(t){let e=mc(t);oc.reportError(e,pc)}pe.reportTypeError=xn;function mc(t){let{gen:e,data:r,schema:n}=t,s=da.schemaRefOrVal(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:t}}});var ha=b(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.assignDefaults=void 0;var Kt=j(),hc=K();function yc(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let s in r)ma(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,i)=>ma(t,i,s.default))}Gr.assignDefaults=yc;function ma(t,e,r){let{gen:n,compositeRule:s,data:i,opts:a}=t;if(r===void 0)return;let l=Kt._`${i}${Kt.getProperty(e)}`;if(s){hc.checkStrictMode(t,`default is ignored for: ${l}`);return}let d=Kt._`${l} === undefined`;a.useDefaults==="empty"&&(d=Kt._`${d} || ${l} === null || ${l} === ""`),n.if(d,Kt._`${l} = ${Kt.stringify(r)}`)}});var je=b(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.validateUnion=X.validateArray=X.usePattern=X.callValidateCode=X.schemaProperties=X.allSchemaProperties=X.noPropertyInData=X.propertyInData=X.isOwnProperty=X.hasPropFunc=X.reportMissingProp=X.checkMissingProp=X.checkReportMissingProp=void 0;var ne=j(),Ln=K(),lt=Je();function gc(t,e){let{gen:r,data:n,it:s}=t;r.if(Hn(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:ne._`${e}`},!0),t.error()})}X.checkReportMissingProp=gc;function $c({gen:t,data:e,it:{opts:r}},n,s){return ne.or(...n.map(i=>ne.and(Hn(t,e,i,r.ownProperties),ne._`${s} = ${i}`)))}X.checkMissingProp=$c;function vc(t,e){t.setParams({missingProperty:e},!0),t.error()}X.reportMissingProp=vc;function ya(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:ne._`Object.prototype.hasOwnProperty`})}X.hasPropFunc=ya;function Kn(t,e,r){return ne._`${ya(t)}.call(${e}, ${r})`}X.isOwnProperty=Kn;function _c(t,e,r,n){let s=ne._`${e}${ne.getProperty(r)} !== undefined`;return n?ne._`${s} && ${Kn(t,e,r)}`:s}X.propertyInData=_c;function Hn(t,e,r,n){let s=ne._`${e}${ne.getProperty(r)} === undefined`;return n?ne.or(s,ne.not(Kn(t,e,r))):s}X.noPropertyInData=Hn;function ga(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}X.allSchemaProperties=ga;function wc(t,e){return ga(e).filter(r=>!Ln.alwaysValidSchema(t,e[r]))}X.schemaProperties=wc;function bc({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:a},l,d,f){let p=f?ne._`${t}, ${e}, ${n}${s}`:e,y=[[lt.default.instancePath,ne.strConcat(lt.default.instancePath,i)],[lt.default.parentData,a.parentData],[lt.default.parentDataProperty,a.parentDataProperty],[lt.default.rootData,lt.default.rootData]];a.opts.dynamicRef&&y.push([lt.default.dynamicAnchors,lt.default.dynamicAnchors]);let v=ne._`${p}, ${r.object(...y)}`;return d!==ne.nil?ne._`${l}.call(${d}, ${v})`:ne._`${l}(${v})`}X.callValidateCode=bc;function Ec({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"";return t.scopeValue("pattern",{key:r,ref:new RegExp(r,n),code:ne._`new RegExp(${r}, ${n})`})}X.usePattern=Ec;function Sc(t){let{gen:e,data:r,keyword:n,it:s}=t,i=e.name("valid");if(s.allErrors){let l=e.let("valid",!0);return a(()=>e.assign(l,!1)),l}return e.var(i,!0),a(()=>e.break()),i;function a(l){let d=e.const("len",ne._`${r}.length`);e.forRange("i",0,d,f=>{t.subschema({keyword:n,dataProp:f,dataPropType:Ln.Type.Num},i),e.if(ne.not(i),l)})}}X.validateArray=Sc;function Pc(t){let{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>Ln.alwaysValidSchema(s,d))&&!s.opts.unevaluated)return;let a=e.let("valid",!1),l=e.name("_valid");e.block(()=>r.forEach((d,f)=>{let p=t.subschema({keyword:n,schemaProp:f,compositeRule:!0},l);e.assign(a,ne._`${a} || ${l}`),t.mergeValidEvaluated(p,l)||e.if(ne.not(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}X.validateUnion=Pc});var _a=b(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.validateKeywordUsage=Ye.validSchemaType=Ye.funcKeywordCode=Ye.macroKeywordCode=void 0;var we=j(),wt=Je(),Oc=je(),qc=zt();function Cc(t,e){let{gen:r,keyword:n,schema:s,parentSchema:i,it:a}=t,l=e.macro.call(a.self,s,i,a),d=va(r,n,l);a.opts.validateSchema!==!1&&a.self.validateSchema(l,!0);let f=r.name("valid");t.subschema({schema:l,schemaPath:we.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:d,compositeRule:!0},f),t.pass(f,()=>t.error(!0))}Ye.macroKeywordCode=Cc;function Nc(t,e){var r;let{gen:n,keyword:s,schema:i,parentSchema:a,$data:l,it:d}=t;jc(d,e);let f=!l&&e.compile?e.compile.call(d.self,i,a,d):e.validate,p=va(n,s,f),y=n.let("valid");t.block$data(y,v),t.ok((r=e.valid)!==null&&r!==void 0?r:y);function v(){if(e.errors===!1)w(),e.modifying&&$a(t),_(()=>t.error());else{let S=e.async?$():g();e.modifying&&$a(t),_(()=>Tc(t,S))}}function $(){let S=n.let("ruleErrs",null);return n.try(()=>w(we._`await `),M=>n.assign(y,!1).if(we._`${M} instanceof ${d.ValidationError}`,()=>n.assign(S,we._`${M}.errors`),()=>n.throw(M))),S}function g(){let S=we._`${p}.errors`;return n.assign(S,null),w(we.nil),S}function w(S=e.async?we._`await `:we.nil){let M=d.opts.passContext?wt.default.this:wt.default.self,ae=!("compile"in e&&!l||e.schema===!1);n.assign(y,we._`${S}${Oc.callValidateCode(t,p,M,ae)}`,e.modifying)}function _(S){var M;n.if(we.not((M=e.valid)!==null&&M!==void 0?M:y),S)}}Ye.funcKeywordCode=Nc;function $a(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,we._`${n.parentData}[${n.parentDataProperty}]`))}function Tc(t,e){let{gen:r}=t;r.if(we._`Array.isArray(${e})`,()=>{r.assign(wt.default.vErrors,we._`${wt.default.vErrors} === null ? ${e} : ${wt.default.vErrors}.concat(${e})`).assign(wt.default.errors,we._`${wt.default.vErrors}.length`),qc.extendErrors(t)},()=>t.error())}function jc({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function va(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:we.stringify(r)})}function Ac(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}Ye.validSchemaType=Ac;function Ic({schema:t,opts:e,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");let a=s.dependencies;if(a==null?void 0:a.some(l=>!Object.prototype.hasOwnProperty.call(t,l)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[i])){let d=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(d);else throw new Error(d)}}Ye.validateKeywordUsage=Ic});var ba=b(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.extendSubschemaMode=ut.extendSubschemaData=ut.getSubschema=void 0;var We=j(),wa=K();function Rc(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:a}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let l=t.schema[e];return r===void 0?{schema:l,schemaPath:We._`${t.schemaPath}${We.getProperty(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:l[r],schemaPath:We._`${t.schemaPath}${We.getProperty(e)}${We.getProperty(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${wa.escapeFragment(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}ut.getSubschema=Rc;function kc(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:a}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:l}=e;if(r!==void 0){let{errorPath:f,dataPathArr:p,opts:y}=e,v=l.let("data",We._`${e.data}${We.getProperty(r)}`,!0);d(v),t.errorPath=We.str`${f}${wa.getErrorPath(r,n,y.jsPropertySyntax)}`,t.parentDataProperty=We._`${r}`,t.dataPathArr=[...p,t.parentDataProperty]}if(s!==void 0){let f=s instanceof We.Name?s:l.let("data",s,!0);d(f),a!==void 0&&(t.propertyName=a)}i&&(t.dataTypes=i);function d(f){t.data=f,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,f]}}ut.extendSubschemaData=kc;function Dc(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),i!==void 0&&(t.allErrors=i),t.jtdDiscriminator=e,t.jtdMetadata=r}ut.extendSubschemaMode=Dc});var Gn=b((mh,Ea)=>{"use strict";Ea.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!=0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!=0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!=0;){var a=i[s];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r}});var Pa=b((hh,Sa)=>{"use strict";var ct=Sa.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Jr(e,n,s,t,"",t)};ct.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ct.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ct.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ct.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Jr(t,e,r,n,s,i,a,l,d,f){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,i,a,l,d,f);for(var p in n){var y=n[p];if(Array.isArray(y)){if(p in ct.arrayKeywords)for(var v=0;v<y.length;v++)Jr(t,e,r,y[v],s+"/"+p+"/"+v,i,s,p,n,v)}else if(p in ct.propsKeywords){if(y&&typeof y=="object")for(var $ in y)Jr(t,e,r,y[$],s+"/"+p+"/"+Mc($),i,s,p,n,$)}else(p in ct.keywords||t.allKeys&&!(p in ct.skipKeywords))&&Jr(t,e,r,y,s+"/"+p,i,s,p,n)}r(n,s,i,a,l,d,f)}}function Mc(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Jn=b((Yr,Oa)=>{(function(t,e){typeof Yr=="object"&&typeof Oa!="undefined"?e(Yr):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(Yr,function(t){"use strict";function e(){for(var u=arguments.length,o=Array(u),c=0;c<u;c++)o[c]=arguments[c];if(o.length>1){o[0]=o[0].slice(0,-1);for(var m=o.length-1,h=1;h<m;++h)o[h]=o[h].slice(1,-1);return o[m]=o[m].slice(1),o.join("")}else return o[0]}function r(u){return"(?:"+u+")"}function n(u){return u===void 0?"undefined":u===null?"null":Object.prototype.toString.call(u).split(" ").pop().split("]").shift().toLowerCase()}function s(u){return u.toUpperCase()}function i(u){return u!=null?u instanceof Array?u:typeof u.length!="number"||u.split||u.setInterval||u.call?[u]:Array.prototype.slice.call(u):[]}function a(u,o){var c=u;if(o)for(var m in o)c[m]=o[m];return c}function l(u){var o="[A-Za-z]",c="[\\x0D]",m="[0-9]",h="[\\x22]",P=e(m,"[A-Fa-f]"),T="[\\x0A]",z="[\\x20]",Y=r(r("%[EFef]"+P+"%"+P+P+"%"+P+P)+"|"+r("%[89A-Fa-f]"+P+"%"+P+P)+"|"+r("%"+P+P)),ue="[\\:\\/\\?\\#\\[\\]\\@]",F="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",se=e(ue,F),ce=u?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",re=u?"[\\uE000-\\uF8FF]":"[]",x=e(o,m,"[\\-\\.\\_\\~]",ce),ie=r(o+e(o,m,"[\\+\\-\\.]")+"*"),Q=r(r(Y+"|"+e(x,F,"[\\:]"))+"*"),yt=r(r("25[0-5]")+"|"+r("2[0-4]"+m)+"|"+r("1"+m+m)+"|"+r("[1-9]"+m)+"|"+m),Oe=r(r("25[0-5]")+"|"+r("2[0-4]"+m)+"|"+r("1"+m+m)+"|"+r("0?[1-9]"+m)+"|0?0?"+m),Ne=r(Oe+"\\."+Oe+"\\."+Oe+"\\."+Oe),Z=r(P+"{1,4}"),qe=r(r(Z+"\\:"+Z)+"|"+Ne),Te=r(r(Z+"\\:")+"{6}"+qe),Ke=r("\\:\\:"+r(Z+"\\:")+"{5}"+qe),gt=r(r(Z)+"?\\:\\:"+r(Z+"\\:")+"{4}"+qe),et=r(r(r(Z+"\\:")+"{0,1}"+Z)+"?\\:\\:"+r(Z+"\\:")+"{3}"+qe),ar=r(r(r(Z+"\\:")+"{0,2}"+Z)+"?\\:\\:"+r(Z+"\\:")+"{2}"+qe),Rr=r(r(r(Z+"\\:")+"{0,3}"+Z)+"?\\:\\:"+Z+"\\:"+qe),kr=r(r(r(Z+"\\:")+"{0,4}"+Z)+"?\\:\\:"+qe),Tt=r(r(r(Z+"\\:")+"{0,5}"+Z)+"?\\:\\:"+Z),jt=r(r(r(Z+"\\:")+"{0,6}"+Z)+"?\\:\\:"),tt=r([Te,Ke,gt,et,ar,Rr,kr,Tt,jt].join("|")),At=r(r(x+"|"+Y)+"+"),Sn=r(tt+"\\%25"+At),$t=r(tt+r("\\%25|\\%(?!"+P+"{2})")+At),su=r("[vV]"+P+"+\\."+e(x,F,"[\\:]")+"+"),iu=r("\\["+r($t+"|"+tt+"|"+su)+"\\]"),qi=r(r(Y+"|"+e(x,F))+"*"),or=r(iu+"|"+Ne+"(?!"+qi+")|"+qi),lr=r(m+"*"),Ci=r(r(Q+"@")+"?"+or+r("\\:"+lr)+"?"),ur=r(Y+"|"+e(x,F,"[\\:\\@]")),au=r(ur+"*"),Ni=r(ur+"+"),ou=r(r(Y+"|"+e(x,F,"[\\@]"))+"+"),rt=r(r("\\/"+au)+"*"),It=r("\\/"+r(Ni+rt)+"?"),Pn=r(ou+rt),Dr=r(Ni+rt),Rt="(?!"+ur+")",Hm=r(rt+"|"+It+"|"+Pn+"|"+Dr+"|"+Rt),kt=r(r(ur+"|"+e("[\\/\\?]",re))+"*"),cr=r(r(ur+"|[\\/\\?]")+"*"),Ti=r(r("\\/\\/"+Ci+rt)+"|"+It+"|"+Dr+"|"+Rt),lu=r(ie+"\\:"+Ti+r("\\?"+kt)+"?"+r("\\#"+cr)+"?"),uu=r(r("\\/\\/"+Ci+rt)+"|"+It+"|"+Pn+"|"+Rt),cu=r(uu+r("\\?"+kt)+"?"+r("\\#"+cr)+"?"),Gm=r(lu+"|"+cu),Jm=r(ie+"\\:"+Ti+r("\\?"+kt)+"?"),Ym="^("+ie+")\\:"+r(r("\\/\\/("+r("("+Q+")@")+"?("+or+")"+r("\\:("+lr+")")+"?)")+"?("+rt+"|"+It+"|"+Dr+"|"+Rt+")")+r("\\?("+kt+")")+"?"+r("\\#("+cr+")")+"?$",Wm="^(){0}"+r(r("\\/\\/("+r("("+Q+")@")+"?("+or+")"+r("\\:("+lr+")")+"?)")+"?("+rt+"|"+It+"|"+Pn+"|"+Rt+")")+r("\\?("+kt+")")+"?"+r("\\#("+cr+")")+"?$",Bm="^("+ie+")\\:"+r(r("\\/\\/("+r("("+Q+")@")+"?("+or+")"+r("\\:("+lr+")")+"?)")+"?("+rt+"|"+It+"|"+Dr+"|"+Rt+")")+r("\\?("+kt+")")+"?$",Qm="^"+r("\\#("+cr+")")+"?$",Xm="^"+r("("+Q+")@")+"?("+or+")"+r("\\:("+lr+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",o,m,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",x,F),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",x,F),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",x,F),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",x,F),"g"),NOT_QUERY:new RegExp(e("[^\\%]",x,F,"[\\:\\@\\/\\?]",re),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",x,F,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",x,F),"g"),UNRESERVED:new RegExp(x,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",x,se),"g"),PCT_ENCODED:new RegExp(Y,"g"),IPV4ADDRESS:new RegExp("^("+Ne+")$"),IPV6ADDRESS:new RegExp("^\\[?("+tt+")"+r(r("\\%25|\\%(?!"+P+"{2})")+"("+At+")")+"?\\]?$")}}var d=l(!1),f=l(!0),p=function(){function u(o,c){var m=[],h=!0,P=!1,T=void 0;try{for(var z=o[Symbol.iterator](),Y;!(h=(Y=z.next()).done)&&(m.push(Y.value),!(c&&m.length===c));h=!0);}catch(ue){P=!0,T=ue}finally{try{!h&&z.return&&z.return()}finally{if(P)throw T}}return m}return function(o,c){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return u(o,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(u){if(Array.isArray(u)){for(var o=0,c=Array(u.length);o<u.length;o++)c[o]=u[o];return c}else return Array.from(u)},v=2147483647,$=36,g=1,w=26,_=38,S=700,M=72,ae=128,H="-",L=/^xn--/,O=/[^\0-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},G=$-g,B=Math.floor,oe=String.fromCharCode;function I(u){throw new RangeError(D[u])}function J(u,o){for(var c=[],m=u.length;m--;)c[m]=o(u[m]);return c}function Pe(u,o){var c=u.split("@"),m="";c.length>1&&(m=c[0]+"@",u=c[1]),u=u.replace(C,".");var h=u.split("."),P=J(h,o).join(".");return m+P}function Ue(u){for(var o=[],c=0,m=u.length;c<m;){var h=u.charCodeAt(c++);if(h>=55296&&h<=56319&&c<m){var P=u.charCodeAt(c++);(P&64512)==56320?o.push(((h&1023)<<10)+(P&1023)+65536):(o.push(h),c--)}else o.push(h)}return o}var $e=function(o){return String.fromCodePoint.apply(String,y(o))},nr=function(o){return o-48<10?o-22:o-65<26?o-65:o-97<26?o-97:$},ci=function(o,c){return o+22+75*(o<26)-((c!=0)<<5)},di=function(o,c,m){var h=0;for(o=m?B(o/S):o>>1,o+=B(o/c);o>G*w>>1;h+=$)o=B(o/G);return B(h+(G+1)*o/(o+_))},fi=function(o){var c=[],m=o.length,h=0,P=ae,T=M,z=o.lastIndexOf(H);z<0&&(z=0);for(var Y=0;Y<z;++Y)o.charCodeAt(Y)>=128&&I("not-basic"),c.push(o.charCodeAt(Y));for(var ue=z>0?z+1:0;ue<m;){for(var F=h,se=1,ce=$;;ce+=$){ue>=m&&I("invalid-input");var re=nr(o.charCodeAt(ue++));(re>=$||re>B((v-h)/se))&&I("overflow"),h+=re*se;var x=ce<=T?g:ce>=T+w?w:ce-T;if(re<x)break;var ie=$-x;se>B(v/ie)&&I("overflow"),se*=ie}var Q=c.length+1;T=di(h-F,Q,F==0),B(h/Q)>v-P&&I("overflow"),P+=B(h/Q),h%=Q,c.splice(h++,0,P)}return String.fromCodePoint.apply(String,c)},pi=function(o){var c=[];o=Ue(o);var m=o.length,h=ae,P=0,T=M,z=!0,Y=!1,ue=void 0;try{for(var F=o[Symbol.iterator](),se;!(z=(se=F.next()).done);z=!0){var ce=se.value;ce<128&&c.push(oe(ce))}}catch($t){Y=!0,ue=$t}finally{try{!z&&F.return&&F.return()}finally{if(Y)throw ue}}var re=c.length,x=re;for(re&&c.push(H);x<m;){var ie=v,Q=!0,yt=!1,Oe=void 0;try{for(var Ne=o[Symbol.iterator](),Z;!(Q=(Z=Ne.next()).done);Q=!0){var qe=Z.value;qe>=h&&qe<ie&&(ie=qe)}}catch($t){yt=!0,Oe=$t}finally{try{!Q&&Ne.return&&Ne.return()}finally{if(yt)throw Oe}}var Te=x+1;ie-h>B((v-P)/Te)&&I("overflow"),P+=(ie-h)*Te,h=ie;var Ke=!0,gt=!1,et=void 0;try{for(var ar=o[Symbol.iterator](),Rr;!(Ke=(Rr=ar.next()).done);Ke=!0){var kr=Rr.value;if(kr<h&&++P>v&&I("overflow"),kr==h){for(var Tt=P,jt=$;;jt+=$){var tt=jt<=T?g:jt>=T+w?w:jt-T;if(Tt<tt)break;var At=Tt-tt,Sn=$-tt;c.push(oe(ci(tt+At%Sn,0))),Tt=B(At/Sn)}c.push(oe(ci(Tt,0))),T=di(P,Te,x==re),P=0,++x}}}catch($t){gt=!0,et=$t}finally{try{!Ke&&ar.return&&ar.return()}finally{if(gt)throw et}}++P,++h}return c.join("")},Dl=function(o){return Pe(o,function(c){return L.test(c)?fi(c.slice(4).toLowerCase()):c})},Ml=function(o){return Pe(o,function(c){return O.test(c)?"xn--"+pi(c):c})},Ot={version:"2.1.0",ucs2:{decode:Ue,encode:$e},decode:fi,encode:pi,toASCII:Ml,toUnicode:Dl},Ce={};function ze(u){var o=u.charCodeAt(0),c=void 0;return o<16?c="%0"+o.toString(16).toUpperCase():o<128?c="%"+o.toString(16).toUpperCase():o<2048?c="%"+(o>>6|192).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase():c="%"+(o>>12|224).toString(16).toUpperCase()+"%"+(o>>6&63|128).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase(),c}function qt(u){for(var o="",c=0,m=u.length;c<m;){var h=parseInt(u.substr(c+1,2),16);if(h<128)o+=String.fromCharCode(h),c+=3;else if(h>=194&&h<224){if(m-c>=6){var P=parseInt(u.substr(c+4,2),16);o+=String.fromCharCode((h&31)<<6|P&63)}else o+=u.substr(c,6);c+=6}else if(h>=224){if(m-c>=9){var T=parseInt(u.substr(c+4,2),16),z=parseInt(u.substr(c+7,2),16);o+=String.fromCharCode((h&15)<<12|(T&63)<<6|z&63)}else o+=u.substr(c,9);c+=9}else o+=u.substr(c,3),c+=3}return o}function _n(u,o){function c(m){var h=qt(m);return h.match(o.UNRESERVED)?h:m}return u.scheme&&(u.scheme=String(u.scheme).replace(o.PCT_ENCODED,c).toLowerCase().replace(o.NOT_SCHEME,"")),u.userinfo!==void 0&&(u.userinfo=String(u.userinfo).replace(o.PCT_ENCODED,c).replace(o.NOT_USERINFO,ze).replace(o.PCT_ENCODED,s)),u.host!==void 0&&(u.host=String(u.host).replace(o.PCT_ENCODED,c).toLowerCase().replace(o.NOT_HOST,ze).replace(o.PCT_ENCODED,s)),u.path!==void 0&&(u.path=String(u.path).replace(o.PCT_ENCODED,c).replace(u.scheme?o.NOT_PATH:o.NOT_PATH_NOSCHEME,ze).replace(o.PCT_ENCODED,s)),u.query!==void 0&&(u.query=String(u.query).replace(o.PCT_ENCODED,c).replace(o.NOT_QUERY,ze).replace(o.PCT_ENCODED,s)),u.fragment!==void 0&&(u.fragment=String(u.fragment).replace(o.PCT_ENCODED,c).replace(o.NOT_FRAGMENT,ze).replace(o.PCT_ENCODED,s)),u}function wn(u){return u.replace(/^0*(.*)/,"$1")||"0"}function bn(u,o){var c=u.match(o.IPV4ADDRESS)||[],m=p(c,2),h=m[1];return h?h.split(".").map(wn).join("."):u}function mi(u,o){var c=u.match(o.IPV6ADDRESS)||[],m=p(c,3),h=m[1],P=m[2];if(h){for(var T=h.toLowerCase().split("::").reverse(),z=p(T,2),Y=z[0],ue=z[1],F=ue?ue.split(":").map(wn):[],se=Y.split(":").map(wn),ce=o.IPV4ADDRESS.test(se[se.length-1]),re=ce?7:8,x=se.length-re,ie=Array(re),Q=0;Q<re;++Q)ie[Q]=F[Q]||se[x+Q]||"";ce&&(ie[re-1]=bn(ie[re-1],o));var yt=ie.reduce(function(Te,Ke,gt){if(!Ke||Ke==="0"){var et=Te[Te.length-1];et&&et.index+et.length===gt?et.length++:Te.push({index:gt,length:1})}return Te},[]),Oe=yt.sort(function(Te,Ke){return Ke.length-Te.length})[0],Ne=void 0;if(Oe&&Oe.length>1){var Z=ie.slice(0,Oe.index),qe=ie.slice(Oe.index+Oe.length);Ne=Z.join(":")+"::"+qe.join(":")}else Ne=ie.join(":");return P&&(Ne+="%"+P),Ne}else return u}var Vl=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Fl="".match(/(){0}/)[1]===void 0;function Xe(u){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c={},m=o.iri!==!1?f:d;o.reference==="suffix"&&(u=(o.scheme?o.scheme+":":"")+"//"+u);var h=u.match(Vl);if(h){Fl?(c.scheme=h[1],c.userinfo=h[3],c.host=h[4],c.port=parseInt(h[5],10),c.path=h[6]||"",c.query=h[7],c.fragment=h[8],isNaN(c.port)&&(c.port=h[5])):(c.scheme=h[1]||void 0,c.userinfo=u.indexOf("@")!==-1?h[3]:void 0,c.host=u.indexOf("//")!==-1?h[4]:void 0,c.port=parseInt(h[5],10),c.path=h[6]||"",c.query=u.indexOf("?")!==-1?h[7]:void 0,c.fragment=u.indexOf("#")!==-1?h[8]:void 0,isNaN(c.port)&&(c.port=u.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?h[4]:void 0)),c.host&&(c.host=mi(bn(c.host,m),m)),c.scheme===void 0&&c.userinfo===void 0&&c.host===void 0&&c.port===void 0&&!c.path&&c.query===void 0?c.reference="same-document":c.scheme===void 0?c.reference="relative":c.fragment===void 0?c.reference="absolute":c.reference="uri",o.reference&&o.reference!=="suffix"&&o.reference!==c.reference&&(c.error=c.error||"URI is not a "+o.reference+" reference.");var P=Ce[(o.scheme||c.scheme||"").toLowerCase()];if(!o.unicodeSupport&&(!P||!P.unicodeSupport)){if(c.host&&(o.domainHost||P&&P.domainHost))try{c.host=Ot.toASCII(c.host.replace(m.PCT_ENCODED,qt).toLowerCase())}catch(T){c.error=c.error||"Host's domain name can not be converted to ASCII via punycode: "+T}_n(c,d)}else _n(c,m);P&&P.parse&&P.parse(c,o)}else c.error=c.error||"URI can not be parsed.";return c}function Ul(u,o){var c=o.iri!==!1?f:d,m=[];return u.userinfo!==void 0&&(m.push(u.userinfo),m.push("@")),u.host!==void 0&&m.push(mi(bn(String(u.host),c),c).replace(c.IPV6ADDRESS,function(h,P,T){return"["+P+(T?"%25"+T:"")+"]"})),(typeof u.port=="number"||typeof u.port=="string")&&(m.push(":"),m.push(String(u.port))),m.length?m.join(""):void 0}var hi=/^\.\.?\//,yi=/^\/\.(\/|$)/,gi=/^\/\.\.(\/|$)/,zl=/^\/?(?:.|\n)*?(?=\/|$)/;function Ct(u){for(var o=[];u.length;)if(u.match(hi))u=u.replace(hi,"");else if(u.match(yi))u=u.replace(yi,"/");else if(u.match(gi))u=u.replace(gi,"/"),o.pop();else if(u==="."||u==="..")u="";else{var c=u.match(zl);if(c){var m=c[0];u=u.slice(m.length),o.push(m)}else throw new Error("Unexpected dot segment condition")}return o.join("")}function xe(u){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.iri?f:d,m=[],h=Ce[(o.scheme||u.scheme||"").toLowerCase()];if(h&&h.serialize&&h.serialize(u,o),u.host&&!c.IPV6ADDRESS.test(u.host)){if(o.domainHost||h&&h.domainHost)try{u.host=o.iri?Ot.toUnicode(u.host):Ot.toASCII(u.host.replace(c.PCT_ENCODED,qt).toLowerCase())}catch(z){u.error=u.error||"Host's domain name can not be converted to "+(o.iri?"Unicode":"ASCII")+" via punycode: "+z}}_n(u,c),o.reference!=="suffix"&&u.scheme&&(m.push(u.scheme),m.push(":"));var P=Ul(u,o);if(P!==void 0&&(o.reference!=="suffix"&&m.push("//"),m.push(P),u.path&&u.path.charAt(0)!=="/"&&m.push("/")),u.path!==void 0){var T=u.path;!o.absolutePath&&(!h||!h.absolutePath)&&(T=Ct(T)),P===void 0&&(T=T.replace(/^\/\//,"/%2F")),m.push(T)}return u.query!==void 0&&(m.push("?"),m.push(u.query)),u.fragment!==void 0&&(m.push("#"),m.push(u.fragment)),m.join("")}function $i(u,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=arguments[3],h={};return m||(u=Xe(xe(u,c),c),o=Xe(xe(o,c),c)),c=c||{},!c.tolerant&&o.scheme?(h.scheme=o.scheme,h.userinfo=o.userinfo,h.host=o.host,h.port=o.port,h.path=Ct(o.path||""),h.query=o.query):(o.userinfo!==void 0||o.host!==void 0||o.port!==void 0?(h.userinfo=o.userinfo,h.host=o.host,h.port=o.port,h.path=Ct(o.path||""),h.query=o.query):(o.path?(o.path.charAt(0)==="/"?h.path=Ct(o.path):((u.userinfo!==void 0||u.host!==void 0||u.port!==void 0)&&!u.path?h.path="/"+o.path:u.path?h.path=u.path.slice(0,u.path.lastIndexOf("/")+1)+o.path:h.path=o.path,h.path=Ct(h.path)),h.query=o.query):(h.path=u.path,o.query!==void 0?h.query=o.query:h.query=u.query),h.userinfo=u.userinfo,h.host=u.host,h.port=u.port),h.scheme=u.scheme),h.fragment=o.fragment,h}function xl(u,o,c){var m=a({scheme:"null"},c);return xe($i(Xe(u,m),Xe(o,m),m,!0),m)}function Ll(u,o){return typeof u=="string"?u=xe(Xe(u,o),o):n(u)==="object"&&(u=Xe(xe(u,o),o)),u}function Kl(u,o,c){return typeof u=="string"?u=xe(Xe(u,c),c):n(u)==="object"&&(u=xe(u,c)),typeof o=="string"?o=xe(Xe(o,c),c):n(o)==="object"&&(o=xe(o,c)),u===o}function Hl(u,o){return u&&u.toString().replace(!o||!o.iri?d.ESCAPE:f.ESCAPE,ze)}function Ze(u,o){return u&&u.toString().replace(!o||!o.iri?d.PCT_ENCODED:f.PCT_ENCODED,qt)}var sr={scheme:"http",domainHost:!0,parse:function(o,c){return o.host||(o.error=o.error||"HTTP URIs must have a host."),o},serialize:function(o,c){var m=String(o.scheme).toLowerCase()==="https";return(o.port===(m?443:80)||o.port==="")&&(o.port=void 0),o.path||(o.path="/"),o}},vi={scheme:"https",domainHost:sr.domainHost,parse:sr.parse,serialize:sr.serialize};function _i(u){return typeof u.secure=="boolean"?u.secure:String(u.scheme).toLowerCase()==="wss"}var ir={scheme:"ws",domainHost:!0,parse:function(o,c){var m=o;return m.secure=_i(m),m.resourceName=(m.path||"/")+(m.query?"?"+m.query:""),m.path=void 0,m.query=void 0,m},serialize:function(o,c){if((o.port===(_i(o)?443:80)||o.port==="")&&(o.port=void 0),typeof o.secure=="boolean"&&(o.scheme=o.secure?"wss":"ws",o.secure=void 0),o.resourceName){var m=o.resourceName.split("?"),h=p(m,2),P=h[0],T=h[1];o.path=P&&P!=="/"?P:void 0,o.query=T,o.resourceName=void 0}return o.fragment=void 0,o}},wi={scheme:"wss",domainHost:ir.domainHost,parse:ir.parse,serialize:ir.serialize},Gl={},Jl=!0,bi="[A-Za-z0-9\\-\\.\\_\\~"+(Jl?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Le="[0-9A-Fa-f]",Yl=r(r("%[EFef]"+Le+"%"+Le+Le+"%"+Le+Le)+"|"+r("%[89A-Fa-f]"+Le+"%"+Le+Le)+"|"+r("%"+Le+Le)),Wl="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Bl="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ql=e(Bl,'[\\"\\\\]'),Xl="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Zl=new RegExp(bi,"g"),Nt=new RegExp(Yl,"g"),eu=new RegExp(e("[^]",Wl,"[\\.]",'[\\"]',Ql),"g"),Ei=new RegExp(e("[^]",bi,Xl),"g"),tu=Ei;function En(u){var o=qt(u);return o.match(Zl)?o:u}var Si={scheme:"mailto",parse:function(o,c){var m=o,h=m.to=m.path?m.path.split(","):[];if(m.path=void 0,m.query){for(var P=!1,T={},z=m.query.split("&"),Y=0,ue=z.length;Y<ue;++Y){var F=z[Y].split("=");switch(F[0]){case"to":for(var se=F[1].split(","),ce=0,re=se.length;ce<re;++ce)h.push(se[ce]);break;case"subject":m.subject=Ze(F[1],c);break;case"body":m.body=Ze(F[1],c);break;default:P=!0,T[Ze(F[0],c)]=Ze(F[1],c);break}}P&&(m.headers=T)}m.query=void 0;for(var x=0,ie=h.length;x<ie;++x){var Q=h[x].split("@");if(Q[0]=Ze(Q[0]),c.unicodeSupport)Q[1]=Ze(Q[1],c).toLowerCase();else try{Q[1]=Ot.toASCII(Ze(Q[1],c).toLowerCase())}catch(yt){m.error=m.error||"Email address's domain name can not be converted to ASCII via punycode: "+yt}h[x]=Q.join("@")}return m},serialize:function(o,c){var m=o,h=i(o.to);if(h){for(var P=0,T=h.length;P<T;++P){var z=String(h[P]),Y=z.lastIndexOf("@"),ue=z.slice(0,Y).replace(Nt,En).replace(Nt,s).replace(eu,ze),F=z.slice(Y+1);try{F=c.iri?Ot.toUnicode(F):Ot.toASCII(Ze(F,c).toLowerCase())}catch(x){m.error=m.error||"Email address's domain name can not be converted to "+(c.iri?"Unicode":"ASCII")+" via punycode: "+x}h[P]=ue+"@"+F}m.path=h.join(",")}var se=o.headers=o.headers||{};o.subject&&(se.subject=o.subject),o.body&&(se.body=o.body);var ce=[];for(var re in se)se[re]!==Gl[re]&&ce.push(re.replace(Nt,En).replace(Nt,s).replace(Ei,ze)+"="+se[re].replace(Nt,En).replace(Nt,s).replace(tu,ze));return ce.length&&(m.query=ce.join("&")),m}},ru=/^([^\:]+)\:(.*)/,Pi={scheme:"urn",parse:function(o,c){var m=o.path&&o.path.match(ru),h=o;if(m){var P=c.scheme||h.scheme||"urn",T=m[1].toLowerCase(),z=m[2],Y=P+":"+(c.nid||T),ue=Ce[Y];h.nid=T,h.nss=z,h.path=void 0,ue&&(h=ue.parse(h,c))}else h.error=h.error||"URN can not be parsed.";return h},serialize:function(o,c){var m=c.scheme||o.scheme||"urn",h=o.nid,P=m+":"+(c.nid||h),T=Ce[P];T&&(o=T.serialize(o,c));var z=o,Y=o.nss;return z.path=(h||c.nid)+":"+Y,z}},nu=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Oi={scheme:"urn:uuid",parse:function(o,c){var m=o;return m.uuid=m.nss,m.nss=void 0,!c.tolerant&&(!m.uuid||!m.uuid.match(nu))&&(m.error=m.error||"UUID is not valid."),m},serialize:function(o,c){var m=o;return m.nss=(o.uuid||"").toLowerCase(),m}};Ce[sr.scheme]=sr,Ce[vi.scheme]=vi,Ce[ir.scheme]=ir,Ce[wi.scheme]=wi,Ce[Si.scheme]=Si,Ce[Pi.scheme]=Pi,Ce[Oi.scheme]=Oi,t.SCHEMES=Ce,t.pctEncChar=ze,t.pctDecChars=qt,t.parse=Xe,t.removeDotSegments=Ct,t.serialize=xe,t.resolveComponents=$i,t.resolve=xl,t.normalize=Ll,t.equal=Kl,t.escapeComponent=Hl,t.unescapeComponent=Ze,Object.defineProperty(t,"__esModule",{value:!0})})});var hr=b(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.getSchemaRefs=Ee.resolveUrl=Ee.normalizeId=Ee._getFullPath=Ee.getFullPath=Ee.inlineRef=void 0;var Vc=K(),Fc=Gn(),Uc=Pa(),Wr=Jn(),zc=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function xc(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Yn(t):e?qa(t)<=e:!1}Ee.inlineRef=xc;var Lc=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Yn(t){for(let e in t){if(Lc.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(Yn)||typeof r=="object"&&Yn(r))return!0}return!1}function qa(t){let e=0;for(let r in t){if(r==="$ref")return Infinity;if(e++,!zc.has(r)&&(typeof t[r]=="object"&&Vc.eachItem(t[r],n=>e+=qa(n)),e===Infinity))return Infinity}return e}function Ca(t="",e){e!==!1&&(t=Ht(t));let r=Wr.parse(t);return Na(r)}Ee.getFullPath=Ca;function Na(t){return Wr.serialize(t).split("#")[0]+"#"}Ee._getFullPath=Na;var Kc=/#\/?$/;function Ht(t){return t?t.replace(Kc,""):""}Ee.normalizeId=Ht;function Hc(t,e){return e=Ht(e),Wr.resolve(t,e)}Ee.resolveUrl=Hc;var Gc=/^[a-z_][-a-z0-9._]*$/i;function Jc(t){if(typeof t=="boolean")return{};let e=Ht(t.$id),r={"":e},n=Ca(e,!1),s={},i=new Set;return Uc(t,{allKeys:!0},(d,f,p,y)=>{if(y===void 0)return;let v=n+f,$=r[y];typeof d.$id=="string"&&($=g.call(this,d.$id)),w.call(this,d.$anchor),w.call(this,d.$dynamicAnchor),r[f]=$;function g(_){if(_=Ht($?Wr.resolve($,_):_),i.has(_))throw l(_);i.add(_);let S=this.refs[_];return typeof S=="string"&&(S=this.refs[S]),typeof S=="object"?a(d,S.schema,_):_!==Ht(v)&&(_[0]==="#"?(a(d,s[_],_),s[_]=d):this.refs[_]=v),_}function w(_){if(typeof _=="string"){if(!Gc.test(_))throw new Error(`invalid anchor "${_}"`);g.call(this,`#${_}`)}}}),s;function a(d,f,p){if(f!==void 0&&!Fc(d,f))throw l(p)}function l(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Ee.getSchemaRefs=Jc});var Gt=b(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.getData=dt.KeywordCxt=dt.validateFunctionCode=void 0;var Ta=la(),ja=mr(),Wn=Fn(),Br=mr(),Yc=ha(),yr=_a(),Bn=ba(),q=j(),N=Je(),Wc=hr(),nt=K(),gr=zt();function Bc(t){if(ka(t)&&(Da(t),Ra(t))){Zc(t);return}Aa(t,()=>Ta.topBoolOrEmptySchema(t))}dt.validateFunctionCode=Bc;function Aa({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},i){s.code.es5?t.func(e,q._`${N.default.data}, ${N.default.valCxt}`,n.$async,()=>{t.code(q._`"use strict"; ${Ia(r,s)}`),Xc(t,s),t.code(i)}):t.func(e,q._`${N.default.data}, ${Qc(s)}`,n.$async,()=>t.code(Ia(r,s)).code(i))}function Qc(t){return q._`{${N.default.instancePath}="", ${N.default.parentData}, ${N.default.parentDataProperty}, ${N.default.rootData}=${N.default.data}${t.dynamicRef?q._`, ${N.default.dynamicAnchors}={}`:q.nil}}={}`}function Xc(t,e){t.if(N.default.valCxt,()=>{t.var(N.default.instancePath,q._`${N.default.valCxt}.${N.default.instancePath}`),t.var(N.default.parentData,q._`${N.default.valCxt}.${N.default.parentData}`),t.var(N.default.parentDataProperty,q._`${N.default.valCxt}.${N.default.parentDataProperty}`),t.var(N.default.rootData,q._`${N.default.valCxt}.${N.default.rootData}`),e.dynamicRef&&t.var(N.default.dynamicAnchors,q._`${N.default.valCxt}.${N.default.dynamicAnchors}`)},()=>{t.var(N.default.instancePath,q._`""`),t.var(N.default.parentData,q._`undefined`),t.var(N.default.parentDataProperty,q._`undefined`),t.var(N.default.rootData,N.default.data),e.dynamicRef&&t.var(N.default.dynamicAnchors,q._`{}`)})}function Zc(t){let{schema:e,opts:r,gen:n}=t;Aa(t,()=>{r.$comment&&e.$comment&&Va(t),sd(t),n.let(N.default.vErrors,null),n.let(N.default.errors,0),r.unevaluated&&ed(t),Ma(t),od(t)})}function ed(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",q._`${r}.evaluated`),e.if(q._`${t.evaluated}.dynamicProps`,()=>e.assign(q._`${t.evaluated}.props`,q._`undefined`)),e.if(q._`${t.evaluated}.dynamicItems`,()=>e.assign(q._`${t.evaluated}.items`,q._`undefined`))}function Ia(t,e){return typeof t=="object"&&t.$id&&(e.code.source||e.code.process)?q._`/*# sourceURL=${t.$id} */`:q.nil}function td(t,e){if(ka(t)&&(Da(t),Ra(t))){rd(t,e);return}Ta.boolOrEmptySchema(t,e)}function Ra({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function ka(t){return typeof t.schema!="boolean"}function rd(t,e){let{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&Va(t),id(t),ad(t);let i=n.const("_errs",N.default.errors);Ma(t,i),n.var(e,q._`${i} === ${N.default.errors}`)}function Da(t){nt.checkUnknownRules(t),nd(t)}function Ma(t,e){if(t.opts.jtd)return Fa(t,[],!1,e);let r=ja.getSchemaTypes(t.schema),n=ja.coerceAndCheckDataType(t,r);Fa(t,r,!n,e)}function nd(t){let{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&nt.schemaHasRulesButRef(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function sd(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&nt.checkStrictMode(t,"default is ignored in the schema root")}function id(t){t.schema.$id&&(t.baseId=Wc.resolveUrl(t.baseId,t.schema.$id))}function ad(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Va({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){let i=r.$comment;if(s.$comment===!0)t.code(q._`${N.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){let a=q.str`${n}/$comment`,l=t.scopeValue("root",{ref:e.root});t.code(q._`${N.default.self}.opts.$comment(${i}, ${a}, ${l}.schema)`)}}function od(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=t;r.$async?e.if(q._`${N.default.errors} === 0`,()=>e.return(N.default.data),()=>e.throw(q._`new ${s}(${N.default.vErrors})`)):(e.assign(q._`${n}.errors`,N.default.vErrors),i.unevaluated&&ld(t),e.return(q._`${N.default.errors} === 0`))}function ld({gen:t,evaluated:e,props:r,items:n}){r instanceof q.Name&&t.assign(q._`${e}.props`,r),n instanceof q.Name&&t.assign(q._`${e}.items`,n)}function Fa(t,e,r,n){let{gen:s,schema:i,data:a,allErrors:l,opts:d,self:f}=t,{RULES:p}=f;if(i.$ref&&(d.ignoreKeywordsWithRef||!nt.schemaHasRulesButRef(i,p))){s.block(()=>xa(t,"$ref",p.all.$ref.definition));return}d.jtd||ud(t,e),s.block(()=>{for(let v of p.rules)y(v);y(p.post)});function y(v){!Wn.shouldUseGroup(i,v)||(v.type?(s.if(Br.checkDataType(v.type,a,d.strictNumbers)),Ua(t,v),e.length===1&&e[0]===v.type&&r&&(s.else(),Br.reportTypeError(t)),s.endIf()):Ua(t,v),l||s.if(q._`${N.default.errors} === ${n||0}`))}}function Ua(t,e){let{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&Yc.assignDefaults(t,e.type),r.block(()=>{for(let i of e.rules)Wn.shouldUseRule(n,i)&&xa(t,i.keyword,i.definition,e.type)})}function ud(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(cd(t,e),t.opts.allowUnionTypes||dd(t,e),fd(t,t.dataTypes))}function cd(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{za(t.dataTypes,r)||Qn(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>za(e,r))}}function dd(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Qn(t,"use allowUnionTypes to allow union type keyword")}function fd(t,e){let r=t.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&Wn.shouldUseRule(t.schema,s)){let{type:i}=s.definition;i.length&&!i.some(a=>pd(e,a))&&Qn(t,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function pd(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function za(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Qn(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,nt.checkStrictMode(t,e,t.opts.strictTypes)}var Xn=class{constructor(e,r,n){if(yr.validateKeywordUsage(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=nt.schemaRefOrVal(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",La(this.$data,e));else if(this.schemaCode=this.schemaValue,!yr.validSchemaType(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",N.default.errors))}result(e,r,n){this.gen.if(q.not(e)),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.result(e,void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail(q._`${r} !== undefined && (${q.or(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?gr.reportExtraError:gr.reportError)(this,this.def.error,r)}$dataError(){gr.reportError(this,this.def.$dataError||gr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');gr.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=q.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=q.nil,r=q.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:i,def:a}=this;n.if(q.or(q._`${s} === undefined`,r)),e!==q.nil&&n.assign(e,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==q.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:s,it:i}=this;return q.or(a(),l());function a(){if(n.length){if(!(r instanceof q.Name))throw new Error("ajv implementation error");let d=Array.isArray(n)?n:[n];return q._`${Br.checkDataTypes(d,r,i.opts.strictNumbers,Br.DataType.Wrong)}`}return q.nil}function l(){if(s.validateSchema){let d=e.scopeValue("validate$data",{ref:s.validateSchema});return q._`!${d}(${r})`}return q.nil}}subschema(e,r){let n=Bn.getSubschema(this.it,e);Bn.extendSubschemaData(n,this.it,e),Bn.extendSubschemaMode(n,e);let s=de(ee(ee({},this.it),n),{items:void 0,props:void 0});return td(s,r),s}mergeEvaluated(e,r){let{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=nt.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=nt.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,q.Name)),!0}};dt.KeywordCxt=Xn;function xa(t,e,r,n){let s=new Xn(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?yr.funcKeywordCode(s,r):"macro"in r?yr.macroKeywordCode(s,r):(r.compile||r.validate)&&yr.funcKeywordCode(s,r)}var md=/^\/(?:[^~]|~0|~1)*$/,hd=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function La(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,i;if(t==="")return N.default.rootData;if(t[0]==="/"){if(!md.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,i=N.default.rootData}else{let f=hd.exec(t);if(!f)throw new Error(`Invalid JSON-pointer: ${t}`);let p=+f[1];if(s=f[2],s==="#"){if(p>=e)throw new Error(d("property/index",p));return n[e-p]}if(p>e)throw new Error(d("data",p));if(i=r[e-p],!s)return i}let a=i,l=s.split("/");for(let f of l)f&&(i=q._`${i}${q.getProperty(nt.unescapeJsonPointer(f))}`,a=q._`${a} && ${i}`);return a;function d(f,p){return`Cannot access ${f} ${p} levels up, current level is ${e}`}}dt.getData=La});var es=b(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});var Ka=class extends Error{constructor(e){super("validation failed");this.errors=e,this.ajv=this.validation=!0}};Zn.default=Ka});var ns=b(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});var ts=hr(),Ha=class extends Error{constructor(e,r,n){super(n||`can't resolve reference ${r} from id ${e}`);this.missingRef=ts.resolveUrl(e,r),this.missingSchema=ts.normalizeId(ts.getFullPath(this.missingRef))}};rs.default=Ha});var as=b(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.resolveSchema=Ae.getCompilingSchema=Ae.resolveRef=Ae.compileSchema=Ae.SchemaEnv=void 0;var Re=j(),yd=es(),bt=Je(),ke=hr(),Ga=K(),gd=Gt(),$d=Jn(),$r=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:ke.normalizeId(n==null?void 0:n.$id),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Ae.SchemaEnv=$r;function ss(t){let e=Ja.call(this,t);if(e)return e;let r=ke.getFullPath(t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new Re.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),l;t.$async&&(l=a.scopeValue("Error",{ref:yd.default,code:Re._`require("ajv/dist/runtime/validation_error").default`}));let d=a.scopeName("validate");t.validateName=d;let f={gen:a,allErrors:this.opts.allErrors,data:bt.default.data,parentData:bt.default.parentData,parentDataProperty:bt.default.parentDataProperty,dataNames:[bt.default.data],dataPathArr:[Re.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:Re.stringify(t.schema)}:{ref:t.schema}),validateName:d,ValidationError:l,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Re.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:Re._`""`,opts:this.opts,self:this},p;try{this._compilations.add(t),gd.validateFunctionCode(f),a.optimize(this.opts.code.optimize);let y=a.toString();p=`${a.scopeRefs(bt.default.scope)}return ${y}`,this.opts.code.process&&(p=this.opts.code.process(p,t));let $=new Function(`${bt.default.self}`,`${bt.default.scope}`,p)(this,this.scope.get());if(this.scope.value(d,{ref:$}),$.errors=null,$.schema=t.schema,$.schemaEnv=t,t.$async&&($.$async=!0),this.opts.code.source===!0&&($.source={validateName:d,validateCode:y,scopeValues:a._values}),this.opts.unevaluated){let{props:g,items:w}=f;$.evaluated={props:g instanceof Re.Name?void 0:g,items:w instanceof Re.Name?void 0:w,dynamicProps:g instanceof Re.Name,dynamicItems:w instanceof Re.Name},$.source&&($.source.evaluated=Re.stringify($.evaluated))}return t.validate=$,t}catch(y){throw delete t.validate,delete t.validateName,p&&this.logger.error("Error compiling schema, function code:",p),y}finally{this._compilations.delete(t)}}Ae.compileSchema=ss;function vd(t,e,r){var n;r=ke.resolveUrl(e,r);let s=t.refs[r];if(s)return s;let i=bd.call(this,t,r);if(i===void 0){let a=(n=t.localRefs)===null||n===void 0?void 0:n[r];a&&(i=new $r({schema:a,root:t,baseId:e}))}if(i!==void 0)return t.refs[r]=_d.call(this,i)}Ae.resolveRef=vd;function _d(t){return ke.inlineRef(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ss.call(this,t)}function Ja(t){for(let e of this._compilations)if(wd(e,t))return e}Ae.getCompilingSchema=Ja;function wd(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function bd(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Qr.call(this,t,e)}function Qr(t,e){let r=$d.parse(e),n=ke._getFullPath(r),s=ke.getFullPath(t.baseId);if(Object.keys(t.schema).length>0&&n===s)return is.call(this,r,t);let i=ke.normalizeId(n),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){let l=Qr.call(this,t,a);return typeof(l==null?void 0:l.schema)!="object"?void 0:is.call(this,r,l)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||ss.call(this,a),i===ke.normalizeId(e)){let{schema:l}=a;return l.$id&&(s=ke.resolveUrl(s,l.$id)),new $r({schema:l,root:t,baseId:s})}return is.call(this,r,a)}}Ae.resolveSchema=Qr;var Ed=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function is(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean"||(r=r[Ga.unescapeFragment(a)],r===void 0))return;!Ed.has(a)&&typeof r=="object"&&r.$id&&(e=ke.resolveUrl(e,r.$id))}let i;if(typeof r!="boolean"&&r.$ref&&!Ga.schemaHasRulesButRef(r,this.RULES)){let a=ke.resolveUrl(e,r.$ref);i=Qr.call(this,n,a)}if(i=i||new $r({schema:r,root:n,baseId:e}),i.schema!==i.root.schema)return i}});var Ya=b((wh,Sd)=>{Sd.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var to=b(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.CodeGen=me.Name=me.nil=me.stringify=me.str=me._=me.KeywordCxt=void 0;var Pd=Gt();Object.defineProperty(me,"KeywordCxt",{enumerable:!0,get:function(){return Pd.KeywordCxt}});var Jt=j();Object.defineProperty(me,"_",{enumerable:!0,get:function(){return Jt._}});Object.defineProperty(me,"str",{enumerable:!0,get:function(){return Jt.str}});Object.defineProperty(me,"stringify",{enumerable:!0,get:function(){return Jt.stringify}});Object.defineProperty(me,"nil",{enumerable:!0,get:function(){return Jt.nil}});Object.defineProperty(me,"Name",{enumerable:!0,get:function(){return Jt.Name}});Object.defineProperty(me,"CodeGen",{enumerable:!0,get:function(){return Jt.CodeGen}});var Od=es(),Wa=ns(),qd=Vn(),vr=as(),Cd=j(),_r=hr(),Xr=mr(),os=K(),Ba=Ya(),Nd=["removeAdditional","useDefaults","coerceTypes"],Td=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),jd={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",schemaId:"JSON Schema draft-04 is not supported in Ajv v7/8.",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now, see option `strict`."},Ad={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Qa=200;function Id(t){var e,r,n,s,i,a,l,d,f,p,y,v,$,g,w,_,S,M,ae,H;let L=t.strict,O=(e=t.code)===null||e===void 0?void 0:e.optimize,C=O===!0||O===void 0?1:O||0;return{strictSchema:(n=(r=t.strictSchema)!==null&&r!==void 0?r:L)!==null&&n!==void 0?n:!0,strictNumbers:(i=(s=t.strictNumbers)!==null&&s!==void 0?s:L)!==null&&i!==void 0?i:!0,strictTypes:(l=(a=t.strictTypes)!==null&&a!==void 0?a:L)!==null&&l!==void 0?l:"log",strictTuples:(f=(d=t.strictTuples)!==null&&d!==void 0?d:L)!==null&&f!==void 0?f:"log",strictRequired:(y=(p=t.strictRequired)!==null&&p!==void 0?p:L)!==null&&y!==void 0?y:!1,code:t.code?de(ee({},t.code),{optimize:C}):{optimize:C},loopRequired:(v=t.loopRequired)!==null&&v!==void 0?v:Qa,loopEnum:($=t.loopEnum)!==null&&$!==void 0?$:Qa,meta:(g=t.meta)!==null&&g!==void 0?g:!0,messages:(w=t.messages)!==null&&w!==void 0?w:!0,inlineRefs:(_=t.inlineRefs)!==null&&_!==void 0?_:!0,addUsedSchema:(S=t.addUsedSchema)!==null&&S!==void 0?S:!0,validateSchema:(M=t.validateSchema)!==null&&M!==void 0?M:!0,validateFormats:(ae=t.validateFormats)!==null&&ae!==void 0?ae:!0,unicodeRegExp:(H=t.unicodeRegExp)!==null&&H!==void 0?H:!0}}var Zr=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=ee(ee({},e),Id(e));let{es5:r,lines:n}=this.opts.code;this.scope=new Cd.ValueScope({scope:{},prefixes:Td,es5:r,lines:n}),this.logger=Fd(e.logger);let s=e.validateFormats;e.validateFormats=!1,this.RULES=qd.getRules(),Xa.call(this,jd,e,"NOT SUPPORTED"),Xa.call(this,Ad,e,"DEPRECATED","warn"),this._metaOpts=Md.call(this),e.formats&&kd.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Dd.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Rd.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r}=this.opts;r&&e&&this.addMetaSchema(Ba,Ba.$id,!1)}defaultMeta(){let{meta:e}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e.$id||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,e,r);function s(p,y){return Dt(this,null,function*(){yield i.call(this,p.$schema);let v=this._addSchema(p,y);return v.validate||a.call(this,v)})}function i(p){return Dt(this,null,function*(){p&&!this.getSchema(p)&&(yield s.call(this,{$ref:p},!0))})}function a(p){return Dt(this,null,function*(){try{return this._compileSchemaEnv(p)}catch(y){if(!(y instanceof Wa.default))throw y;return l.call(this,y),yield d.call(this,y.missingSchema),a.call(this,p)}})}function l({missingSchema:p,missingRef:y}){if(this.refs[p])throw new Error(`AnySchema ${p} is loaded but ${y} cannot be resolved`)}function d(p){return Dt(this,null,function*(){let y=yield f.call(this,p);this.refs[p]||(yield i.call(this,y.$schema)),this.refs[p]||this.addSchema(y,p,r)})}function f(p){return Dt(this,null,function*(){let y=this._loading[p];if(y)return y;try{return yield this._loading[p]=n(p)}finally{delete this._loading[p]}})}}addSchema(e,r,n,s=this.opts.validateSchema){if(Array.isArray(e)){for(let a of e)this.addSchema(a,void 0,n,s);return this}let i;if(typeof e=="object"&&(i=e.$id,i!==void 0&&typeof i!="string"))throw new Error("schema $id must be string");return r=_r.normalizeId(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,s,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,e);if(!s&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(e){let r;for(;typeof(r=Za.call(this,e))=="string";)e=r;if(r===void 0){let n=new vr.SchemaEnv({schema:{}});if(r=vr.resolveSchema.call(this,n,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Za.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e.$id;return n&&(n=_r.normalizeId(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(zd.call(this,n,r),!r)return os.eachItem(n,i=>ls.call(this,i)),this;Ld.call(this,r);let s=de(ee({},r),{type:Xr.getJSONTypes(r.type),schemaType:Xr.getJSONTypes(r.schemaType)});return os.eachItem(n,s.type.length===0?i=>ls.call(this,i,s):i=>s.type.forEach(a=>ls.call(this,i,s,a))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let s=n.rules.findIndex(i=>i.keyword===e);s>=0&&n.rules.splice(s,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,i)=>s+r+i)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let s of r){let i=s.split("/").slice(1),a=e;for(let l of i)a=a[l];for(let l in n){let d=n[l];if(typeof d!="object")continue;let{$data:f}=d.definition,p=a[l];f&&p&&(a[l]=eo(p))}}return e}_removeAllSchemas(e,r){for(let n in e){let s=e[n];(!r||r.test(n))&&(typeof s=="string"?delete e[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[n]))}}_addSchema(e,r,n,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let a;if(typeof e=="object")a=e.$id;else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(e);if(l!==void 0)return l;let d=_r.getSchemaRefs.call(this,e);return n=_r.normalizeId(a||n),l=new vr.SchemaEnv({schema:e,meta:r,baseId:n,localRefs:d}),this._cache.set(l.schema,l),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=l),s&&this.validateSchema(e,!0),l}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):vr.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{vr.compileSchema.call(this,e)}finally{this.opts=r}}};me.default=Zr;Zr.ValidationError=Od.default;Zr.MissingRefError=Wa.default;function Xa(t,e,r,n="error"){for(let s in t){let i=s;i in e&&this.logger[n](`${r}: option ${s}. ${t[i]}`)}}function Za(t){return t=_r.normalizeId(t),this.schemas[t]||this.refs[t]}function Rd(){let t=this.opts.schemas;if(!!t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function kd(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Dd(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function Md(){let t=ee({},this.opts);for(let e of Nd)delete t[e];return t}var Vd={log(){},warn(){},error(){}};function Fd(t){if(t===!1)return Vd;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Ud=/^[a-z_$][a-z0-9_$:-]*$/i;function zd(t,e){let{RULES:r}=this;if(os.eachItem(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!Ud.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function ls(t,e,r){var n;let s=e==null?void 0:e.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,a=s?i.post:i.rules.find(({type:d})=>d===r);if(a||(a={type:r,rules:[]},i.rules.push(a)),i.keywords[t]=!0,!e)return;let l={keyword:t,definition:de(ee({},e),{type:Xr.getJSONTypes(e.type),schemaType:Xr.getJSONTypes(e.schemaType)})};e.before?xd.call(this,a,l,e.before):a.rules.push(l),i.all[t]=l,(n=e.implements)===null||n===void 0||n.forEach(d=>this.addKeyword(d))}function xd(t,e,r){let n=t.rules.findIndex(s=>s.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function Ld(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=eo(e)),t.validateSchema=this.compile(e,!0))}var Kd={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function eo(t){return{anyOf:[t,Kd]}}});var ro=b(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});var Hd={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};us.default=Hd});var ao=b(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.callRef=Et.getValidate=void 0;var Gd=ns(),no=je(),Se=j(),Yt=Je(),so=as(),en=K(),Jd={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:i,validateName:a,opts:l,self:d}=n,{root:f}=i;if((r==="#"||r==="#/")&&s===f.baseId)return y();let p=so.resolveRef.call(d,f,s,r);if(p===void 0)throw new Gd.default(s,r);if(p instanceof so.SchemaEnv)return v(p);return $(p);function y(){if(i===f)return tn(t,a,i,i.$async);let g=e.scopeValue("root",{ref:f});return tn(t,Se._`${g}.validate`,f,f.$async)}function v(g){let w=io(t,g);tn(t,w,g,g.$async)}function $(g){let w=e.scopeValue("schema",l.code.source===!0?{ref:g,code:Se.stringify(g)}:{ref:g}),_=e.name("valid"),S=t.subschema({schema:g,dataTypes:[],schemaPath:Se.nil,topSchemaRef:w,errSchemaPath:r},_);t.mergeEvaluated(S),t.ok(_)}}};function io(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):Se._`${r.scopeValue("wrapper",{ref:e})}.validate`}Et.getValidate=io;function tn(t,e,r,n){let{gen:s,it:i}=t,{allErrors:a,schemaEnv:l,opts:d}=i,f=d.passContext?Yt.default.this:Se.nil;n?p():y();function p(){if(!l.$async)throw new Error("async schema referenced by sync schema");let g=s.let("valid");s.try(()=>{s.code(Se._`await ${no.callValidateCode(t,e,f)}`),$(e),a||s.assign(g,!0)},w=>{s.if(Se._`!(${w} instanceof ${i.ValidationError})`,()=>s.throw(w)),v(w),a||s.assign(g,!1)}),t.ok(g)}function y(){t.result(no.callValidateCode(t,e,f),()=>$(e),()=>v(e))}function v(g){let w=Se._`${g}.errors`;s.assign(Yt.default.vErrors,Se._`${Yt.default.vErrors} === null ? ${w} : ${Yt.default.vErrors}.concat(${w})`),s.assign(Yt.default.errors,Se._`${Yt.default.vErrors}.length`)}function $(g){var w;if(!i.opts.unevaluated)return;let _=(w=r==null?void 0:r.validate)===null||w===void 0?void 0:w.evaluated;if(i.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(i.props=en.mergeEvaluated.props(s,_.props,i.props));else{let S=s.var("props",Se._`${g}.evaluated.props`);i.props=en.mergeEvaluated.props(s,S,i.props,Se.Name)}if(i.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(i.items=en.mergeEvaluated.items(s,_.items,i.items));else{let S=s.var("items",Se._`${g}.evaluated.items`);i.items=en.mergeEvaluated.items(s,S,i.items,Se.Name)}}}Et.callRef=tn;Et.default=Jd});var oo=b(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});var Yd=ro(),Wd=ao(),Bd=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Yd.default,Wd.default];cs.default=Bd});var lo=b(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});var rn=j(),ft=rn.operators,nn={maximum:{okStr:"<=",ok:ft.LTE,fail:ft.GT},minimum:{okStr:">=",ok:ft.GTE,fail:ft.LT},exclusiveMaximum:{okStr:"<",ok:ft.LT,fail:ft.GTE},exclusiveMinimum:{okStr:">",ok:ft.GT,fail:ft.LTE}},Qd={message:({keyword:t,schemaCode:e})=>rn.str`must be ${nn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>rn._`{comparison: ${nn[t].okStr}, limit: ${e}}`},Xd={keyword:Object.keys(nn),type:"number",schemaType:"number",$data:!0,error:Qd,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data(rn._`${r} ${nn[e].fail} ${n} || isNaN(${r})`)}};ds.default=Xd});var uo=b(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});var wr=j(),Zd={message:({schemaCode:t})=>wr.str`must be multiple of ${t}`,params:({schemaCode:t})=>wr._`{multipleOf: ${t}}`},ef={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Zd,code(t){let{gen:e,data:r,schemaCode:n,it:s}=t,i=s.opts.multipleOfPrecision,a=e.let("res"),l=i?wr._`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:wr._`${a} !== parseInt(${a})`;t.fail$data(wr._`(${n} === 0 || (${a} = ${r}/${n}, ${l}))`)}};fs.default=ef});var fo=b(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});function co(t){let e=t.length,r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)==56320&&n++);return r}ps.default=co;co.code='require("ajv/dist/runtime/ucs2length").default'});var po=b(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});var St=j(),tf=K(),rf=fo(),nf={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return St.str`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>St._`{limit: ${t}}`},sf={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:nf,code(t){let{keyword:e,data:r,schemaCode:n,it:s}=t,i=e==="maxLength"?St.operators.GT:St.operators.LT,a=s.opts.unicode===!1?St._`${r}.length`:St._`${tf.useFunc(t.gen,rf.default)}(${r})`;t.fail$data(St._`${a} ${i} ${n}`)}};ms.default=sf});var mo=b(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var af=je(),sn=j(),of={message:({schemaCode:t})=>sn.str`must match pattern "${t}"`,params:({schemaCode:t})=>sn._`{pattern: ${t}}`},lf={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:of,code(t){let{data:e,$data:r,schema:n,schemaCode:s,it:i}=t,a=i.opts.unicodeRegExp?"u":"",l=r?sn._`(new RegExp(${s}, ${a}))`:af.usePattern(t,n);t.fail$data(sn._`!${l}.test(${e})`)}};hs.default=lf});var ho=b(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});var br=j(),uf={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return br.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>br._`{limit: ${t}}`},cf={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:uf,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?br.operators.GT:br.operators.LT;t.fail$data(br._`Object.keys(${r}).length ${s} ${n}`)}};ys.default=cf});var yo=b(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});var Er=je(),Sr=j(),df=K(),ff={message:({params:{missingProperty:t}})=>Sr.str`must have required property '${t}'`,params:({params:{missingProperty:t}})=>Sr._`{missingProperty: ${t}}`},pf={keyword:"required",type:"object",schemaType:"array",$data:!0,error:ff,code(t){let{gen:e,schema:r,schemaCode:n,data:s,$data:i,it:a}=t,{opts:l}=a;if(!i&&r.length===0)return;let d=r.length>=l.loopRequired;if(a.allErrors?f():p(),l.strictRequired){let $=t.parentSchema.properties,{definedProperties:g}=t.it;for(let w of r)if(($==null?void 0:$[w])===void 0&&!g.has(w)){let _=a.schemaEnv.baseId+a.errSchemaPath,S=`required property "${w}" is not defined at "${_}" (strictRequired)`;df.checkStrictMode(a,S,a.opts.strictRequired)}}function f(){if(d||i)t.block$data(Sr.nil,y);else for(let $ of r)Er.checkReportMissingProp(t,$)}function p(){let $=e.let("missing");if(d||i){let g=e.let("valid",!0);t.block$data(g,()=>v($,g)),t.ok(g)}else e.if(Er.checkMissingProp(t,r,$)),Er.reportMissingProp(t,$),e.else()}function y(){e.forOf("prop",n,$=>{t.setParams({missingProperty:$}),e.if(Er.noPropertyInData(e,s,$,l.ownProperties),()=>t.error())})}function v($,g){t.setParams({missingProperty:$}),e.forOf($,n,()=>{e.assign(g,Er.propertyInData(e,s,$,l.ownProperties)),e.if(Sr.not(g),()=>{t.error(),e.break()})},Sr.nil)}}};gs.default=pf});var go=b($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});var Pr=j(),mf={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return Pr.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>Pr._`{limit: ${t}}`},hf={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:mf,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?Pr.operators.GT:Pr.operators.LT;t.fail$data(Pr._`${r}.length ${s} ${n}`)}};$s.default=hf});var an=b(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});var $o=Gn();$o.code='require("ajv/dist/runtime/equal").default';vs.default=$o});var vo=b(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});var _s=mr(),he=j(),yf=K(),gf=an(),$f={message:({params:{i:t,j:e}})=>he.str`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>he._`{i: ${t}, j: ${e}}`},vf={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:$f,code(t){let{gen:e,data:r,$data:n,schema:s,parentSchema:i,schemaCode:a,it:l}=t;if(!n&&!s)return;let d=e.let("valid"),f=i.items?_s.getSchemaTypes(i.items):[];t.block$data(d,p,he._`${a} === false`),t.ok(d);function p(){let g=e.let("i",he._`${r}.length`),w=e.let("j");t.setParams({i:g,j:w}),e.assign(d,!0),e.if(he._`${g} > 1`,()=>(y()?v:$)(g,w))}function y(){return f.length>0&&!f.some(g=>g==="object"||g==="array")}function v(g,w){let _=e.name("item"),S=_s.checkDataTypes(f,_,l.opts.strictNumbers,_s.DataType.Wrong),M=e.const("indices",he._`{}`);e.for(he._`;${g}--;`,()=>{e.let(_,he._`${r}[${g}]`),e.if(S,he._`continue`),f.length>1&&e.if(he._`typeof ${_} == "string"`,he._`${_} += "_"`),e.if(he._`typeof ${M}[${_}] == "number"`,()=>{e.assign(w,he._`${M}[${_}]`),t.error(),e.assign(d,!1).break()}).code(he._`${M}[${_}] = ${g}`)})}function $(g,w){let _=yf.useFunc(e,gf.default),S=e.name("outer");e.label(S).for(he._`;${g}--;`,()=>e.for(he._`${w} = ${g}; ${w}--;`,()=>e.if(he._`${_}(${r}[${g}], ${r}[${w}])`,()=>{t.error(),e.assign(d,!1).break(S)})))}}};ws.default=vf});var wo=b(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});var _o=j(),_f=K(),wf=an(),bf={message:"must be equal to constant",params:({schemaCode:t})=>_o._`{allowedValue: ${t}}`},Ef={keyword:"const",$data:!0,error:bf,code(t){let{gen:e,data:r,schemaCode:n}=t;t.fail$data(_o._`!${_f.useFunc(e,wf.default)}(${r}, ${n})`)}};bs.default=Ef});var bo=b(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var Or=j(),Sf=K(),Pf=an(),Of={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>Or._`{allowedValues: ${t}}`},qf={keyword:"enum",schemaType:"array",$data:!0,error:Of,code(t){let{gen:e,data:r,$data:n,schema:s,schemaCode:i,it:a}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let l=s.length>=a.opts.loopEnum,d=Sf.useFunc(e,Pf.default),f;if(l||n)f=e.let("valid"),t.block$data(f,p);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let v=e.const("vSchema",i);f=Or.or(...s.map(($,g)=>y(v,g)))}t.pass(f);function p(){e.assign(f,!1),e.forOf("v",i,v=>e.if(Or._`${d}(${r}, ${v})`,()=>e.assign(f,!0).break()))}function y(v,$){let g=s[$];return g&&typeof g=="object"?Or._`${d}(${r}, ${v}[${$}])`:Or._`${r} === ${g}`}}};Es.default=qf});var Eo=b(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});var Cf=lo(),Nf=uo(),Tf=po(),jf=mo(),Af=ho(),If=yo(),Rf=go(),kf=vo(),Df=wo(),Mf=bo(),Vf=[Cf.default,Nf.default,Tf.default,jf.default,Af.default,If.default,Rf.default,kf.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Df.default,Mf.default];Ss.default=Vf});var Os=b(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.validateAdditionalItems=void 0;var Pt=j(),Ps=K(),Ff={message:({params:{len:t}})=>Pt.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>Pt._`{limit: ${t}}`},Uf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ff,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){Ps.checkStrictMode(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}So(t,n)}};function So(t,e){let{gen:r,schema:n,data:s,keyword:i,it:a}=t;a.items=!0;let l=r.const("len",Pt._`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass(Pt._`${l} <= ${e.length}`);else if(typeof n=="object"&&!Ps.alwaysValidSchema(a,n)){let f=r.var("valid",Pt._`${l} <= ${e.length}`);r.if(Pt.not(f),()=>d(f)),t.ok(f)}function d(f){r.forRange("i",e.length,l,p=>{t.subschema({keyword:i,dataProp:p,dataPropType:Ps.Type.Num},f),a.allErrors||r.if(Pt.not(f),()=>r.break())})}}qr.validateAdditionalItems=So;qr.default=Uf});var qs=b(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.validateTuple=void 0;var Po=j(),on=K(),zf=je(),xf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return Oo(t,"additionalItems",e);r.items=!0,!on.alwaysValidSchema(r,e)&&t.ok(zf.validateArray(t))}};function Oo(t,e,r=t.schema){let{gen:n,parentSchema:s,data:i,keyword:a,it:l}=t;p(s),l.opts.unevaluated&&r.length&&l.items!==!0&&(l.items=on.mergeEvaluated.items(n,r.length,l.items));let d=n.name("valid"),f=n.const("len",Po._`${i}.length`);r.forEach((y,v)=>{on.alwaysValidSchema(l,y)||(n.if(Po._`${f} > ${v}`,()=>t.subschema({keyword:a,schemaProp:v,dataProp:v},d)),t.ok(d))});function p(y){let{opts:v,errSchemaPath:$}=l,g=r.length,w=g===y.minItems&&(g===y.maxItems||y[e]===!1);if(v.strictTuples&&!w){let _=`"${a}" is ${g}-tuple, but minItems or maxItems/${e} are not specified or different at path "${$}"`;on.checkStrictMode(l,_,v.strictTuples)}}}Cr.validateTuple=Oo;Cr.default=xf});var qo=b(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});var Lf=qs(),Kf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>Lf.validateTuple(t,"items")};Cs.default=Kf});var No=b(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});var Co=j(),Hf=K(),Gf=je(),Jf=Os(),Yf={message:({params:{len:t}})=>Co.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>Co._`{limit: ${t}}`},Wf={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Yf,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!Hf.alwaysValidSchema(n,e)&&(s?Jf.validateAdditionalItems(t,s):t.ok(Gf.validateArray(t)))}};Ns.default=Wf});var To=b(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});var De=j(),ln=K(),Bf={message:({params:{min:t,max:e}})=>e===void 0?De.str`must contain at least ${t} valid item(s)`:De.str`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?De._`{minContains: ${t}}`:De._`{minContains: ${t}, maxContains: ${e}}`},Qf={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Bf,code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:i}=t,a,l,{minContains:d,maxContains:f}=n;i.opts.next?(a=d===void 0?1:d,l=f):a=1;let p=e.const("len",De._`${s}.length`);if(t.setParams({min:a,max:l}),l===void 0&&a===0){ln.checkStrictMode(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(l!==void 0&&a>l){ln.checkStrictMode(i,'"minContains" > "maxContains" is always invalid'),t.fail();return}if(ln.alwaysValidSchema(i,r)){let g=De._`${p} >= ${a}`;l!==void 0&&(g=De._`${g} && ${p} <= ${l}`),t.pass(g);return}i.items=!0;let y=e.name("valid");if(l===void 0&&a===1)v(y,()=>e.if(y,()=>e.break()));else{e.let(y,!1);let g=e.name("_valid"),w=e.let("count",0);v(g,()=>e.if(g,()=>$(w)))}t.result(y,()=>t.reset());function v(g,w){e.forRange("i",0,p,_=>{t.subschema({keyword:"contains",dataProp:_,dataPropType:ln.Type.Num,compositeRule:!0},g),w()})}function $(g){e.code(De._`${g}++`),l===void 0?e.if(De._`${g} >= ${a}`,()=>e.assign(y,!0).break()):(e.if(De._`${g} > ${l}`,()=>e.assign(y,!1).break()),a===1?e.assign(y,!0):e.if(De._`${g} >= ${a}`,()=>e.assign(y,!0)))}}};Ts.default=Qf});var Io=b(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.validateSchemaDeps=Be.validatePropertyDeps=Be.error=void 0;var js=j(),Xf=K(),Nr=je();Be.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return js.str`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>js._`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var Zf={keyword:"dependencies",type:"object",schemaType:"object",error:Be.error,code(t){let[e,r]=ep(t);jo(t,e),Ao(t,r)}};function ep({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let s=Array.isArray(t[n])?e:r;s[n]=t[n]}return[e,r]}function jo(t,e=t.schema){let{gen:r,data:n,it:s}=t;if(Object.keys(e).length===0)return;let i=r.let("missing");for(let a in e){let l=e[a];if(l.length===0)continue;let d=Nr.propertyInData(r,n,a,s.opts.ownProperties);t.setParams({property:a,depsCount:l.length,deps:l.join(", ")}),s.allErrors?r.if(d,()=>{for(let f of l)Nr.checkReportMissingProp(t,f)}):(r.if(js._`${d} && (${Nr.checkMissingProp(t,l,i)})`),Nr.reportMissingProp(t,i),r.else())}}Be.validatePropertyDeps=jo;function Ao(t,e=t.schema){let{gen:r,data:n,keyword:s,it:i}=t,a=r.name("valid");for(let l in e)Xf.alwaysValidSchema(i,e[l])||(r.if(Nr.propertyInData(r,n,l,i.opts.ownProperties),()=>{let d=t.subschema({keyword:s,schemaProp:l},a);t.mergeValidEvaluated(d,a)},()=>r.var(a,!0)),t.ok(a))}Be.validateSchemaDeps=Ao;Be.default=Zf});var ko=b(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});var Ro=j(),tp=K(),rp={message:"property name must be valid",params:({params:t})=>Ro._`{propertyName: ${t.propertyName}}`},np={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:rp,code(t){let{gen:e,schema:r,data:n,it:s}=t;if(tp.alwaysValidSchema(s,r))return;let i=e.name("valid");e.forIn("key",n,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),e.if(Ro.not(i),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(i)}};As.default=np});var Rs=b(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var un=je(),Me=j(),sp=Je(),cn=K(),ip={message:"must NOT have additional properties",params:({params:t})=>Me._`{additionalProperty: ${t.additionalProperty}}`},ap={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:ip,code(t){let{gen:e,schema:r,parentSchema:n,data:s,errsCount:i,it:a}=t;if(!i)throw new Error("ajv implementation error");let{allErrors:l,opts:d}=a;if(a.props=!0,d.removeAdditional!=="all"&&cn.alwaysValidSchema(a,r))return;let f=un.allSchemaProperties(n.properties),p=un.allSchemaProperties(n.patternProperties);y(),t.ok(Me._`${i} === ${sp.default.errors}`);function y(){e.forIn("key",s,_=>{!f.length&&!p.length?g(_):e.if(v(_),()=>g(_))})}function v(_){let S;if(f.length>8){let M=cn.schemaRefOrVal(a,n.properties,"properties");S=un.isOwnProperty(e,M,_)}else f.length?S=Me.or(...f.map(M=>Me._`${_} === ${M}`)):S=Me.nil;return p.length&&(S=Me.or(S,...p.map(M=>Me._`${un.usePattern(t,M)}.test(${_})`))),Me.not(S)}function $(_){e.code(Me._`delete ${s}[${_}]`)}function g(_){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){$(_);return}if(r===!1){t.setParams({additionalProperty:_}),t.error(),l||e.break();return}if(typeof r=="object"&&!cn.alwaysValidSchema(a,r)){let S=e.name("valid");d.removeAdditional==="failing"?(w(_,S,!1),e.if(Me.not(S),()=>{t.reset(),$(_)})):(w(_,S),l||e.if(Me.not(S),()=>e.break()))}}function w(_,S,M){let ae={keyword:"additionalProperties",dataProp:_,dataPropType:cn.Type.Str};M===!1&&Object.assign(ae,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(ae,S)}}};Is.default=ap});var Vo=b(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});var op=Gt(),Do=je(),ks=K(),Mo=Rs(),lp={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:i}=t;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Mo.default.code(new op.KeywordCxt(i,Mo.default,"additionalProperties"));let a=Do.allSchemaProperties(r);for(let y of a)i.definedProperties.add(y);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=ks.mergeEvaluated.props(e,ks.toHash(a),i.props));let l=a.filter(y=>!ks.alwaysValidSchema(i,r[y]));if(l.length===0)return;let d=e.name("valid");for(let y of l)f(y)?p(y):(e.if(Do.propertyInData(e,s,y,i.opts.ownProperties)),p(y),i.allErrors||e.else().var(d,!0),e.endIf()),t.it.definedProperties.add(y),t.ok(d);function f(y){return i.opts.useDefaults&&!i.compositeRule&&r[y].default!==void 0}function p(y){t.subschema({keyword:"properties",schemaProp:y,dataProp:y},d)}}};Ds.default=lp});var zo=b(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});var Fo=je(),dn=j(),up=K(),Uo=K(),cp={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:s,it:i}=t,{opts:a}=i,l=Fo.schemaProperties(i,r);if(l.length===0)return;let d=a.strictSchema&&!a.allowMatchingProperties&&s.properties,f=e.name("valid");i.props!==!0&&!(i.props instanceof dn.Name)&&(i.props=Uo.evaluatedPropsToName(e,i.props));let{props:p}=i;y();function y(){for(let g of l)d&&v(g),i.allErrors?$(g):(e.var(f,!0),$(g),e.if(f))}function v(g){for(let w in d)new RegExp(g).test(w)&&up.checkStrictMode(i,`property ${w} matches pattern ${g} (use allowMatchingProperties)`)}function $(g){e.forIn("key",n,w=>{e.if(dn._`${Fo.usePattern(t,g)}.test(${w})`,()=>{t.subschema({keyword:"patternProperties",schemaProp:g,dataProp:w,dataPropType:Uo.Type.Str},f),i.opts.unevaluated&&p!==!0?e.assign(dn._`${p}[${w}]`,!0):i.allErrors||e.if(dn.not(f),()=>e.break())})})}}};Ms.default=cp});var xo=b(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});var dp=K(),fp={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if(dp.alwaysValidSchema(n,r)){t.fail();return}let s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.result(s,()=>t.error(),()=>t.reset())},error:{message:"must NOT be valid"}};Vs.default=fp});var Lo=b(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var pp=je(),mp={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:pp.validateUnion,error:{message:"must match a schema in anyOf"}};Fs.default=mp});var Ko=b(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});var fn=j(),hp=K(),yp={message:"must match exactly one schema in oneOf",params:({params:t})=>fn._`{passingSchemas: ${t.passing}}`},gp={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:yp,code(t){let{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let i=r,a=e.let("valid",!1),l=e.let("passing",null),d=e.name("_valid");t.setParams({passing:l}),e.block(f),t.result(a,()=>t.reset(),()=>t.error(!0));function f(){i.forEach((p,y)=>{let v;hp.alwaysValidSchema(s,p)?e.var(d,!0):v=t.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},d),y>0&&e.if(fn._`${d} && ${a}`).assign(a,!1).assign(l,fn._`[${l}, ${y}]`).else(),e.if(d,()=>{e.assign(a,!0),e.assign(l,y),v&&t.mergeEvaluated(v,fn.Name)})})}}};Us.default=gp});var Ho=b(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});var $p=K(),vp={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=e.name("valid");r.forEach((i,a)=>{if($p.alwaysValidSchema(n,i))return;let l=t.subschema({keyword:"allOf",schemaProp:a},s);t.ok(s),t.mergeEvaluated(l)})}};zs.default=vp});var Yo=b(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});var pn=j(),Go=K(),_p={message:({params:t})=>pn.str`must match "${t.ifClause}" schema`,params:({params:t})=>pn._`{failingKeyword: ${t.ifClause}}`},wp={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:_p,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&Go.checkStrictMode(n,'"if" without "then" and "else" is ignored');let s=Jo(n,"then"),i=Jo(n,"else");if(!s&&!i)return;let a=e.let("valid",!0),l=e.name("_valid");if(d(),t.reset(),s&&i){let p=e.let("ifClause");t.setParams({ifClause:p}),e.if(l,f("then",p),f("else",p))}else s?e.if(l,f("then")):e.if(pn.not(l),f("else"));t.pass(a,()=>t.error(!0));function d(){let p=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);t.mergeEvaluated(p)}function f(p,y){return()=>{let v=t.subschema({keyword:p},l);e.assign(a,l),t.mergeValidEvaluated(v,a),y?e.assign(y,pn._`${p}`):t.setParams({ifClause:p})}}}};function Jo(t,e){let r=t.schema[e];return r!==void 0&&!Go.alwaysValidSchema(t,r)}xs.default=wp});var Wo=b(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var bp=K(),Ep={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&bp.checkStrictMode(r,`"${t}" without "if" is ignored`)}};Ls.default=Ep});var Bo=b(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});var Sp=Os(),Pp=qo(),Op=qs(),qp=No(),Cp=To(),Np=Io(),Tp=ko(),jp=Rs(),Ap=Vo(),Ip=zo(),Rp=xo(),kp=Lo(),Dp=Ko(),Mp=Ho(),Vp=Yo(),Fp=Wo();function Up(t=!1){let e=[Rp.default,kp.default,Dp.default,Mp.default,Vp.default,Fp.default,Tp.default,jp.default,Np.default,Ap.default,Ip.default];return t?e.push(Pp.default,qp.default):e.push(Sp.default,Op.default),e.push(Cp.default),e}Ks.default=Up});var Qo=b(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});var le=j(),zp={message:({schemaCode:t})=>le.str`must match format "${t}"`,params:({schemaCode:t})=>le._`{format: ${t}}`},xp={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:zp,code(t,e){let{gen:r,data:n,$data:s,schema:i,schemaCode:a,it:l}=t,{opts:d,errSchemaPath:f,schemaEnv:p,self:y}=l;if(!d.validateFormats)return;s?v():$();function v(){let g=r.scopeValue("formats",{ref:y.formats,code:d.code.formats}),w=r.const("fDef",le._`${g}[${a}]`),_=r.let("fType"),S=r.let("format");r.if(le._`typeof ${w} == "object" && !(${w} instanceof RegExp)`,()=>r.assign(_,le._`${w}.type || "string"`).assign(S,le._`${w}.validate`),()=>r.assign(_,le._`"string"`).assign(S,w)),t.fail$data(le.or(M(),ae()));function M(){return d.strictSchema===!1?le.nil:le._`${a} && !${S}`}function ae(){let H=p.$async?le._`(${w}.async ? await ${S}(${n}) : ${S}(${n}))`:le._`${S}(${n})`,L=le._`(typeof ${S} == "function" ? ${H} : ${S}.test(${n}))`;return le._`${S} && ${S} !== true && ${_} === ${e} && !${L}`}}function $(){let g=y.formats[i];if(!g){M();return}if(g===!0)return;let[w,_,S]=ae(g);w===e&&t.pass(H());function M(){if(d.strictSchema===!1){y.logger.warn(L());return}throw new Error(L());function L(){return`unknown format "${i}" ignored in schema at path "${f}"`}}function ae(L){let O=L instanceof RegExp?le.regexpCode(L):d.code.formats?le._`${d.code.formats}${le.getProperty(i)}`:void 0,C=r.scopeValue("formats",{key:i,ref:L,code:O});return typeof L=="object"&&!(L instanceof RegExp)?[L.type||"string",L.validate,le._`${C}.validate`]:["string",L,C]}function H(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!p.$async)throw new Error("async format in sync schema");return le._`await ${S}(${n})`}return typeof _=="function"?le._`${S}(${n})`:le._`${S}.test(${n})`}}}};Hs.default=xp});var Xo=b(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});var Lp=Qo(),Kp=[Lp.default];Gs.default=Kp});var Zo=b(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.contentVocabulary=Wt.metadataVocabulary=void 0;Wt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Wt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var tl=b(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});var Hp=oo(),Gp=Eo(),Jp=Bo(),Yp=Xo(),el=Zo(),Wp=[Hp.default,Gp.default,Jp.default(),Yp.default,el.metadataVocabulary,el.contentVocabulary];Js.default=Wp});var rl=b(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.DiscrError=void 0;var Bp;(function(t){t.Tag="tag",t.Mapping="mapping"})(Bp=Tr.DiscrError||(Tr.DiscrError={}))});var nl=b(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});var Bt=j(),Ys=rl(),Qp={message:({params:{discrError:t,tagName:e}})=>t===Ys.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>Bt._`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Xp={keyword:"discriminator",type:"object",schemaType:"object",error:Qp,code(t){let{gen:e,data:r,schema:n,parentSchema:s,it:i}=t,{oneOf:a}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let l=n.propertyName;if(typeof l!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let d=e.let("valid",!1),f=e.const("tag",Bt._`${r}${Bt.getProperty(l)}`);e.if(Bt._`typeof ${f} == "string"`,()=>p(),()=>t.error(!1,{discrError:Ys.DiscrError.Tag,tag:f,tagName:l})),t.ok(d);function p(){let $=v();e.if(!1);for(let g in $)e.elseIf(Bt._`${f} === ${g}`),e.assign(d,y($[g]));e.else(),t.error(!1,{discrError:Ys.DiscrError.Mapping,tag:f,tagName:l}),e.endIf()}function y($){let g=e.name("valid"),w=t.subschema({keyword:"oneOf",schemaProp:$},g);return t.mergeEvaluated(w,Bt.Name),g}function v(){var $;let g={},w=S(s),_=!0;for(let H=0;H<a.length;H++){let L=a[H],O=($=L.properties)===null||$===void 0?void 0:$[l];if(typeof O!="object")throw new Error(`discriminator: oneOf schemas must have "properties/${l}"`);_=_&&(w||S(L)),M(O,H)}if(!_)throw new Error(`discriminator: "${l}" must be required`);return g;function S({required:H}){return Array.isArray(H)&&H.includes(l)}function M(H,L){if(H.const)ae(H.const,L);else if(H.enum)for(let O of H.enum)ae(O,L);else throw new Error(`discriminator: "properties/${l}" must have "const" or "enum"`)}function ae(H,L){if(typeof H!="string"||H in g)throw new Error(`discriminator: "${l}" values must be unique strings`);g[H]=L}}}};Ws.default=Xp});var sl=b((ly,Zp)=>{Zp.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var hn=b((fe,al)=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.CodeGen=fe.Name=fe.nil=fe.stringify=fe.str=fe._=fe.KeywordCxt=void 0;var em=to(),tm=tl(),rm=nl(),il=sl(),nm=["/properties"],mn="http://json-schema.org/draft-07/schema",Bs=class extends em.default{_addVocabularies(){super._addVocabularies(),tm.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(rm.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(il,nm):il;this.addMetaSchema(e,mn,!1),this.refs["http://json-schema.org/schema"]=mn}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(mn)?mn:void 0)}};al.exports=fe=Bs;Object.defineProperty(fe,"__esModule",{value:!0});fe.default=Bs;var sm=Gt();Object.defineProperty(fe,"KeywordCxt",{enumerable:!0,get:function(){return sm.KeywordCxt}});var Qt=j();Object.defineProperty(fe,"_",{enumerable:!0,get:function(){return Qt._}});Object.defineProperty(fe,"str",{enumerable:!0,get:function(){return Qt.str}});Object.defineProperty(fe,"stringify",{enumerable:!0,get:function(){return Qt.stringify}});Object.defineProperty(fe,"nil",{enumerable:!0,get:function(){return Qt.nil}});Object.defineProperty(fe,"Name",{enumerable:!0,get:function(){return Qt.Name}});Object.defineProperty(fe,"CodeGen",{enumerable:!0,get:function(){return Qt.CodeGen}})});var cl=b(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.formatNames=Qe.fastFormats=Qe.fullFormats=void 0;function Xt(t,e){return{validate:t,compare:e}}Qe.fullFormats={date:Xt(ol,Qs),time:Xt(ll,Zs),"date-time":Xt(lm,ul),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:dm,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:pm,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/};Qe.fastFormats=de(ee({},Qe.fullFormats),{date:Xt(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Qs),time:Xt(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Zs),"date-time":Xt(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,ul),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});Qe.formatNames=Object.keys(Qe.fullFormats);function im(t){return t%4==0&&(t%100!=0||t%400==0)}var am=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,om=[0,31,28,31,30,31,30,31,31,30,31,30,31];function ol(t){let e=am.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],s=+e[3];return n>=1&&n<=12&&s>=1&&s<=(n===2&&im(r)?29:om[n])}function Qs(t,e){if(!!(t&&e))return t>e?1:t<e?-1:0}var Xs=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function ll(t,e){let r=Xs.exec(t);if(!r)return!1;let n=+r[1],s=+r[2],i=+r[3],a=r[5];return(n<=23&&s<=59&&i<=59||n===23&&s===59&&i===60)&&(!e||a!=="")}function Zs(t,e){if(!(t&&e))return;let r=Xs.exec(t),n=Xs.exec(e);if(!!(r&&n))return t=r[1]+r[2]+r[3]+(r[4]||""),e=n[1]+n[2]+n[3]+(n[4]||""),t>e?1:t<e?-1:0}var ei=/t|\s/i;function lm(t){let e=t.split(ei);return e.length===2&&ol(e[0])&&ll(e[1],!0)}function ul(t,e){if(!(t&&e))return;let[r,n]=t.split(ei),[s,i]=e.split(ei),a=Qs(r,s);if(a!==void 0)return a||Zs(n,i)}var um=/\/|:/,cm=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function dm(t){return um.test(t)&&cm.test(t)}var fm=/[^\\]\\Z/;function pm(t){if(fm.test(t))return!1;try{return new RegExp(t),!0}catch(e){return!1}}});var dl=b(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.formatLimitDefinition=void 0;var mm=hn(),Ve=j(),pt=Ve.operators,yn={formatMaximum:{okStr:"<=",ok:pt.LTE,fail:pt.GT},formatMinimum:{okStr:">=",ok:pt.GTE,fail:pt.LT},formatExclusiveMaximum:{okStr:"<",ok:pt.LT,fail:pt.GTE},formatExclusiveMinimum:{okStr:">",ok:pt.GT,fail:pt.LTE}},hm={message:({keyword:t,schemaCode:e})=>Ve.str`should be ${yn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>Ve._`{comparison: ${yn[t].okStr}, limit: ${e}}`};Zt.formatLimitDefinition={keyword:Object.keys(yn),type:"string",schemaType:"string",$data:!0,error:hm,code(t){let{gen:e,data:r,schemaCode:n,keyword:s,it:i}=t,{opts:a,self:l}=i;if(!a.validateFormats)return;let d=new mm.KeywordCxt(i,l.RULES.all.format.definition,"format");d.$data?f():p();function f(){let v=e.scopeValue("formats",{ref:l.formats,code:a.code.formats}),$=e.const("fmt",Ve._`${v}[${d.schemaCode}]`);t.fail$data(Ve.or(Ve._`typeof ${$} != "object"`,Ve._`${$} instanceof RegExp`,Ve._`typeof ${$}.compare != "function"`,y($)))}function p(){let v=d.schema,$=l.formats[v];if(!$||$===!0)return;if(typeof $!="object"||$ instanceof RegExp||typeof $.compare!="function")throw new Error(`"${s}": format "${v}" does not define "compare" function`);let g=e.scopeValue("formats",{key:v,ref:$,code:a.code.formats?Ve._`${a.code.formats}${Ve.getProperty(v)}`:void 0});t.fail$data(y(g))}function y(v){return Ve._`${v}.compare(${r}, ${n}) ${yn[s].fail} 0`}},dependencies:["format"]};var ym=t=>(t.addKeyword(Zt.formatLimitDefinition),t);Zt.default=ym});var hl=b((jr,ml)=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});var er=cl(),gm=dl(),ti=j(),fl=new ti.Name("fullFormats"),$m=new ti.Name("fastFormats"),ri=(t,e={keywords:!0})=>{if(Array.isArray(e))return pl(t,e,er.fullFormats,fl),t;let[r,n]=e.mode==="fast"?[er.fastFormats,$m]:[er.fullFormats,fl],s=e.formats||er.formatNames;return pl(t,s,r,n),e.keywords&&gm.default(t),t};ri.get=(t,e="full")=>{let n=(e==="fast"?er.fastFormats:er.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function pl(t,e,r,n){var s,i;(s=(i=t.opts.code).formats)!==null&&s!==void 0||(i.formats=ti._`require("ajv-formats/dist/formats").${n}`);for(let a of e)t.addFormat(a,r[a])}ml.exports=jr=ri;Object.defineProperty(jr,"__esModule",{value:!0});jr.default=ri});var vl=b((si,ii)=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});var E=hn(),mt=j(),yl=Vt(),vm=Gt(),Ar=zt(),Fe=Je(),gn="errorMessage",ht=new E.Name("emUsed"),gl={required:"missingProperty",dependencies:"property",dependentRequired:"property"},$l=/\$\{[^}]+\}/,_m=/\$\{([^}]+)\}/g,wm=/^""\s*\+\s*|\s*\+\s*""$/g;function bm(t){return{keyword:gn,schemaType:["string","object"],post:!0,code(e){let{gen:r,data:n,schema:s,schemaValue:i,it:a}=e;if(a.createErrors===!1)return;let l=s,d=mt.strConcat(Fe.default.instancePath,a.errorPath);r.if(E._`${Fe.default.errors} > 0`,()=>{if(typeof l=="object"){let[C,D]=p(l);D&&y(D),C&&v(C),$(f(l))}let O=typeof l=="string"?l:l._;O&&g(O),t.keepErrors||w()});function f({properties:O,items:C}){let D={};if(O){D.props={};for(let G in O)D.props[G]=[]}if(C){D.items={};for(let G=0;G<C.length;G++)D.items[G]=[]}return D}function p(O){let C,D;for(let G in O){if(G==="properties"||G==="items")continue;let B=O[G];if(typeof B=="object"){C||(C={});let oe=C[G]={};for(let I in B)oe[I]=[]}else D||(D={}),D[G]=[]}return[C,D]}function y(O){let C=r.const("emErrors",E.stringify(O)),D=r.const("templates",ae(O,s));r.forOf("err",Fe.default.vErrors,I=>r.if(_(I,C),()=>r.code(E._`${C}[${I}.keyword].push(${I})`).assign(E._`${I}.${ht}`,!0)));let{singleError:G}=t;if(G){let I=r.let("message",E._`""`),J=r.let("paramsErrors",E._`[]`);B(Pe=>{r.if(I,()=>r.code(E._`${I} += ${typeof G=="string"?G:";"}`)),r.code(E._`${I} += ${oe(Pe)}`),r.assign(J,E._`${J}.concat(${C}[${Pe}])`)}),Ar.reportError(e,{message:I,params:E._`{errors: ${J}}`})}else B(I=>Ar.reportError(e,{message:oe(I),params:E._`{errors: ${C}[${I}]}`}));function B(I){r.forIn("key",C,J=>r.if(E._`${C}[${J}].length`,()=>I(J)))}function oe(I){return E._`${I} in ${D} ? ${D}[${I}]() : ${i}[${I}]`}}function v(O){let C=r.const("emErrors",E.stringify(O)),D=[];for(let J in O)D.push([J,ae(O[J],s[J])]);let G=r.const("templates",r.object(...D)),B=r.scopeValue("obj",{ref:gl,code:E.stringify(gl)}),oe=r.let("emPropParams"),I=r.let("emParamsErrors");r.forOf("err",Fe.default.vErrors,J=>r.if(_(J,C),()=>{r.assign(oe,E._`${B}[${J}.keyword]`),r.assign(I,E._`${C}[${J}.keyword][${J}.params[${oe}]]`),r.if(I,()=>r.code(E._`${I}.push(${J})`).assign(E._`${J}.${ht}`,!0))})),r.forIn("key",C,J=>r.forIn("keyProp",E._`${C}[${J}]`,Pe=>{r.assign(I,E._`${C}[${J}][${Pe}]`),r.if(E._`${I}.length`,()=>{let Ue=r.const("tmpl",E._`${G}[${J}] && ${G}[${J}][${Pe}]`);Ar.reportError(e,{message:E._`${Ue} ? ${Ue}() : ${i}[${J}][${Pe}]`,params:E._`{errors: ${I}}`})})}))}function $(O){let{props:C,items:D}=O;if(!C&&!D)return;let G=E._`typeof ${n} == "object"`,B=E._`Array.isArray(${n})`,oe=r.let("emErrors"),I,J,Pe=r.let("templates");C&&D?(I=r.let("emChildKwd"),r.if(G),r.if(B,()=>{Ue(D,s.items),r.assign(I,E.str`items`)},()=>{Ue(C,s.properties),r.assign(I,E.str`properties`)}),J=E._`[${I}]`):D?(r.if(B),Ue(D,s.items),J=E._`.items`):C&&(r.if(mt.and(G,mt.not(B))),Ue(C,s.properties),J=E._`.properties`),r.forOf("err",Fe.default.vErrors,$e=>S($e,oe,nr=>r.code(E._`${oe}[${nr}].push(${$e})`).assign(E._`${$e}.${ht}`,!0))),r.forIn("key",oe,$e=>r.if(E._`${oe}[${$e}].length`,()=>{Ar.reportError(e,{message:E._`${$e} in ${Pe} ? ${Pe}[${$e}]() : ${i}${J}[${$e}]`,params:E._`{errors: ${oe}[${$e}]}`}),r.assign(E._`${Fe.default.vErrors}[${Fe.default.errors}-1].instancePath`,E._`${d} + "/" + ${$e}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),r.endIf();function Ue($e,nr){r.assign(oe,E.stringify($e)),r.assign(Pe,ae($e,nr))}}function g(O){let C=r.const("emErrs",E._`[]`);r.forOf("err",Fe.default.vErrors,D=>r.if(M(D),()=>r.code(E._`${C}.push(${D})`).assign(E._`${D}.${ht}`,!0))),r.if(E._`${C}.length`,()=>Ar.reportError(e,{message:H(O),params:E._`{errors: ${C}}`}))}function w(){let O=r.const("emErrs",E._`[]`);r.forOf("err",Fe.default.vErrors,C=>r.if(E._`!${C}.${ht}`,()=>r.code(E._`${O}.push(${C})`))),r.assign(Fe.default.vErrors,O).assign(Fe.default.errors,E._`${O}.length`)}function _(O,C){return mt.and(E._`${O}.keyword !== ${gn}`,E._`!${O}.${ht}`,E._`${O}.instancePath === ${d}`,E._`${O}.keyword in ${C}`,E._`${O}.schemaPath.indexOf(${a.errSchemaPath}) === 0`,E._`/^\\/[^\\/]*$/.test(${O}.schemaPath.slice(${a.errSchemaPath.length}))`)}function S(O,C,D){r.if(mt.and(E._`${O}.keyword !== ${gn}`,E._`!${O}.${ht}`,E._`${O}.instancePath.indexOf(${d}) === 0`),()=>{let G=r.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:E._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),B=r.const("emMatches",E._`${G}.exec(${O}.instancePath.slice(${d}.length))`),oe=r.const("emChild",E._`${B} && ${B}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);r.if(E._`${oe} !== undefined && ${oe} in ${C}`,()=>D(oe))})}function M(O){return mt.and(E._`${O}.keyword !== ${gn}`,E._`!${O}.${ht}`,mt.or(E._`${O}.instancePath === ${d}`,mt.and(E._`${O}.instancePath.indexOf(${d}) === 0`,E._`${O}.instancePath[${d}.length] === "/"`)),E._`${O}.schemaPath.indexOf(${a.errSchemaPath}) === 0`,E._`${O}.schemaPath[${a.errSchemaPath}.length] === "/"`)}function ae(O,C){let D=[];for(let G in O){let B=C[G];$l.test(B)&&D.push([G,L(B)])}return r.object(...D)}function H(O){return $l.test(O)?new yl._Code(yl.safeStringify(O).replace(_m,(C,D)=>`" + JSON.stringify(${vm.getData(D,a)}) + "`).replace(wm,"")):E.stringify(O)}function L(O){return E._`function(){return ${H(O)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}var ni=(t,e={})=>{if(!t.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(t.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return t.addKeyword(bm(e))};si.default=ni;ii.exports=ni;ii.exports.default=ni});var _l=b((dy,Em)=>{Em.exports={title:"analytics.txt",description:"A schema for validating analytics.txt files as specified in draft-ring-analyticstxt-00",$schema:"http://json-schema.org/draft-07/schema#",definitions:{FieldComments:{type:"array",items:{type:"string"}},Author:{type:"array",minItems:1,maxItems:1,items:{oneOf:[{type:"string",format:"email"},{type:"string",pattern:"^.+\\s<[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?>$"}]}},NoneValue:{description:"A single value 'none' is given",type:"array",items:{enum:["none"]},minItems:1,maxItems:1},SingleValue:{description:"A single arbitrary string value is given",type:"array",items:{type:"string"},minItems:1,maxItems:1},UniqueValues:{description:"A non-empty list of unique strings",type:"array",uniqueItems:!0,minItems:1,items:{type:"string"}},Ordering:{uniqueItems:!0,type:"array",items:{type:"string"}}},oneOf:[{type:"object",description:"A declaration where data is being collected",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/Author"}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["url","ip-address","geo-location","user-agent","fingerprint","device-type","referrer","visit-duration","custom-events","session-recording"]}}]}}},Stores:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["first-party-cookies","third-party-cookies","local-storage","cache"]}}]}]}}},Uses:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["javascript","pixel","server-side","logs","other"]}}]}}},Allows:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["opt-in","opt-out"]}}]}]}}},Retains:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/SingleValue"},{oneOf:[{type:"array",items:{oneOf:[{type:"string",format:"duration"},{type:"string",enum:["perpetual"]}]}}]}]}}},Honors:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["do-not-track","global-privacy-control"]}}]}]}}},Tracks:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/UniqueValues"},{oneOf:[{$ref:"#/definitions/NoneValue"},{type:"array",items:{enum:["sessions","users"]}}]}]}}},Varies:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{allOf:[{$ref:"#/definitions/SingleValue"},{type:"array",items:{enum:["none","random","behavioral"]}}]}}},Shares:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["per-user","general-public","third-party"]}}]}]}}},Implements:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/UniqueValues"}}},Deploys:{additionalProperties:!1,type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/UniqueValues"}}}},required:["Author","Collects","Stores","Uses","Allows","Retains"],additionalProperties:!1},{type:"object",description:"A file declaring that no data is collected",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/Author"}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{$ref:"#/definitions/NoneValue"}}}},required:["Author","Collects"],additionalProperties:!1}]}});var wl=b((fy,Sm)=>{Sm.exports={title:"analytics.txt",description:"A schema for validating analytics.txt files as specified in draft-ring-analyticstxt-01",errorMessage:{oneOf:"The given data did neither match a full or a minimal definition."},$schema:"http://json-schema.org/draft-07/schema#",oneOf:[{title:"Full Definition",errorMessage:"A full definition must contain all fields required by the specification and can also contain optional fields.",description:"A declaration where data is being collected",type:"object",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, the Author field must be a proper name-addr.",type:"array",minItems:1,maxItems:1,items:{oneOf:[{type:"string",format:"email"},{$ref:"#/definitions/name-addr"}]}}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Collects is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["url","ip-address","geo-location","user-agent","fingerprint","device-type","referrer","visit-duration","custom-events","session-recording"]}}]}}},Stores:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Stores is expected to be a list containing allowed items only.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["first-party-cookies","third-party-cookies","local-storage","cache"]}}]}]}}},Uses:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Uses is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["javascript","pixel","server-side","logs","other"]}}]}}},Allows:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Allows is expected to be 'none' or a list containing allowed items only.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["opt-in","opt-out"]}}]}]}}},Retains:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Retains is expected to be a duration as per ISO8601 or the value 'perpetual'.",allOf:[{$ref:"#/definitions/SingleValue"},{oneOf:[{type:"array",items:{oneOf:[{type:"string",format:"duration"},{type:"string",enum:["perpetual"]}]}}]}]}}},Honors:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Honors is expected to be either 'none' or a list of allowed items.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["do-not-track","global-privacy-control"]}}]}]}}},Tracks:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Tracks is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{oneOf:[{$ref:"#/definitions/NoneValue"},{type:"array",items:{enum:["sessions","users"]}}]}]}}},Varies:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Varies is expected to be a single, allowed value.",allOf:[{$ref:"#/definitions/SingleValue"},{type:"array",items:{enum:["none","random","behavioral","geographic"]}}]}}},Shares:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Shares is expected to be a combination of allowed values or 'none'.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["per-user","general-public","third-party"]}}]}]}}},Implements:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Implements is expected to be a list of unique items.",oneOf:[{$ref:"#/definitions/UniqueValues"}]}}},Deploys:{additionalProperties:!1,type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Deploys is expected to be a list of unique items.",oneOf:[{$ref:"#/definitions/UniqueValues"}]}}}},required:["Author","Collects","Stores","Uses","Allows","Retains"],additionalProperties:!1},{title:"MinimalDefinition",description:"A file declaring that no data is collected",type:"object",errorMessage:"A minimal definition is composed of an Author field and a Collects field with the single value none.",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{type:"array",minItems:1,maxItems:1,items:{errorMessage:"The Author field must contain an optional name and a required email address in 'name-addr' form.",oneOf:[{type:"string",format:"email"},{$ref:"#/definitions/name-addr"}]}}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a minimal definition, the only Value in the Collects field must be 'none'.",oneOf:[{$ref:"#/definitions/NoneValue"}]}}}},required:["Author","Collects"],additionalProperties:!1}],definitions:{FieldComments:{type:"array",items:{type:"string"}},"name-addr":{type:"string",pattern:"^.+\\s<[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?>$"},NoneValue:{description:"A single value 'none' is given",type:"array",items:{enum:["none"]},minItems:1,maxItems:1},SingleValue:{description:"A single arbitrary string value is given",type:"array",items:{type:"string"},minItems:1,maxItems:1},UniqueValues:{description:"A non-empty list of unique strings",type:"array",uniqueItems:!0,minItems:1,items:{type:"string"}},Ordering:{uniqueItems:!0,type:"array",items:{type:"string"}}}}});var bl=b((py,Pm)=>{Pm.exports={title:"analytics.txt",description:"A schema for validating analytics.txt files as specified in draft-ring-analyticstxt-02",errorMessage:{oneOf:"The given data did neither match a full or a minimal definition."},$schema:"http://json-schema.org/draft-07/schema#",oneOf:[{title:"Full Definition",errorMessage:"A full definition must contain all fields required by the specification and can also contain optional fields.",description:"A declaration where data is being collected",type:"object",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, the Author field must be a proper name-addr.",type:"array",minItems:1,maxItems:1,items:{oneOf:[{type:"string",format:"email"},{$ref:"#/definitions/name-addr"}]}}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Collects is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["url","ip-address","geo-location","user-agent","fingerprint","device-type","referrer","visit-duration","custom-events","session-recording"]}}]}}},Stores:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Stores is expected to be a list containing allowed items only.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["first-party-cookies","third-party-cookies","local-storage","cache"]}}]}]}}},Uses:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Uses is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["javascript","pixel","server-side","logs","other"]}}]}}},Allows:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Allows is expected to be 'none' or a list containing allowed items only.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["opt-in","opt-out"]}}]}]}}},Retains:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Retains is expected to be a number of days 'perpetual'.",allOf:[{$ref:"#/definitions/SingleValue"},{oneOf:[{type:"array",items:{oneOf:[{type:"string",pattern:"^\\d+\\s*days$"},{type:"string",enum:["perpetual"]}]}}]}]}}},Honors:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Honors is expected to be either 'none' or a list of allowed items.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["do-not-track","global-privacy-control"]}}]}]}}},Tracks:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Tracks is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{oneOf:[{$ref:"#/definitions/NoneValue"},{type:"array",items:{enum:["sessions","users"]}}]}]}}},Varies:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Varies is expected to be a single, allowed value.",allOf:[{$ref:"#/definitions/SingleValue"},{type:"array",items:{enum:["none","random","behavioral","geographic"]}}]}}},Shares:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Shares is expected to be a combination of allowed values or 'none'.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["per-user","general-public","third-party"]}}]}]}}},Implements:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Implements is expected to be a list of unique items.",oneOf:[{$ref:"#/definitions/UniqueValues"}]}}},Deploys:{additionalProperties:!1,type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Deploys is expected to be a list of unique items.",oneOf:[{$ref:"#/definitions/UniqueValues"}]}}}},required:["Author","Collects","Stores","Uses","Allows","Retains"],additionalProperties:!1},{title:"MinimalDefinition",description:"A file declaring that no data is collected",type:"object",errorMessage:"A minimal definition is composed of an Author field and a Collects field with the single value none.",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{type:"array",minItems:1,maxItems:1,items:{errorMessage:"The Author field must contain an optional name and a required email address in 'name-addr' form.",oneOf:[{type:"string",format:"email"},{$ref:"#/definitions/name-addr"}]}}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a minimal definition, the only Value in the Collects field must be 'none'.",oneOf:[{$ref:"#/definitions/NoneValue"}]}}}},required:["Author","Collects"],additionalProperties:!1}],definitions:{FieldComments:{type:"array",items:{type:"string"}},"name-addr":{type:"string",pattern:"^.+\\s<[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?>$"},NoneValue:{description:"A single value 'none' is given",type:"array",items:{enum:["none"]},minItems:1,maxItems:1},SingleValue:{description:"A single arbitrary string value is given",type:"array",items:{type:"string"},minItems:1,maxItems:1},UniqueValues:{description:"A non-empty list of unique strings",type:"array",uniqueItems:!0,minItems:1,items:{type:"string"}},Ordering:{uniqueItems:!0,type:"array",items:{type:"string"}}}}});var El=b((my,Om)=>{Om.exports={title:"analytics.txt",description:"A schema for validating analytics.txt files as specified in draft-ring-analyticstxt-03",errorMessage:{oneOf:"The given data did neither match a full or a minimal definition."},$schema:"http://json-schema.org/draft-07/schema#",oneOf:[{title:"Full Definition",errorMessage:"A full definition must contain all fields required by the specification and can also contain optional fields.",description:"A declaration where data is being collected",type:"object",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, the Author field must be a proper name-addr.",type:"array",minItems:1,maxItems:1,items:{oneOf:[{type:"string",format:"email"},{$ref:"#/definitions/name-addr"}]}}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Collects is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["url","ip-address","geo-location","user-agent","fingerprint","device-type","referrer","visit-duration","custom-events","session-recording"]}}]}}},Stores:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Stores is expected to be a list containing allowed items only.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["first-party-cookies","third-party-cookies","local-storage","cache"]}}]}]}}},Uses:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Uses is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["javascript","pixel","server-side","other"]}}]}}},Allows:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Allows is expected to be 'none' or a list containing allowed items only.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["opt-in","opt-out"]}}]}]}}},Retains:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a full definition, Retains is expected to be a number of days 'perpetual'.",allOf:[{$ref:"#/definitions/SingleValue"},{oneOf:[{type:"array",items:{oneOf:[{type:"string",pattern:"^\\d+\\s*days$"},{type:"string",enum:["perpetual"]}]}}]}]}}},Honors:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Honors is expected to be either 'none' or a list of allowed items.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["do-not-track","global-privacy-control"]}}]}]}}},Tracks:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Tracks is expected to be a list containing allowed items only.",allOf:[{$ref:"#/definitions/UniqueValues"},{oneOf:[{$ref:"#/definitions/NoneValue"},{type:"array",items:{enum:["sessions","users"]}}]}]}}},Varies:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Varies is expected to be a single, allowed value.",allOf:[{$ref:"#/definitions/SingleValue"},{type:"array",items:{enum:["none","random","behavioral","geographic"]}}]}}},Shares:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Shares is expected to be a combination of allowed values or 'none'.",oneOf:[{$ref:"#/definitions/NoneValue"},{allOf:[{$ref:"#/definitions/UniqueValues"},{type:"array",items:{enum:["per-user","general-public","third-party"]}}]}]}}},Implements:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Implements is expected to be a list of unique items.",oneOf:[{$ref:"#/definitions/UniqueValues"}]}}},Deploys:{additionalProperties:!1,type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"Deploys is expected to be a list of unique items.",oneOf:[{$ref:"#/definitions/UniqueValues"}]}}}},required:["Author","Collects","Stores","Uses","Allows","Retains"],additionalProperties:!1},{title:"MinimalDefinition",description:"A file declaring that no data is collected",type:"object",errorMessage:"A minimal definition is composed of an Author field and a Collects field with the single value none.",properties:{_ordering:{$ref:"#/definitions/Ordering"},Author:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{type:"array",minItems:1,maxItems:1,items:{errorMessage:"The Author field must contain an optional name and a required email address in 'name-addr' form.",oneOf:[{type:"string",format:"email"},{$ref:"#/definitions/name-addr"}]}}}},Collects:{additionalProperties:!1,required:["values"],type:"object",properties:{comments:{$ref:"#/definitions/FieldComments"},values:{errorMessage:"In a minimal definition, the only Value in the Collects field must be 'none'.",oneOf:[{$ref:"#/definitions/NoneValue"}]}}}},required:["Author","Collects"],additionalProperties:!1}],definitions:{FieldComments:{type:"array",items:{type:"string"}},"name-addr":{type:"string",pattern:"^.+\\s<[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?>$"},NoneValue:{description:"A single value 'none' is given",type:"array",items:{enum:["none"]},minItems:1,maxItems:1},SingleValue:{description:"A single arbitrary string value is given",type:"array",items:{type:"string"},minItems:1,maxItems:1},UniqueValues:{description:"A non-empty list of unique strings",type:"array",uniqueItems:!0,minItems:1,items:{type:"string"}},Ordering:{uniqueItems:!0,type:"array",items:{type:"string"}}}}});var ai=b(tr=>{tr["draft-ring-analyticstxt-00"]=_l();tr["draft-ring-analyticstxt-01"]=wl();tr["draft-ring-analyticstxt-02"]=bl();tr["draft-ring-analyticstxt-03"]=El();tr.defaultVersion="draft-ring-analyticstxt-03"});var Pl=b((yy,Sl)=>{Sl.exports=function(t){let{Author:e={values:[]},Collects:r={values:[]},Stores:n={values:[]},Uses:s={values:[]},Allows:i={values:[]},Retains:a={values:[]}}=t,l=new oi;return l.push(qm(e)),l.push(Cm(r)),l.push(Nm(n)),l.push(Tm(s)),l.push(jm(i)),l.push(Am(a)),l.toString()};function qm(t){let e=new rr;return e.paragraph(`
Website operators collect usage data to measure
user engagement with their sites and services, identify possible issues and
improve user experience. The degree to which this affects users' privacy can
vary drastically.
`),e.paragraph(`
The following is a short summary about an analytics.txt file authored
by ${t.values[0]}, focusing on the user-facing consequences of the
collection of usage data for a specific website or service.
`),e.toString()}function Cm(t){let e=new rr("Collects"),{values:r}=t;if(!r.length||r[0]==="none")return e.push("No usage data is being collected when visiting this site."),e.toString();e.push("On a visit, the site collects the following data:");let n={url:"The URL of the page you are visiting. In almost all cases, this will also include a timestamp.","ip-address":"The IP address you are currently using. It can be used for reidentification without storing any data on your system. This address might be shared with other users that are on the same network as you.","geo-location":"Your geographic location. Depending on the technology used for collecting this information, the resolution might be as low as on country level or very detailed (e.g. the city).","user-agent":"The User-Agent string, which discloses information about the browser and the operating system you are using.",fingerprint:'A "fingerprint" is a combination of multiple charactersistics of the device you are using. By recreating this fingerprint on each visit, it can be used to uniquely identify the device without having to use client-side storage like cookies.',"device-type":"The type of your device, i.e. whether it is a mobile device, a tablet or a desktop device. The exact classification of devices will be specific to the tool used.",referrer:"In case you are visiting the site by referral from another site, the source of the referral is being collected.","visit-duration":"The time spent on the website.","custom-events":"Custom events are recorded on certain, site specific user actions, e.g. when you subscribe to a newsletter or similar.","session-recording":"Your session on the site is recorded in its entirety. This includes scrolling, mouse movement and any other interaction with the site."};for(let s of r)e.push(`- ${n[s]}`);return e.toString()}function Nm(t){let e=new rr("Stores"),{values:r}=t;if(!r.length||r[0]==="none")return null;e.push("On a visit, the site stores the following on your device in order to collect usage data:");let n={"first-party-cookies":"The site is using first party cookies. This can be used to reidentify you on subsequent visits. Cookies usually either expire at some point in time or are refreshed on a susbsequent visit. Your browser allows you to block or delete cookies at any time.","third-party-cookies":"The site is using third party cookies. This can be used to reidentify you on other websites and connect your usage patterns. Third party cookies are blocked by default in many modern browsers.","local-storage":"Local Storage is used. This can be used to reidentify you on susbsequent visits to this site, or to temporarily or permanently store other data.",cache:"The default caching behavior of your browser is used to uniquely identify your device. This can be used to reidentify you across multiple websites."};for(let s of r)e.push(`- ${n[s]}`);return e.toString()}function Tm(t){let e=new rr("Uses"),{values:r}=t;if(!r.length||r[0]==="none")return null;e.push("The following technologies are used to collect data about your visit:");let n={javascript:'The site is using a client side script running on your device to collect data. Theoretically, this allows for collecting a broad range of information about your device and usage patterns. The "Collects" section contains further information about what exactly is being collected.',pixel:'The site is using a so-called "tracking pixel" to collect data. This delivers a limited set of data but is very robust and more difficult to block.',"server-side":"The site is using server-side technology (e.g. server logs) to collect usage data. The set of data is limited, however this technology cannot be blocked by clients in any way.",other:"The site is using other means of collecting usage data. You can check the comments of the analytics.txt file for further information."};for(let s of r)e.push(`- ${n[s]}`);return e.toString()}function jm(t){let e=new rr("Allows"),{values:r}=t;if(!r.length)return null;if(r[0]==="none")return e.push("The site does not allow you to opt-in or opt-out of data collection. It will try to collect data no matter your preferences."),e.toString();e.push("The site allows for the following actions regarding your consent decision:");let n={"opt-in":"The site allows you to opt in to the collection of usage data. No usage data is collected before you have actively given consent.","opt-out":"The site allows you to opt out of data collection at any time."};for(let s of r)e.push(`- ${n[s]}`);return e.toString()}function Am(t){let e=new rr("Retains"),{values:[r]}=t;if(!r)return null;if(r==="perpetual")return e.push("The site is retaining usage data with no set limit."),e.toString();let[n]=r.match(/^\d+/);return e.push(`The site is retaining the collected usage data for ${n} days and deleted afterwards.`),e.toString()}function rr(t){let e=new oi;this.push=e.push.bind(e),this.paragraph=e.paragraph.bind(e),this.toString=function(){let r=new oi;return t&&(r.push(`## ${t}`),r.push(`
`)),r.push(e.toString()),r.toString()+`
`}}function oi(){let t=[];this.push=function(){t.push.apply(t,[].slice.call(arguments).filter(Boolean))},this.paragraph=function(e){this.push(e.split(`
`).join(" "))},this.toString=function(){return t.map(e=>e.trimStart()).join(`
`)}}});var Tl=b(Ir=>{var Im=hn(),Rm=hl(),km=vl(),Ol=ai(),Dm=Pl(),{defaultVersion:$n}=Ol;Ir.validate=Mm;function Mm(t,{draftName:e=$n}={}){let[r,n]=Cl(t);return n||li(r,e)}Ir.parse=ql;function ql(t,{draftName:e=$n,lax:r=!1}={}){let[n,s]=Cl(t);if(s)return[null,s];let i=r?null:li(n,e);return[n,i]}Ir.serialize=Vm;function Vm(t,{draftName:e=$n,lax:r=!1}={}){let n=r?null:li(t,e);return n?[null,n]:Um(t)}Ir.explain=Fm;function Fm(t,{draftName:e=$n,lax:r=!1}={}){let[n,s]=ql(t);return s?[null,s]:Lm(n)}function li(t,e){let r=Ol[e];if(!r)throw new Error(`Schema for ${e} is unknown.`);let n=new Im({allErrors:!0});Rm(n),km(n);let s=n.compile(r);if(s(t))return null;let a=s.errors.filter(function(l){return l.keyword==="errorMessage"}).sort(function(l,d){return l.schemaPath.localeCompare(d.schemaPath)}).map(function(l){return l.message}).join(" ");return new Error(a)}function Um(t){let e=[];for(let r of t._ordering||Object.keys(t)){let{values:n,comments:s}=t[r];if(!Array.isArray(n)||n.some(i=>typeof i!="string"))return[null,new Error("Only string arrays can be used as values")];if(Array.isArray(s))for(let i of s)e.push(`# ${i}`);e.push(`${Nl(r)}: ${n.join(", ")}`)}return[e.join(`
`)+`
`,null]}function Cl(t){let e={_ordering:[]},r=[];for(let[n,s]of t.split(/\r?\n/).entries()){let i;try{i=zm(s)}catch(y){let v=new Error(`Unexpected error parsing line ${n+1}: ${y.message}`);return[null,v]}let{error:a,isEmpty:l,comment:d,field:f,values:p}=i;if(a){let y=new Error(`Failed to parse line ${n+1}: ${a.message}`);return[null,y]}if(!l){if(d){r.push(d);continue}if(f in e){let y=new Error(`Field "${f}" redefined on line ${n+1}. Field names can only occur once.`);return[null,y]}e._ordering.push(f),e[f]={values:p},r.length&&(e[f].comments=r),r=[]}}return[e,null]}function zm(t){t=t.trim();let e={error:null,field:null,values:null,comment:null,isEmpty:!1};if(!t)return de(ee({},e),{isEmpty:!0});if(/^#/.test(t))return de(ee({},e),{comment:t.replace(/^#\s+/,"")});let[r,n]=t.split(":");if(!r||!n){let s=new Error("No field name or value found.");return de(ee({},e),{error:s})}return de(ee({},e),{field:Nl(r),values:xm(n)})}function Nl(t){return t.split("").map((e,r)=>r?e:e.toUpperCase()).join("")}function xm(t){return t.split(",").map(e=>e.trim())}function Lm(t){try{return[Dm(t),null]}catch(e){return[null,e]}}});var Km=b(($y,kl)=>{var{validate:jl,parse:Al,serialize:Il,explain:Rl}=Tl(),ui=ai();kl.exports={validate:jl,mustValidate:vn(jl),parse:Al,mustParse:vn(Al),serialize:Il,mustSerialize:vn(Il),explain:Rl,mustExplain:vn(Rl),defaultVersion:ui.defaultVersion,schema:ui[ui.defaultVersion]};function vn(t){return function(){let e=t.apply(null,arguments);if(Array.isArray(e)){if(e[1])throw e[1];return e[0]}if(e)throw e}}});return Km();})();
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
